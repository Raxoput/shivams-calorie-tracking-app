(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function P_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var U_={exports:{}},xc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OA=Symbol.for("react.transitional.element"),MA=Symbol.for("react.fragment");function L_(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var s in e)s!=="key"&&(n[s]=e[s])}else n=e;return e=n.ref,{$$typeof:OA,type:t,key:i,ref:e!==void 0?e:null,props:n}}xc.Fragment=MA;xc.jsx=L_;xc.jsxs=L_;U_.exports=xc;var v=U_.exports,j_={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d=Symbol.for("react.transitional.element"),VA=Symbol.for("react.portal"),kA=Symbol.for("react.fragment"),PA=Symbol.for("react.strict_mode"),UA=Symbol.for("react.profiler"),LA=Symbol.for("react.consumer"),jA=Symbol.for("react.context"),zA=Symbol.for("react.forward_ref"),BA=Symbol.for("react.suspense"),qA=Symbol.for("react.memo"),z_=Symbol.for("react.lazy"),Op=Symbol.iterator;function HA(t){return t===null||typeof t!="object"?null:(t=Op&&t[Op]||t["@@iterator"],typeof t=="function"?t:null)}var B_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q_=Object.assign,H_={};function Wr(t,e,n){this.props=t,this.context=e,this.refs=H_,this.updater=n||B_}Wr.prototype.isReactComponent={};Wr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function F_(){}F_.prototype=Wr.prototype;function Yd(t,e,n){this.props=t,this.context=e,this.refs=H_,this.updater=n||B_}var Kd=Yd.prototype=new F_;Kd.constructor=Yd;q_(Kd,Wr.prototype);Kd.isPureReactComponent=!0;var Mp=Array.isArray,qe={H:null,A:null,T:null,S:null,V:null},G_=Object.prototype.hasOwnProperty;function Xd(t,e,n,i,s,r){return n=r.ref,{$$typeof:$d,type:t,key:e,ref:n!==void 0?n:null,props:r}}function FA(t,e){return Xd(t.type,e,void 0,void 0,void 0,t.props)}function Zd(t){return typeof t=="object"&&t!==null&&t.$$typeof===$d}function GA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vp=/\/+/g;function Ch(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GA(""+t.key):e.toString(36)}function kp(){}function QA(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(kp,kp):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function tr(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case $d:case VA:a=!0;break;case z_:return a=t._init,tr(a(t._payload),e,n,i,s)}}if(a)return s=s(t),a=i===""?"."+Ch(t,0):i,Mp(s)?(n="",a!=null&&(n=a.replace(Vp,"$&/")+"/"),tr(s,e,n,"",function(h){return h})):s!=null&&(Zd(s)&&(s=FA(s,n+(s.key==null||t&&t.key===s.key?"":(""+s.key).replace(Vp,"$&/")+"/")+a)),e.push(s)),1;a=0;var l=i===""?".":i+":";if(Mp(t))for(var u=0;u<t.length;u++)i=t[u],r=l+Ch(i,u),a+=tr(i,e,n,r,s);else if(u=HA(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,r=l+Ch(i,u++),a+=tr(i,e,n,r,s);else if(r==="object"){if(typeof t.then=="function")return tr(QA(t),e,n,i,s);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Nl(t,e,n){if(t==null)return t;var i=[],s=0;return tr(t,i,"","",function(r){return e.call(n,r,s++)}),i}function $A(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pp=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function YA(){}ue.Children={map:Nl,forEach:function(t,e,n){Nl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nl(t,function(){e++}),e},toArray:function(t){return Nl(t,function(e){return e})||[]},only:function(t){if(!Zd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=Wr;ue.Fragment=kA;ue.Profiler=UA;ue.PureComponent=Yd;ue.StrictMode=PA;ue.Suspense=BA;ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qe;ue.__COMPILER_RUNTIME={__proto__:null,c:function(t){return qe.H.useMemoCache(t)}};ue.cache=function(t){return function(){return t.apply(null,arguments)}};ue.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=q_({},t.props),s=t.key,r=void 0;if(e!=null)for(a in e.ref!==void 0&&(r=void 0),e.key!==void 0&&(s=""+e.key),e)!G_.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return Xd(t.type,s,void 0,void 0,r,i)};ue.createContext=function(t){return t={$$typeof:jA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:LA,_context:t},t};ue.createElement=function(t,e,n){var i,s={},r=null;if(e!=null)for(i in e.key!==void 0&&(r=""+e.key),e)G_.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return Xd(t,r,void 0,void 0,null,s)};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:zA,render:t}};ue.isValidElement=Zd;ue.lazy=function(t){return{$$typeof:z_,_payload:{_status:-1,_result:t},_init:$A}};ue.memo=function(t,e){return{$$typeof:qA,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=qe.T,n={};qe.T=n;try{var i=t(),s=qe.S;s!==null&&s(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(YA,Pp)}catch(r){Pp(r)}finally{qe.T=e}};ue.unstable_useCacheRefresh=function(){return qe.H.useCacheRefresh()};ue.use=function(t){return qe.H.use(t)};ue.useActionState=function(t,e,n){return qe.H.useActionState(t,e,n)};ue.useCallback=function(t,e){return qe.H.useCallback(t,e)};ue.useContext=function(t){return qe.H.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t,e){return qe.H.useDeferredValue(t,e)};ue.useEffect=function(t,e,n){var i=qe.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};ue.useId=function(){return qe.H.useId()};ue.useImperativeHandle=function(t,e,n){return qe.H.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return qe.H.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return qe.H.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return qe.H.useMemo(t,e)};ue.useOptimistic=function(t,e){return qe.H.useOptimistic(t,e)};ue.useReducer=function(t,e,n){return qe.H.useReducer(t,e,n)};ue.useRef=function(t){return qe.H.useRef(t)};ue.useState=function(t){return qe.H.useState(t)};ue.useSyncExternalStore=function(t,e,n){return qe.H.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return qe.H.useTransition()};ue.version="19.1.0";j_.exports=ue;var W=j_.exports;const KA=P_(W);var Q_={exports:{}},Ic={},$_={exports:{}},Y_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,ee){var te=G.length;G.push(ee);e:for(;0<te;){var j=te-1>>>1,se=G[j];if(0<s(se,ee))G[j]=ee,G[te]=se,te=j;else break e}}function n(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var ee=G[0],te=G.pop();if(te!==ee){G[0]=te;e:for(var j=0,se=G.length,ve=se>>>1;j<ve;){var Ee=2*(j+1)-1,Pe=G[Ee],Dt=Ee+1,Ot=G[Dt];if(0>s(Pe,te))Dt<se&&0>s(Ot,Pe)?(G[j]=Ot,G[Dt]=te,j=Dt):(G[j]=Pe,G[Ee]=te,j=Ee);else if(Dt<se&&0>s(Ot,te))G[j]=Ot,G[Dt]=te,j=Dt;else break e}}return ee}function s(G,ee){var te=G.sortIndex-ee.sortIndex;return te!==0?te:G.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,g=null,m=3,_=!1,C=!1,D=!1,k=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function O(G){for(var ee=n(h);ee!==null;){if(ee.callback===null)i(h);else if(ee.startTime<=G)i(h),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=n(h)}}function B(G){if(D=!1,O(G),!C)if(n(u)!==null)C=!0,z||(z=!0,I());else{var ee=n(h);ee!==null&&mt(B,ee.startTime-G)}}var z=!1,T=-1,y=5,b=-1;function w(){return k?!0:!(t.unstable_now()-b<y)}function x(){if(k=!1,z){var G=t.unstable_now();b=G;var ee=!0;try{e:{C=!1,D&&(D=!1,E(T),T=-1),_=!0;var te=m;try{t:{for(O(G),g=n(u);g!==null&&!(g.expirationTime>G&&w());){var j=g.callback;if(typeof j=="function"){g.callback=null,m=g.priorityLevel;var se=j(g.expirationTime<=G);if(G=t.unstable_now(),typeof se=="function"){g.callback=se,O(G),ee=!0;break t}g===n(u)&&i(u),O(G)}else i(u);g=n(u)}if(g!==null)ee=!0;else{var ve=n(h);ve!==null&&mt(B,ve.startTime-G),ee=!1}}break e}finally{g=null,m=te,_=!1}ee=void 0}}finally{ee?I():z=!1}}}var I;if(typeof S=="function")I=function(){S(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Se=R.port2;R.port1.onmessage=x,I=function(){Se.postMessage(null)}}else I=function(){A(x,0)};function mt(G,ee){T=A(function(){G(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(G){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var te=m;m=ee;try{return G()}finally{m=te}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(G,ee){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var te=m;m=G;try{return ee()}finally{m=te}},t.unstable_scheduleCallback=function(G,ee,te){var j=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?j+te:j):te=j,G){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=te+se,G={id:d++,callback:ee,priorityLevel:G,startTime:te,expirationTime:se,sortIndex:-1},te>j?(G.sortIndex=te,e(h,G),n(u)===null&&G===n(h)&&(D?(E(T),T=-1):D=!0,mt(B,te-j))):(G.sortIndex=se,e(u,G),C||_||(C=!0,z||(z=!0,I()))),G},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(G){var ee=m;return function(){var te=m;m=ee;try{return G.apply(this,arguments)}finally{m=te}}}})(Y_);$_.exports=Y_;var XA=$_.exports,K_={exports:{}},Ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZA=W;function X_(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _i(){}var Pt={d:{f:_i,r:function(){throw Error(X_(522))},D:_i,C:_i,L:_i,m:_i,X:_i,S:_i,M:_i},p:0,findDOMNode:null},JA=Symbol.for("react.portal");function WA(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:JA,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Ya=ZA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Cc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pt;Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(X_(299));return WA(t,e,null,n)};Ut.flushSync=function(t){var e=Ya.T,n=Pt.p;try{if(Ya.T=null,Pt.p=2,t)return t()}finally{Ya.T=e,Pt.p=n,Pt.d.f()}};Ut.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Pt.d.C(t,e))};Ut.prefetchDNS=function(t){typeof t=="string"&&Pt.d.D(t)};Ut.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Cc(n,e.crossOrigin),s=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Pt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:s,fetchPriority:r}):n==="script"&&Pt.d.X(t,{crossOrigin:i,integrity:s,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ut.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Cc(e.as,e.crossOrigin);Pt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Pt.d.M(t)};Ut.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Cc(n,e.crossOrigin);Pt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ut.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Cc(e.as,e.crossOrigin);Pt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Pt.d.m(t)};Ut.requestFormReset=function(t){Pt.d.r(t)};Ut.unstable_batchedUpdates=function(t,e){return t(e)};Ut.useFormState=function(t,e,n){return Ya.H.useFormState(t,e,n)};Ut.useFormStatus=function(){return Ya.H.useHostTransitionStatus()};Ut.version="19.1.0";function Z_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z_)}catch(t){console.error(t)}}Z_(),K_.exports=Ut;var eS=K_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ot=XA,J_=W,tS=eS;function L(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function W_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ev(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Up(t){if(Lo(t)!==t)throw Error(L(188))}function nS(t){var e=t.alternate;if(!e){if(e=Lo(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return Up(s),t;if(r===i)return Up(s),e;r=r.sibling}throw Error(L(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==i)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function tv(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=tv(t),e!==null)return e;t=t.sibling}return null}var je=Object.assign,iS=Symbol.for("react.element"),Dl=Symbol.for("react.transitional.element"),za=Symbol.for("react.portal"),ur=Symbol.for("react.fragment"),nv=Symbol.for("react.strict_mode"),Sf=Symbol.for("react.profiler"),sS=Symbol.for("react.provider"),iv=Symbol.for("react.consumer"),$n=Symbol.for("react.context"),Jd=Symbol.for("react.forward_ref"),wf=Symbol.for("react.suspense"),Rf=Symbol.for("react.suspense_list"),Wd=Symbol.for("react.memo"),bi=Symbol.for("react.lazy"),xf=Symbol.for("react.activity"),rS=Symbol.for("react.memo_cache_sentinel"),Lp=Symbol.iterator;function Da(t){return t===null||typeof t!="object"?null:(t=Lp&&t[Lp]||t["@@iterator"],typeof t=="function"?t:null)}var aS=Symbol.for("react.client.reference");function If(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===aS?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ur:return"Fragment";case Sf:return"Profiler";case nv:return"StrictMode";case wf:return"Suspense";case Rf:return"SuspenseList";case xf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case za:return"Portal";case $n:return(t.displayName||"Context")+".Provider";case iv:return(t._context.displayName||"Context")+".Consumer";case Jd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wd:return e=t.displayName||null,e!==null?e:If(t.type)||"Memo";case bi:e=t._payload,t=t._init;try{return If(t(e))}catch{}}return null}var Ba=Array.isArray,ie=J_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=tS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bs={pending:!1,data:null,method:null,action:null},Cf=[],cr=-1;function Un(t){return{current:t}}function ft(t){0>cr||(t.current=Cf[cr],Cf[cr]=null,cr--)}function He(t,e){cr++,Cf[cr]=t.current,t.current=e}var Cn=Un(null),po=Un(null),Ui=Un(null),Nu=Un(null);function Du(t,e){switch(He(Ui,e),He(po,t),He(Cn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Hy(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Hy(e),t=EE(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ft(Cn),He(Cn,t)}function Mr(){ft(Cn),ft(po),ft(Ui)}function Nf(t){t.memoizedState!==null&&He(Nu,t);var e=Cn.current,n=EE(e,t.type);e!==n&&(He(po,t),He(Cn,n))}function Ou(t){po.current===t&&(ft(Cn),ft(po)),Nu.current===t&&(ft(Nu),Ro._currentValue=bs)}var Df=Object.prototype.hasOwnProperty,em=ot.unstable_scheduleCallback,Nh=ot.unstable_cancelCallback,oS=ot.unstable_shouldYield,lS=ot.unstable_requestPaint,Nn=ot.unstable_now,uS=ot.unstable_getCurrentPriorityLevel,sv=ot.unstable_ImmediatePriority,rv=ot.unstable_UserBlockingPriority,Mu=ot.unstable_NormalPriority,cS=ot.unstable_LowPriority,av=ot.unstable_IdlePriority,hS=ot.log,fS=ot.unstable_setDisableYieldValue,jo=null,Wt=null;function Oi(t){if(typeof hS=="function"&&fS(t),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(jo,t)}catch{}}var en=Math.clz32?Math.clz32:gS,dS=Math.log,mS=Math.LN2;function gS(t){return t>>>=0,t===0?32:31-(dS(t)/mS|0)|0}var Ol=256,Ml=4194304;function ps(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var s=0,r=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~r,i!==0?s=ps(i):(a&=l,a!==0?s=ps(a):n||(n=l&~t,n!==0&&(s=ps(n))))):(l=i&~r,l!==0?s=ps(l):a!==0?s=ps(a):n||(n=i&~t,n!==0&&(s=ps(n)))),s===0?0:e!==0&&e!==s&&!(e&r)&&(r=s&-s,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:s}function zo(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function pS(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ov(){var t=Ol;return Ol<<=1,!(Ol&4194048)&&(Ol=256),t}function lv(){var t=Ml;return Ml<<=1,!(Ml&62914560)&&(Ml=4194304),t}function Dh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bo(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yS(t,e,n,i,s,r){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,h=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-en(n),g=1<<d;l[d]=0,u[d]=-1;var m=h[d];if(m!==null)for(h[d]=null,d=0;d<m.length;d++){var _=m[d];_!==null&&(_.lane&=-536870913)}n&=~g}i!==0&&uv(t,i,0),r!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=r&~(a&~e))}function uv(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-en(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function cv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-en(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function tm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function nm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function hv(){var t=Ae.p;return t!==0?t:(t=window.event,t===void 0?32:NE(t.type))}function _S(t,e){var n=Ae.p;try{return Ae.p=t,e()}finally{Ae.p=n}}var rs=Math.random().toString(36).slice(2),It="__reactFiber$"+rs,Gt="__reactProps$"+rs,ea="__reactContainer$"+rs,Of="__reactEvents$"+rs,vS="__reactListeners$"+rs,ES="__reactHandles$"+rs,jp="__reactResources$"+rs,qo="__reactMarker$"+rs;function im(t){delete t[It],delete t[Gt],delete t[Of],delete t[vS],delete t[ES]}function hr(t){var e=t[It];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ea]||n[It]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qy(t);t!==null;){if(n=t[It])return n;t=Qy(t)}return e}t=n,n=t.parentNode}return null}function ta(t){if(t=t[It]||t[ea]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function qa(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(L(33))}function Tr(t){var e=t[jp];return e||(e=t[jp]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ct(t){t[qo]=!0}var fv=new Set,dv={};function js(t,e){Vr(t,e),Vr(t+"Capture",e)}function Vr(t,e){for(dv[t]=e,t=0;t<e.length;t++)fv.add(e[t])}var TS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zp={},Bp={};function bS(t){return Df.call(Bp,t)?!0:Df.call(zp,t)?!1:TS.test(t)?Bp[t]=!0:(zp[t]=!0,!1)}function ru(t,e,n){if(bS(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Vl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function qn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var Oh,qp;function nr(t){if(Oh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Oh=e&&e[1]||"",qp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oh+t+qp}var Mh=!1;function Vh(t,e){if(!t||Mh)return"";Mh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(_){var m=_}Reflect.construct(t,[],g)}else{try{g.call()}catch(_){m=_}t.call(g.prototype)}}else{try{throw Error()}catch(_){m=_}(g=t())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(_){if(_&&m&&typeof _.stack=="string")return[_.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],l=r[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<h.length&&!h[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===h.length)for(i=u.length-1,s=h.length-1;1<=i&&0<=s&&u[i]!==h[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==h[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==h[s]){var d=`
`+u[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=s);break}}}finally{Mh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?nr(n):""}function AS(t){switch(t.tag){case 26:case 27:case 5:return nr(t.type);case 16:return nr("Lazy");case 13:return nr("Suspense");case 19:return nr("SuspenseList");case 0:case 15:return Vh(t.type,!1);case 11:return Vh(t.type.render,!1);case 1:return Vh(t.type,!0);case 31:return nr("Activity");default:return""}}function Hp(t){try{var e="";do e+=AS(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SS(t){var e=mv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){i=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vu(t){t._valueTracker||(t._valueTracker=SS(t))}function gv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=mv(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ku(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wS=/[\n"\\]/g;function cn(t){return t.replace(wS,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Mf(t,e,n,i,s,r,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+on(e)):t.value!==""+on(e)&&(t.value=""+on(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?Vf(t,a,on(e)):n!=null?Vf(t,a,on(n)):i!=null&&t.removeAttribute("value"),s==null&&r!=null&&(t.defaultChecked=!!r),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+on(l):t.removeAttribute("name")}function pv(t,e,n,i,s,r,a,l){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null))return;n=n!=null?""+on(n):"",e=e!=null?""+on(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function Vf(t,e,n){e==="number"&&ku(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function br(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+on(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function yv(t,e,n){if(e!=null&&(e=""+on(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+on(n):""}function _v(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(L(92));if(Ba(i)){if(1<i.length)throw Error(L(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=on(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function kr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var RS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fp(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||RS.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function vv(t,e,n){if(e!=null&&typeof e!="object")throw Error(L(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var s in e)i=e[s],e.hasOwnProperty(s)&&n[s]!==i&&Fp(t,s,i)}else for(var r in e)e.hasOwnProperty(r)&&Fp(t,r,e[r])}function sm(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),IS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function au(t){return IS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var kf=null;function rm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fr=null,Ar=null;function Gp(t){var e=ta(t);if(e&&(t=e.stateNode)){var n=t[Gt]||null;e:switch(t=e.stateNode,e.type){case"input":if(Mf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+cn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=i[Gt]||null;if(!s)throw Error(L(90));Mf(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&gv(i)}break e;case"textarea":yv(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&br(t,!!n.multiple,e,!1)}}}var kh=!1;function Ev(t,e,n){if(kh)return t(e,n);kh=!0;try{var i=t(e);return i}finally{if(kh=!1,(fr!==null||Ar!==null)&&(zc(),fr&&(e=fr,t=Ar,Ar=fr=null,Gp(e),t)))for(e=0;e<t.length;e++)Gp(t[e])}}function yo(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Gt]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pf=!1;if(ii)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){Pf=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{Pf=!1}var Mi=null,am=null,ou=null;function Tv(){if(ou)return ou;var t,e=am,n=e.length,i,s="value"in Mi?Mi.value:Mi.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===s[r-i];i++);return ou=s.slice(t,1<i?1-i:void 0)}function lu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kl(){return!0}function Qp(){return!1}function Qt(t){function e(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?kl:Qp,this.isPropagationStopped=Qp,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=kl)},persist:function(){},isPersistent:kl}),e}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dc=Qt(zs),Ho=je({},zs,{view:0,detail:0}),CS=Qt(Ho),Ph,Uh,Ma,Oc=je({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:om,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ma&&(Ma&&t.type==="mousemove"?(Ph=t.screenX-Ma.screenX,Uh=t.screenY-Ma.screenY):Uh=Ph=0,Ma=t),Ph)},movementY:function(t){return"movementY"in t?t.movementY:Uh}}),$p=Qt(Oc),NS=je({},Oc,{dataTransfer:0}),DS=Qt(NS),OS=je({},Ho,{relatedTarget:0}),Lh=Qt(OS),MS=je({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),VS=Qt(MS),kS=je({},zs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PS=Qt(kS),US=je({},zs,{data:0}),Yp=Qt(US),LS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zS[t])?!!e[t]:!1}function om(){return BS}var qS=je({},Ho,{key:function(t){if(t.key){var e=LS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:om,charCode:function(t){return t.type==="keypress"?lu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HS=Qt(qS),FS=je({},Oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kp=Qt(FS),GS=je({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:om}),QS=Qt(GS),$S=je({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),YS=Qt($S),KS=je({},Oc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XS=Qt(KS),ZS=je({},zs,{newState:0,oldState:0}),JS=Qt(ZS),WS=[9,13,27,32],lm=ii&&"CompositionEvent"in window,Ka=null;ii&&"documentMode"in document&&(Ka=document.documentMode);var ew=ii&&"TextEvent"in window&&!Ka,bv=ii&&(!lm||Ka&&8<Ka&&11>=Ka),Xp=" ",Zp=!1;function Av(t,e){switch(t){case"keyup":return WS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var dr=!1;function tw(t,e){switch(t){case"compositionend":return Sv(e);case"keypress":return e.which!==32?null:(Zp=!0,Xp);case"textInput":return t=e.data,t===Xp&&Zp?null:t;default:return null}}function nw(t,e){if(dr)return t==="compositionend"||!lm&&Av(t,e)?(t=Tv(),ou=am=Mi=null,dr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bv&&e.locale!=="ko"?null:e.data;default:return null}}var iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iw[t.type]:e==="textarea"}function wv(t,e,n,i){fr?Ar?Ar.push(i):Ar=[i]:fr=i,e=Wu(e,"onChange"),0<e.length&&(n=new Dc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Xa=null,_o=null;function sw(t){yE(t,0)}function Mc(t){var e=qa(t);if(gv(e))return t}function Wp(t,e){if(t==="change")return e}var Rv=!1;if(ii){var jh;if(ii){var zh="oninput"in document;if(!zh){var ey=document.createElement("div");ey.setAttribute("oninput","return;"),zh=typeof ey.oninput=="function"}jh=zh}else jh=!1;Rv=jh&&(!document.documentMode||9<document.documentMode)}function ty(){Xa&&(Xa.detachEvent("onpropertychange",xv),_o=Xa=null)}function xv(t){if(t.propertyName==="value"&&Mc(_o)){var e=[];wv(e,_o,t,rm(t)),Ev(sw,e)}}function rw(t,e,n){t==="focusin"?(ty(),Xa=e,_o=n,Xa.attachEvent("onpropertychange",xv)):t==="focusout"&&ty()}function aw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mc(_o)}function ow(t,e){if(t==="click")return Mc(e)}function lw(t,e){if(t==="input"||t==="change")return Mc(e)}function uw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rn=typeof Object.is=="function"?Object.is:uw;function vo(t,e){if(rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Df.call(e,s)||!rn(t[s],e[s]))return!1}return!0}function ny(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iy(t,e){var n=ny(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ny(n)}}function Iv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Iv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Cv(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ku(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ku(t.document)}return e}function um(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var cw=ii&&"documentMode"in document&&11>=document.documentMode,mr=null,Uf=null,Za=null,Lf=!1;function sy(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lf||mr==null||mr!==ku(i)||(i=mr,"selectionStart"in i&&um(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Za&&vo(Za,i)||(Za=i,i=Wu(Uf,"onSelect"),0<i.length&&(e=new Dc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=mr)))}function gs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gr={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},Bh={},Nv={};ii&&(Nv=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Bs(t){if(Bh[t])return Bh[t];if(!gr[t])return t;var e=gr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Nv)return Bh[t]=e[n];return t}var Dv=Bs("animationend"),Ov=Bs("animationiteration"),Mv=Bs("animationstart"),hw=Bs("transitionrun"),fw=Bs("transitionstart"),dw=Bs("transitioncancel"),Vv=Bs("transitionend"),kv=new Map,jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jf.push("scrollEnd");function An(t,e){kv.set(t,e),js(e,[t])}var ry=new WeakMap;function hn(t,e){if(typeof t=="object"&&t!==null){var n=ry.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Hp(e)},ry.set(t,e),e)}return{value:t,source:e,stack:Hp(e)}}var an=[],pr=0,cm=0;function Vc(){for(var t=pr,e=cm=pr=0;e<t;){var n=an[e];an[e++]=null;var i=an[e];an[e++]=null;var s=an[e];an[e++]=null;var r=an[e];if(an[e++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&Pv(n,s,r)}}function kc(t,e,n,i){an[pr++]=t,an[pr++]=e,an[pr++]=n,an[pr++]=i,cm|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function hm(t,e,n,i){return kc(t,e,n,i),Pu(t)}function na(t,e){return kc(t,null,null,e),Pu(t)}function Pv(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=t.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(s=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,s&&e!==null&&(s=31-en(n),t=r.hiddenUpdates,i=t[s],i===null?t[s]=[e]:i.push(e),e.lane=n|536870912),r):null}function Pu(t){if(50<oo)throw oo=0,ad=null,Error(L(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var yr={};function mw(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,i){return new mw(t,e,n,i)}function fm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ei(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Uv(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function uu(t,e,n,i,s,r){var a=0;if(i=t,typeof t=="function")fm(t)&&(a=1);else if(typeof t=="string")a=p2(t,n,Cn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case xf:return t=Zt(31,n,e,s),t.elementType=xf,t.lanes=r,t;case ur:return As(n.children,s,r,e);case nv:a=8,s|=24;break;case Sf:return t=Zt(12,n,e,s|2),t.elementType=Sf,t.lanes=r,t;case wf:return t=Zt(13,n,e,s),t.elementType=wf,t.lanes=r,t;case Rf:return t=Zt(19,n,e,s),t.elementType=Rf,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sS:case $n:a=10;break e;case iv:a=9;break e;case Jd:a=11;break e;case Wd:a=14;break e;case bi:a=16,i=null;break e}a=29,n=Error(L(130,t===null?"null":typeof t,"")),i=null}return e=Zt(a,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function As(t,e,n,i){return t=Zt(7,t,i,e),t.lanes=n,t}function qh(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function Hh(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var _r=[],vr=0,Uu=null,Lu=0,ln=[],un=0,Ss=null,Yn=1,Kn="";function ys(t,e){_r[vr++]=Lu,_r[vr++]=Uu,Uu=t,Lu=e}function Lv(t,e,n){ln[un++]=Yn,ln[un++]=Kn,ln[un++]=Ss,Ss=t;var i=Yn;t=Kn;var s=32-en(i)-1;i&=~(1<<s),n+=1;var r=32-en(e)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Yn=1<<32-en(e)+s|n<<s|i,Kn=r+t}else Yn=1<<r|n<<s|i,Kn=t}function dm(t){t.return!==null&&(ys(t,1),Lv(t,1,0))}function mm(t){for(;t===Uu;)Uu=_r[--vr],_r[vr]=null,Lu=_r[--vr],_r[vr]=null;for(;t===Ss;)Ss=ln[--un],ln[un]=null,Kn=ln[--un],ln[un]=null,Yn=ln[--un],ln[un]=null}var kt=null,$e=null,be=!1,ws=null,xn=!1,zf=Error(L(519));function Ns(t){var e=Error(L(418,""));throw Eo(hn(e,t)),zf}function ay(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[It]=t,e[Gt]=i,n){case"dialog":fe("cancel",e),fe("close",e);break;case"iframe":case"object":case"embed":fe("load",e);break;case"video":case"audio":for(n=0;n<Ao.length;n++)fe(Ao[n],e);break;case"source":fe("error",e);break;case"img":case"image":case"link":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"input":fe("invalid",e),pv(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Vu(e);break;case"select":fe("invalid",e);break;case"textarea":fe("invalid",e),_v(e,i.value,i.defaultValue,i.children),Vu(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||vE(e.textContent,n)?(i.popover!=null&&(fe("beforetoggle",e),fe("toggle",e)),i.onScroll!=null&&fe("scroll",e),i.onScrollEnd!=null&&fe("scrollend",e),i.onClick!=null&&(e.onclick=Hc),e=!0):e=!1,e||Ns(t)}function oy(t){for(kt=t.return;kt;)switch(kt.tag){case 5:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:kt=kt.return}}function Va(t){if(t!==kt)return!1;if(!be)return oy(t),be=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||fd(t.type,t.memoizedProps)),n=!n),n&&$e&&Ns(t),oy(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){$e=En(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}$e=null}}else e===27?(e=$e,as(t.type)?(t=gd,gd=null,$e=t):$e=e):$e=kt?En(t.stateNode.nextSibling):null;return!0}function Fo(){$e=kt=null,be=!1}function ly(){var t=ws;return t!==null&&(Bt===null?Bt=t:Bt.push.apply(Bt,t),ws=null),t}function Eo(t){ws===null?ws=[t]:ws.push(t)}var Bf=Un(null),qs=null,Xn=null;function wi(t,e,n){He(Bf,e._currentValue),e._currentValue=n}function ti(t){t._currentValue=Bf.current,ft(Bf)}function qf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Hf(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;e:for(;r!==null;){var l=r;r=s;for(var u=0;u<e.length;u++)if(l.context===e[u]){r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),qf(r.return,n,t),i||(a=null);break e}r=l.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(L(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),qf(a,n,t),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function Go(t,e,n,i){t=null;for(var s=e,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(L(387));if(a=a.memoizedProps,a!==null){var l=s.type;rn(s.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(s===Nu.current){if(a=s.alternate,a===null)throw Error(L(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(Ro):t=[Ro])}s=s.return}t!==null&&Hf(e,t,n,i),e.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ds(t){qs=t,Xn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ct(t){return jv(qs,t)}function Pl(t,e){return qs===null&&Ds(t),jv(t,e)}function jv(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Xn===null){if(t===null)throw Error(L(308));Xn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Xn=Xn.next=e;return n}var gw=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},pw=ot.unstable_scheduleCallback,yw=ot.unstable_NormalPriority,it={$$typeof:$n,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gm(){return{controller:new gw,data:new Map,refCount:0}}function Qo(t){t.refCount--,t.refCount===0&&pw(yw,function(){t.controller.abort()})}var Ja=null,Ff=0,Pr=0,Sr=null;function _w(t,e){if(Ja===null){var n=Ja=[];Ff=0,Pr=Lm(),Sr={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Ff++,e.then(uy,uy),e}function uy(){if(--Ff===0&&Ja!==null){Sr!==null&&(Sr.status="fulfilled");var t=Ja;Ja=null,Pr=0,Sr=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function vw(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var cy=ie.S;ie.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&_w(t,e),cy!==null&&cy(t,e)};var Rs=Un(null);function pm(){var t=Rs.current;return t!==null?t:ke.pooledCache}function cu(t,e){e===null?He(Rs,Rs.current):He(Rs,e.pool)}function zv(){var t=pm();return t===null?null:{parent:it._currentValue,pool:t}}var $o=Error(L(460)),Bv=Error(L(474)),Pc=Error(L(542)),Gf={then:function(){}};function hy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ul(){}function qv(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Ul,Ul),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,dy(t),t;default:if(typeof e.status=="string")e.then(Ul,Ul);else{if(t=ke,t!==null&&100<t.shellSuspendCounter)throw Error(L(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,dy(t),t}throw Wa=e,$o}}var Wa=null;function fy(){if(Wa===null)throw Error(L(459));var t=Wa;return Wa=null,t}function dy(t){if(t===$o||t===Pc)throw Error(L(483))}var Ai=!1;function ym(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Li(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ji(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,xe&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=Pu(t),Pv(t,null,n),e}return kc(t,i,e,n),Pu(t)}function eo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,cv(t,n)}}function Fh(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var $f=!1;function to(){if($f){var t=Sr;if(t!==null)throw t}}function no(t,e,n,i){$f=!1;var s=t.updateQueue;Ai=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?r=h:a.next=h,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(r!==null){var g=s.baseState;a=0,d=h=u=null,l=r;do{var m=l.lane&-536870913,_=m!==l.lane;if(_?(_e&m)===m:(i&m)===m){m!==0&&m===Pr&&($f=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var C=t,D=l;m=e;var k=n;switch(D.tag){case 1:if(C=D.payload,typeof C=="function"){g=C.call(k,g,m);break e}g=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=D.payload,m=typeof C=="function"?C.call(k,g,m):C,m==null)break e;g=je({},g,m);break e;case 2:Ai=!0}}m=l.callback,m!==null&&(t.flags|=64,_&&(t.flags|=8192),_=s.callbacks,_===null?s.callbacks=[m]:_.push(m))}else _={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=_,u=g):d=d.next=_,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;_=l,l=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(!0);d===null&&(u=g),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=d,r===null&&(s.shared.lanes=0),Ji|=a,t.lanes=a,t.memoizedState=g}}function Hv(t,e){if(typeof t!="function")throw Error(L(191,t));t.call(e)}function Fv(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Hv(n[t],e)}var Ur=Un(null),zu=Un(0);function my(t,e){t=ai,He(zu,t),He(Ur,e),ai=t|e.baseLanes}function Yf(){He(zu,ai),He(Ur,Ur.current)}function _m(){ai=zu.current,ft(Ur),ft(zu)}var Xi=0,he=null,Ce=null,We=null,Bu=!1,wr=!1,Os=!1,qu=0,To=0,Rr=null,Ew=0;function Ke(){throw Error(L(321))}function vm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rn(t[n],e[n]))return!1;return!0}function Em(t,e,n,i,s,r){return Xi=r,he=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ie.H=t===null||t.memoizedState===null?T1:b1,Os=!1,r=n(i,s),Os=!1,wr&&(r=Qv(e,n,i,s)),Gv(t),r}function Gv(t){ie.H=Hu;var e=Ce!==null&&Ce.next!==null;if(Xi=0,We=Ce=he=null,Bu=!1,To=0,Rr=null,e)throw Error(L(300));t===null||ht||(t=t.dependencies,t!==null&&ju(t)&&(ht=!0))}function Qv(t,e,n,i){he=t;var s=0;do{if(wr&&(Rr=null),To=0,wr=!1,25<=s)throw Error(L(301));if(s+=1,We=Ce=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}ie.H=xw,r=e(n,i)}while(wr);return r}function Tw(){var t=ie.H,e=t.useState()[0];return e=typeof e.then=="function"?Yo(e):e,t=t.useState()[0],(Ce!==null?Ce.memoizedState:null)!==t&&(he.flags|=1024),e}function Tm(){var t=qu!==0;return qu=0,t}function bm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Am(t){if(Bu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Bu=!1}Xi=0,We=Ce=he=null,wr=!1,To=qu=0,Rr=null}function jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?he.memoizedState=We=t:We=We.next=t,We}function tt(){if(Ce===null){var t=he.alternate;t=t!==null?t.memoizedState:null}else t=Ce.next;var e=We===null?he.memoizedState:We.next;if(e!==null)We=e,Ce=t;else{if(t===null)throw he.alternate===null?Error(L(467)):Error(L(310));Ce=t,t={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},We===null?he.memoizedState=We=t:We=We.next=t}return We}function Sm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(t){var e=To;return To+=1,Rr===null&&(Rr=[]),t=qv(Rr,t,e),e=he,(We===null?e.memoizedState:We.next)===null&&(e=e.alternate,ie.H=e===null||e.memoizedState===null?T1:b1),t}function Uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yo(t);if(t.$$typeof===$n)return Ct(t)}throw Error(L(438,String(t)))}function wm(t){var e=null,n=he.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=he.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Sm(),he.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=rS;return e.index++,n}function si(t,e){return typeof e=="function"?e(t):e}function hu(t){var e=tt();return Rm(e,Ce,t)}function Rm(t,e,n){var i=t.queue;if(i===null)throw Error(L(311));i.lastRenderedReducer=n;var s=t.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}e.baseQueue=s=r,i.pending=null}if(r=t.baseState,s===null)t.memoizedState=r;else{e=s.next;var l=a=null,u=null,h=e,d=!1;do{var g=h.lane&-536870913;if(g!==h.lane?(_e&g)===g:(Xi&g)===g){var m=h.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),g===Pr&&(d=!0);else if((Xi&m)===m){h=h.next,m===Pr&&(d=!0);continue}else g={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=r):u=u.next=g,he.lanes|=m,Ji|=m;g=h.action,Os&&n(r,g),r=h.hasEagerState?h.eagerState:n(r,g)}else m={lane:g,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=r):u=u.next=m,he.lanes|=g,Ji|=g;h=h.next}while(h!==null&&h!==e);if(u===null?a=r:u.next=l,!rn(r,t.memoizedState)&&(ht=!0,d&&(n=Sr,n!==null)))throw n;t.memoizedState=r,t.baseState=a,t.baseQueue=u,i.lastRenderedState=r}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Gh(t){var e=tt(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=t(r,a.action),a=a.next;while(a!==s);rn(r,e.memoizedState)||(ht=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function $v(t,e,n){var i=he,s=tt(),r=be;if(r){if(n===void 0)throw Error(L(407));n=n()}else n=e();var a=!rn((Ce||s).memoizedState,n);a&&(s.memoizedState=n,ht=!0),s=s.queue;var l=Xv.bind(null,i,s,t);if(Ko(2048,8,l,[t]),s.getSnapshot!==e||a||We!==null&&We.memoizedState.tag&1){if(i.flags|=2048,Lr(9,Lc(),Kv.bind(null,i,s,n,e),null),ke===null)throw Error(L(349));r||Xi&124||Yv(i,e,n)}return n}function Yv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=he.updateQueue,e===null?(e=Sm(),he.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Kv(t,e,n,i){e.value=n,e.getSnapshot=i,Zv(e)&&Jv(t)}function Xv(t,e,n){return n(function(){Zv(e)&&Jv(t)})}function Zv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rn(t,n)}catch{return!0}}function Jv(t){var e=na(t,2);e!==null&&nn(e,t,2)}function Kf(t){var e=jt();if(typeof t=="function"){var n=t;if(t=n(),Os){Oi(!0);try{n()}finally{Oi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},e}function Wv(t,e,n,i){return t.baseState=n,Rm(t,Ce,typeof i=="function"?i:si)}function bw(t,e,n,i,s){if(jc(t))throw Error(L(485));if(t=e.action,t!==null){var r={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};ie.T!==null?n(!0):r.isTransition=!1,i(r),n=e.pending,n===null?(r.next=e.pending=r,e1(e,r)):(r.next=n.next,e.pending=n.next=r)}}function e1(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var r=ie.T,a={};ie.T=a;try{var l=n(s,i),u=ie.S;u!==null&&u(a,l),gy(t,e,l)}catch(h){Xf(t,e,h)}finally{ie.T=r}}else try{r=n(s,i),gy(t,e,r)}catch(h){Xf(t,e,h)}}function gy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){py(t,e,i)},function(i){return Xf(t,e,i)}):py(t,e,n)}function py(t,e,n){e.status="fulfilled",e.value=n,t1(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,e1(t,n)))}function Xf(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,t1(e),e=e.next;while(e!==i)}t.action=null}function t1(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function n1(t,e){return e}function yy(t,e){if(be){var n=ke.formState;if(n!==null){e:{var i=he;if(be){if($e){t:{for(var s=$e,r=xn;s.nodeType!==8;){if(!r){s=null;break t}if(s=En(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){$e=En(s.nextSibling),i=s.data==="F!";break e}}Ns(i)}i=!1}i&&(e=n[0])}}return n=jt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n1,lastRenderedState:e},n.queue=i,n=_1.bind(null,he,i),i.dispatch=n,i=Kf(!1),r=Nm.bind(null,he,!1,i.queue),i=jt(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=bw.bind(null,he,s,r,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function _y(t){var e=tt();return i1(e,Ce,t)}function i1(t,e,n){if(e=Rm(t,e,n1)[0],t=hu(si)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Yo(e)}catch(a){throw a===$o?Pc:a}else i=e;e=tt();var s=e.queue,r=s.dispatch;return n!==e.memoizedState&&(he.flags|=2048,Lr(9,Lc(),Aw.bind(null,s,n),null)),[i,r,t]}function Aw(t,e){t.action=e}function vy(t){var e=tt(),n=Ce;if(n!==null)return i1(e,n,t);tt(),e=e.memoizedState,n=tt();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Lr(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=he.updateQueue,e===null&&(e=Sm(),he.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Lc(){return{destroy:void 0,resource:void 0}}function s1(){return tt().memoizedState}function fu(t,e,n,i){var s=jt();i=i===void 0?null:i,he.flags|=t,s.memoizedState=Lr(1|e,Lc(),n,i)}function Ko(t,e,n,i){var s=tt();i=i===void 0?null:i;var r=s.memoizedState.inst;Ce!==null&&i!==null&&vm(i,Ce.memoizedState.deps)?s.memoizedState=Lr(e,r,n,i):(he.flags|=t,s.memoizedState=Lr(1|e,r,n,i))}function Ey(t,e){fu(8390656,8,t,e)}function r1(t,e){Ko(2048,8,t,e)}function a1(t,e){return Ko(4,2,t,e)}function o1(t,e){return Ko(4,4,t,e)}function l1(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function u1(t,e,n){n=n!=null?n.concat([t]):null,Ko(4,4,l1.bind(null,e,t),n)}function xm(){}function c1(t,e){var n=tt();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&vm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function h1(t,e){var n=tt();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&vm(e,i[1]))return i[0];if(i=t(),Os){Oi(!0);try{t()}finally{Oi(!1)}}return n.memoizedState=[i,e],i}function Im(t,e,n){return n===void 0||Xi&1073741824?t.memoizedState=e:(t.memoizedState=n,t=tE(),he.lanes|=t,Ji|=t,n)}function f1(t,e,n,i){return rn(n,e)?n:Ur.current!==null?(t=Im(t,n,i),rn(t,e)||(ht=!0),t):Xi&42?(t=tE(),he.lanes|=t,Ji|=t,e):(ht=!0,t.memoizedState=n)}function d1(t,e,n,i,s){var r=Ae.p;Ae.p=r!==0&&8>r?r:8;var a=ie.T,l={};ie.T=l,Nm(t,!1,e,n);try{var u=s(),h=ie.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=vw(u,i);io(t,e,d,tn(t))}else io(t,e,i,tn(t))}catch(g){io(t,e,{then:function(){},status:"rejected",reason:g},tn())}finally{Ae.p=r,ie.T=a}}function Sw(){}function Zf(t,e,n,i){if(t.tag!==5)throw Error(L(476));var s=m1(t).queue;d1(t,s,e,bs,n===null?Sw:function(){return g1(t),n(i)})}function m1(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:bs,baseState:bs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:bs},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function g1(t){var e=m1(t).next.queue;io(t,e,{},tn())}function Cm(){return Ct(Ro)}function p1(){return tt().memoizedState}function y1(){return tt().memoizedState}function ww(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=tn();t=Li(n);var i=ji(e,t,n);i!==null&&(nn(i,e,n),eo(i,e,n)),e={cache:gm()},t.payload=e;return}e=e.return}}function Rw(t,e,n){var i=tn();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},jc(t)?v1(e,n):(n=hm(t,e,n,i),n!==null&&(nn(n,t,i),E1(n,e,i)))}function _1(t,e,n){var i=tn();io(t,e,n,i)}function io(t,e,n,i){var s={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(jc(t))v1(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,l=r(a,n);if(s.hasEagerState=!0,s.eagerState=l,rn(l,a))return kc(t,e,s,0),ke===null&&Vc(),!1}catch{}finally{}if(n=hm(t,e,s,i),n!==null)return nn(n,t,i),E1(n,e,i),!0}return!1}function Nm(t,e,n,i){if(i={lane:2,revertLane:Lm(),action:i,hasEagerState:!1,eagerState:null,next:null},jc(t)){if(e)throw Error(L(479))}else e=hm(t,n,i,2),e!==null&&nn(e,t,2)}function jc(t){var e=t.alternate;return t===he||e!==null&&e===he}function v1(t,e){wr=Bu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function E1(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,cv(t,n)}}var Hu={readContext:Ct,use:Uc,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke},T1={readContext:Ct,use:Uc,useCallback:function(t,e){return jt().memoizedState=[t,e===void 0?null:e],t},useContext:Ct,useEffect:Ey,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,fu(4194308,4,l1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fu(4194308,4,t,e)},useInsertionEffect:function(t,e){fu(4,2,t,e)},useMemo:function(t,e){var n=jt();e=e===void 0?null:e;var i=t();if(Os){Oi(!0);try{t()}finally{Oi(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=jt();if(n!==void 0){var s=n(e);if(Os){Oi(!0);try{n(e)}finally{Oi(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=Rw.bind(null,he,t),[i.memoizedState,t]},useRef:function(t){var e=jt();return t={current:t},e.memoizedState=t},useState:function(t){t=Kf(t);var e=t.queue,n=_1.bind(null,he,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:xm,useDeferredValue:function(t,e){var n=jt();return Im(n,t,e)},useTransition:function(){var t=Kf(!1);return t=d1.bind(null,he,t.queue,!0,!1),jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=he,s=jt();if(be){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),ke===null)throw Error(L(349));_e&124||Yv(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,Ey(Xv.bind(null,i,r,t),[t]),i.flags|=2048,Lr(9,Lc(),Kv.bind(null,i,r,n,e),null),n},useId:function(){var t=jt(),e=ke.identifierPrefix;if(be){var n=Kn,i=Yn;n=(i&~(1<<32-en(i)-1)).toString(32)+n,e=""+e+"R"+n,n=qu++,0<n&&(e+="H"+n.toString(32)),e+=""}else n=Ew++,e=""+e+"r"+n.toString(32)+"";return t.memoizedState=e},useHostTransitionStatus:Cm,useFormState:yy,useActionState:yy,useOptimistic:function(t){var e=jt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Nm.bind(null,he,!0,n),n.dispatch=e,[t,e]},useMemoCache:wm,useCacheRefresh:function(){return jt().memoizedState=ww.bind(null,he)}},b1={readContext:Ct,use:Uc,useCallback:c1,useContext:Ct,useEffect:r1,useImperativeHandle:u1,useInsertionEffect:a1,useLayoutEffect:o1,useMemo:h1,useReducer:hu,useRef:s1,useState:function(){return hu(si)},useDebugValue:xm,useDeferredValue:function(t,e){var n=tt();return f1(n,Ce.memoizedState,t,e)},useTransition:function(){var t=hu(si)[0],e=tt().memoizedState;return[typeof t=="boolean"?t:Yo(t),e]},useSyncExternalStore:$v,useId:p1,useHostTransitionStatus:Cm,useFormState:_y,useActionState:_y,useOptimistic:function(t,e){var n=tt();return Wv(n,Ce,t,e)},useMemoCache:wm,useCacheRefresh:y1},xw={readContext:Ct,use:Uc,useCallback:c1,useContext:Ct,useEffect:r1,useImperativeHandle:u1,useInsertionEffect:a1,useLayoutEffect:o1,useMemo:h1,useReducer:Gh,useRef:s1,useState:function(){return Gh(si)},useDebugValue:xm,useDeferredValue:function(t,e){var n=tt();return Ce===null?Im(n,t,e):f1(n,Ce.memoizedState,t,e)},useTransition:function(){var t=Gh(si)[0],e=tt().memoizedState;return[typeof t=="boolean"?t:Yo(t),e]},useSyncExternalStore:$v,useId:p1,useHostTransitionStatus:Cm,useFormState:vy,useActionState:vy,useOptimistic:function(t,e){var n=tt();return Ce!==null?Wv(n,Ce,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:wm,useCacheRefresh:y1},xr=null,bo=0;function Ll(t){var e=bo;return bo+=1,xr===null&&(xr=[]),qv(xr,t,e)}function ka(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function jl(t,e){throw e.$$typeof===iS?Error(L(525)):(t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Ty(t){var e=t._init;return e(t._payload)}function A1(t){function e(A,E){if(t){var S=A.deletions;S===null?(A.deletions=[E],A.flags|=16):S.push(E)}}function n(A,E){if(!t)return null;for(;E!==null;)e(A,E),E=E.sibling;return null}function i(A){for(var E=new Map;A!==null;)A.key!==null?E.set(A.key,A):E.set(A.index,A),A=A.sibling;return E}function s(A,E){return A=ei(A,E),A.index=0,A.sibling=null,A}function r(A,E,S){return A.index=S,t?(S=A.alternate,S!==null?(S=S.index,S<E?(A.flags|=67108866,E):S):(A.flags|=67108866,E)):(A.flags|=1048576,E)}function a(A){return t&&A.alternate===null&&(A.flags|=67108866),A}function l(A,E,S,O){return E===null||E.tag!==6?(E=qh(S,A.mode,O),E.return=A,E):(E=s(E,S),E.return=A,E)}function u(A,E,S,O){var B=S.type;return B===ur?d(A,E,S.props.children,O,S.key):E!==null&&(E.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===bi&&Ty(B)===E.type)?(E=s(E,S.props),ka(E,S),E.return=A,E):(E=uu(S.type,S.key,S.props,null,A.mode,O),ka(E,S),E.return=A,E)}function h(A,E,S,O){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=Hh(S,A.mode,O),E.return=A,E):(E=s(E,S.children||[]),E.return=A,E)}function d(A,E,S,O,B){return E===null||E.tag!==7?(E=As(S,A.mode,O,B),E.return=A,E):(E=s(E,S),E.return=A,E)}function g(A,E,S){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=qh(""+E,A.mode,S),E.return=A,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Dl:return S=uu(E.type,E.key,E.props,null,A.mode,S),ka(S,E),S.return=A,S;case za:return E=Hh(E,A.mode,S),E.return=A,E;case bi:var O=E._init;return E=O(E._payload),g(A,E,S)}if(Ba(E)||Da(E))return E=As(E,A.mode,S,null),E.return=A,E;if(typeof E.then=="function")return g(A,Ll(E),S);if(E.$$typeof===$n)return g(A,Pl(A,E),S);jl(A,E)}return null}function m(A,E,S,O){var B=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return B!==null?null:l(A,E,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Dl:return S.key===B?u(A,E,S,O):null;case za:return S.key===B?h(A,E,S,O):null;case bi:return B=S._init,S=B(S._payload),m(A,E,S,O)}if(Ba(S)||Da(S))return B!==null?null:d(A,E,S,O,null);if(typeof S.then=="function")return m(A,E,Ll(S),O);if(S.$$typeof===$n)return m(A,E,Pl(A,S),O);jl(A,S)}return null}function _(A,E,S,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return A=A.get(S)||null,l(E,A,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Dl:return A=A.get(O.key===null?S:O.key)||null,u(E,A,O,B);case za:return A=A.get(O.key===null?S:O.key)||null,h(E,A,O,B);case bi:var z=O._init;return O=z(O._payload),_(A,E,S,O,B)}if(Ba(O)||Da(O))return A=A.get(S)||null,d(E,A,O,B,null);if(typeof O.then=="function")return _(A,E,S,Ll(O),B);if(O.$$typeof===$n)return _(A,E,S,Pl(E,O),B);jl(E,O)}return null}function C(A,E,S,O){for(var B=null,z=null,T=E,y=E=0,b=null;T!==null&&y<S.length;y++){T.index>y?(b=T,T=null):b=T.sibling;var w=m(A,T,S[y],O);if(w===null){T===null&&(T=b);break}t&&T&&w.alternate===null&&e(A,T),E=r(w,E,y),z===null?B=w:z.sibling=w,z=w,T=b}if(y===S.length)return n(A,T),be&&ys(A,y),B;if(T===null){for(;y<S.length;y++)T=g(A,S[y],O),T!==null&&(E=r(T,E,y),z===null?B=T:z.sibling=T,z=T);return be&&ys(A,y),B}for(T=i(T);y<S.length;y++)b=_(T,A,y,S[y],O),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?y:b.key),E=r(b,E,y),z===null?B=b:z.sibling=b,z=b);return t&&T.forEach(function(x){return e(A,x)}),be&&ys(A,y),B}function D(A,E,S,O){if(S==null)throw Error(L(151));for(var B=null,z=null,T=E,y=E=0,b=null,w=S.next();T!==null&&!w.done;y++,w=S.next()){T.index>y?(b=T,T=null):b=T.sibling;var x=m(A,T,w.value,O);if(x===null){T===null&&(T=b);break}t&&T&&x.alternate===null&&e(A,T),E=r(x,E,y),z===null?B=x:z.sibling=x,z=x,T=b}if(w.done)return n(A,T),be&&ys(A,y),B;if(T===null){for(;!w.done;y++,w=S.next())w=g(A,w.value,O),w!==null&&(E=r(w,E,y),z===null?B=w:z.sibling=w,z=w);return be&&ys(A,y),B}for(T=i(T);!w.done;y++,w=S.next())w=_(T,A,y,w.value,O),w!==null&&(t&&w.alternate!==null&&T.delete(w.key===null?y:w.key),E=r(w,E,y),z===null?B=w:z.sibling=w,z=w);return t&&T.forEach(function(I){return e(A,I)}),be&&ys(A,y),B}function k(A,E,S,O){if(typeof S=="object"&&S!==null&&S.type===ur&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Dl:e:{for(var B=S.key;E!==null;){if(E.key===B){if(B=S.type,B===ur){if(E.tag===7){n(A,E.sibling),O=s(E,S.props.children),O.return=A,A=O;break e}}else if(E.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===bi&&Ty(B)===E.type){n(A,E.sibling),O=s(E,S.props),ka(O,S),O.return=A,A=O;break e}n(A,E);break}else e(A,E);E=E.sibling}S.type===ur?(O=As(S.props.children,A.mode,O,S.key),O.return=A,A=O):(O=uu(S.type,S.key,S.props,null,A.mode,O),ka(O,S),O.return=A,A=O)}return a(A);case za:e:{for(B=S.key;E!==null;){if(E.key===B)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(A,E.sibling),O=s(E,S.children||[]),O.return=A,A=O;break e}else{n(A,E);break}else e(A,E);E=E.sibling}O=Hh(S,A.mode,O),O.return=A,A=O}return a(A);case bi:return B=S._init,S=B(S._payload),k(A,E,S,O)}if(Ba(S))return C(A,E,S,O);if(Da(S)){if(B=Da(S),typeof B!="function")throw Error(L(150));return S=B.call(S),D(A,E,S,O)}if(typeof S.then=="function")return k(A,E,Ll(S),O);if(S.$$typeof===$n)return k(A,E,Pl(A,S),O);jl(A,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,E!==null&&E.tag===6?(n(A,E.sibling),O=s(E,S),O.return=A,A=O):(n(A,E),O=qh(S,A.mode,O),O.return=A,A=O),a(A)):n(A,E)}return function(A,E,S,O){try{bo=0;var B=k(A,E,S,O);return xr=null,B}catch(T){if(T===$o||T===Pc)throw T;var z=Zt(29,T,null,A.mode);return z.lanes=O,z.return=A,z}finally{}}}var jr=A1(!0),S1=A1(!1),dn=Un(null),Dn=null;function Ri(t){var e=t.alternate;He(st,st.current&1),He(dn,t),Dn===null&&(e===null||Ur.current!==null||e.memoizedState!==null)&&(Dn=t)}function w1(t){if(t.tag===22){if(He(st,st.current),He(dn,t),Dn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Dn=t)}}else xi()}function xi(){He(st,st.current),He(dn,dn.current)}function Zn(t){ft(dn),Dn===t&&(Dn=null),ft(st)}var st=Un(0);function Fu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||md(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Qh(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jf={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=tn(),s=Li(i);s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,i),e!==null&&(nn(e,t,i),eo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=tn(),s=Li(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ji(t,s,i),e!==null&&(nn(e,t,i),eo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),i=Li(n);i.tag=2,e!=null&&(i.callback=e),e=ji(t,i,n),e!==null&&(nn(e,t,n),eo(e,t,n))}};function by(t,e,n,i,s,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,a):e.prototype&&e.prototype.isPureReactComponent?!vo(n,i)||!vo(s,r):!0}function Ay(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Jf.enqueueReplaceState(e,e.state,null)}function Ms(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=je({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function R1(t){Gu(t)}function x1(t){console.error(t)}function I1(t){Gu(t)}function Qu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Sy(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Wf(t,e,n){return n=Li(n),n.tag=3,n.payload={element:null},n.callback=function(){Qu(t,e)},n}function C1(t){return t=Li(t),t.tag=3,t}function N1(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;t.payload=function(){return s(r)},t.callback=function(){Sy(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){Sy(e,n,i),typeof s!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function Iw(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Go(e,n,s,!0),n=dn.current,n!==null){switch(n.tag){case 13:return Dn===null?od():n.alternate===null&&Ye===0&&(Ye=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Gf?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),sf(t,i,s)),!1;case 22:return n.flags|=65536,i===Gf?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),sf(t,i,s)),!1}throw Error(L(435,n.tag))}return sf(t,i,s),od(),!1}if(be)return e=dn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==zf&&(t=Error(L(422),{cause:i}),Eo(hn(t,n)))):(i!==zf&&(e=Error(L(423),{cause:i}),Eo(hn(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=hn(i,n),s=Wf(t.stateNode,i,s),Fh(t,s),Ye!==4&&(Ye=2)),!1;var r=Error(L(520),{cause:i});if(r=hn(r,n),ao===null?ao=[r]:ao.push(r),Ye!==4&&(Ye=2),e===null)return!0;i=hn(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=Wf(n.stateNode,i,t),Fh(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(zi===null||!zi.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=C1(s),N1(s,t,n,i),Fh(n,s),!1}n=n.return}while(n!==null);return!1}var D1=Error(L(461)),ht=!1;function yt(t,e,n,i){e.child=t===null?S1(e,null,n,i):jr(e,t.child,n,i)}function wy(t,e,n,i,s){n=n.render;var r=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return Ds(e),i=Em(t,e,n,a,r,s),l=Tm(),t!==null&&!ht?(bm(t,e,s),ri(t,e,s)):(be&&l&&dm(e),e.flags|=1,yt(t,e,i,s),e.child)}function Ry(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!fm(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,O1(t,e,r,i,s)):(t=uu(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!Dm(t,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:vo,n(a,i)&&t.ref===e.ref)return ri(t,e,s)}return e.flags|=1,t=ei(r,i),t.ref=e.ref,t.return=e,e.child=t}function O1(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(vo(r,i)&&t.ref===e.ref)if(ht=!1,e.pendingProps=i=r,Dm(t,s))t.flags&131072&&(ht=!0);else return e.lanes=t.lanes,ri(t,e,s)}return ed(t,e,n,i,s)}function M1(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=r!==null?r.baseLanes|n:n,t!==null){for(s=e.child=t.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;e.childLanes=r&~i}else e.childLanes=0,e.child=null;return xy(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(e,r!==null?r.cachePool:null),r!==null?my(e,r):Yf(),w1(e);else return e.lanes=e.childLanes=536870912,xy(t,e,r!==null?r.baseLanes|n:n,n)}else r!==null?(cu(e,r.cachePool),my(e,r),xi(),e.memoizedState=null):(t!==null&&cu(e,null),Yf(),xi());return yt(t,e,s,n),e.child}function xy(t,e,n,i){var s=pm();return s=s===null?null:{parent:it._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&cu(e,null),Yf(),w1(e),t!==null&&Go(t,e,i,!0),null}function du(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function ed(t,e,n,i,s){return Ds(e),n=Em(t,e,n,i,void 0,s),i=Tm(),t!==null&&!ht?(bm(t,e,s),ri(t,e,s)):(be&&i&&dm(e),e.flags|=1,yt(t,e,n,s),e.child)}function Iy(t,e,n,i,s,r){return Ds(e),e.updateQueue=null,n=Qv(e,i,n,s),Gv(t),i=Tm(),t!==null&&!ht?(bm(t,e,r),ri(t,e,r)):(be&&i&&dm(e),e.flags|=1,yt(t,e,n,r),e.child)}function Cy(t,e,n,i,s){if(Ds(e),e.stateNode===null){var r=yr,a=n.contextType;typeof a=="object"&&a!==null&&(r=Ct(a)),r=new n(i,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Jf,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=i,r.state=e.memoizedState,r.refs={},ym(e),a=n.contextType,r.context=typeof a=="object"&&a!==null?Ct(a):yr,r.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Qh(e,n,a,i),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&Jf.enqueueReplaceState(r,r.state,null),no(e,i,r,s),to(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){r=e.stateNode;var l=e.memoizedProps,u=Ms(n,l);r.props=u;var h=r.context,d=n.contextType;a=yr,typeof d=="object"&&d!==null&&(a=Ct(d));var g=n.getDerivedStateFromProps;d=typeof g=="function"||typeof r.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l||h!==a)&&Ay(e,r,i,a),Ai=!1;var m=e.memoizedState;r.state=m,no(e,i,r,s),to(),h=e.memoizedState,l||m!==h||Ai?(typeof g=="function"&&(Qh(e,n,g,i),h=e.memoizedState),(u=Ai||by(e,n,u,i,m,h,a))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),r.props=i,r.state=h,r.context=a,i=u):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{r=e.stateNode,Qf(t,e),a=e.memoizedProps,d=Ms(n,a),r.props=d,g=e.pendingProps,m=r.context,h=n.contextType,u=yr,typeof h=="object"&&h!==null&&(u=Ct(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==g||m!==u)&&Ay(e,r,i,u),Ai=!1,m=e.memoizedState,r.state=m,no(e,i,r,s),to();var _=e.memoizedState;a!==g||m!==_||Ai||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof l=="function"&&(Qh(e,n,l,i),_=e.memoizedState),(d=Ai||by(e,n,d,i,m,_,u)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,_,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,_,u)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=_),r.props=i,r.state=_,r.context=u,i=d):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return r=i,du(t,e),i=(e.flags&128)!==0,r||i?(r=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&i?(e.child=jr(e,t.child,null,s),e.child=jr(e,null,n,s)):yt(t,e,n,s),e.memoizedState=r.state,t=e.child):t=ri(t,e,s),t}function Ny(t,e,n,i){return Fo(),e.flags|=256,yt(t,e,n,i),e.child}var $h={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yh(t){return{baseLanes:t,cachePool:zv()}}function Kh(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=fn),t}function V1(t,e,n){var i=e.pendingProps,s=!1,r=(e.flags&128)!==0,a;if((a=r)||(a=t!==null&&t.memoizedState===null?!1:(st.current&2)!==0),a&&(s=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(be){if(s?Ri(e):xi(),be){var l=$e,u;if(u=l){e:{for(u=l,l=xn;u.nodeType!==8;){if(!l){l=null;break e}if(u=En(u.nextSibling),u===null){l=null;break e}}l=u}l!==null?(e.memoizedState={dehydrated:l,treeContext:Ss!==null?{id:Yn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},u=Zt(18,null,null,0),u.stateNode=l,u.return=e,e.child=u,kt=e,$e=null,u=!0):u=!1}u||Ns(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return md(l)?e.lanes=32:e.lanes=536870912,null;Zn(e)}return l=i.children,i=i.fallback,s?(xi(),s=e.mode,l=$u({mode:"hidden",children:l},s),i=As(i,s,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,s=e.child,s.memoizedState=Yh(n),s.childLanes=Kh(t,a,n),e.memoizedState=$h,i):(Ri(e),td(e,l))}if(u=t.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(r)e.flags&256?(Ri(e),e.flags&=-257,e=Xh(t,e,n)):e.memoizedState!==null?(xi(),e.child=t.child,e.flags|=128,e=null):(xi(),s=i.fallback,l=e.mode,i=$u({mode:"visible",children:i.children},l),s=As(s,l,n,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,jr(e,t.child,null,n),i=e.child,i.memoizedState=Yh(n),i.childLanes=Kh(t,a,n),e.memoizedState=$h,e=s);else if(Ri(e),md(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(L(419)),i.stack="",i.digest=a,Eo({value:i,source:null,stack:null}),e=Xh(t,e,n)}else if(ht||Go(t,e,n,!1),a=(n&t.childLanes)!==0,ht||a){if(a=ke,a!==null&&(i=n&-n,i=i&42?1:tm(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,na(t,i),nn(a,t,i),D1;l.data==="$?"||od(),e=Xh(t,e,n)}else l.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,$e=En(l.nextSibling),kt=e,be=!0,ws=null,xn=!1,t!==null&&(ln[un++]=Yn,ln[un++]=Kn,ln[un++]=Ss,Yn=t.id,Kn=t.overflow,Ss=e),e=td(e,i.children),e.flags|=4096);return e}return s?(xi(),s=i.fallback,l=e.mode,u=t.child,h=u.sibling,i=ei(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?s=ei(h,s):(s=As(s,l,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=t.child.memoizedState,l===null?l=Yh(n):(u=l.cachePool,u!==null?(h=it._currentValue,u=u.parent!==h?{parent:h,pool:h}:u):u=zv(),l={baseLanes:l.baseLanes|n,cachePool:u}),s.memoizedState=l,s.childLanes=Kh(t,a,n),e.memoizedState=$h,i):(Ri(e),n=t.child,t=n.sibling,n=ei(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function td(t,e){return e=$u({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function $u(t,e){return t=Zt(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Xh(t,e,n){return jr(e,t.child,null,n),t=td(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Dy(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),qf(t.return,e,n)}function Zh(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function k1(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(yt(t,e,i.children,n),i=st.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dy(t,n,e);else if(t.tag===19)Dy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(He(st,i),s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Fu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Zh(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Fu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Zh(e,!0,n,null,r);break;case"together":Zh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ri(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ji|=e.lanes,!(n&e.childLanes))if(t!==null){if(Go(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=ei(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ei(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Dm(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function Cw(t,e,n){switch(e.tag){case 3:Du(e,e.stateNode.containerInfo),wi(e,it,t.memoizedState.cache),Fo();break;case 27:case 5:Nf(e);break;case 4:Du(e,e.stateNode.containerInfo);break;case 10:wi(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Ri(e),e.flags|=128,null):n&e.child.childLanes?V1(t,e,n):(Ri(e),t=ri(t,e,n),t!==null?t.sibling:null);Ri(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Go(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return k1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(st,st.current),i)break;return null;case 22:case 23:return e.lanes=0,M1(t,e,n);case 24:wi(e,it,t.memoizedState.cache)}return ri(t,e,n)}function P1(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ht=!0;else{if(!Dm(t,n)&&!(e.flags&128))return ht=!1,Cw(t,e,n);ht=!!(t.flags&131072)}else ht=!1,be&&e.flags&1048576&&Lv(e,Lu,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,s=i._init;if(i=s(i._payload),e.type=i,typeof i=="function")fm(i)?(t=Ms(i,t),e.tag=1,e=Cy(null,e,i,t,n)):(e.tag=0,e=ed(null,e,i,t,n));else{if(i!=null){if(s=i.$$typeof,s===Jd){e.tag=11,e=wy(null,e,i,t,n);break e}else if(s===Wd){e.tag=14,e=Ry(null,e,i,t,n);break e}}throw e=If(i)||i,Error(L(306,e,""))}}return e;case 0:return ed(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=Ms(i,e.pendingProps),Cy(t,e,i,s,n);case 3:e:{if(Du(e,e.stateNode.containerInfo),t===null)throw Error(L(387));i=e.pendingProps;var r=e.memoizedState;s=r.element,Qf(t,e),no(e,i,null,n);var a=e.memoizedState;if(i=a.cache,wi(e,it,i),i!==r.cache&&Hf(e,[it],n,!0),to(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=Ny(t,e,i,n);break e}else if(i!==s){s=hn(Error(L(424)),e),Eo(s),e=Ny(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($e=En(t.firstChild),kt=e,be=!0,ws=null,xn=!0,n=S1(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Fo(),i===s){e=ri(t,e,n);break e}yt(t,e,i,n)}e=e.child}return e;case 26:return du(t,e),t===null?(n=Yy(e.type,null,e.pendingProps,null))?e.memoizedState=n:be||(n=e.type,t=e.pendingProps,i=ec(Ui.current).createElement(n),i[It]=e,i[Gt]=t,Tt(i,n,t),ct(i),e.stateNode=i):e.memoizedState=Yy(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Nf(e),t===null&&be&&(i=e.stateNode=bE(e.type,e.pendingProps,Ui.current),kt=e,xn=!0,s=$e,as(e.type)?(gd=s,$e=En(i.firstChild)):$e=s),yt(t,e,e.pendingProps.children,n),du(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&be&&((s=i=$e)&&(i=i2(i,e.type,e.pendingProps,xn),i!==null?(e.stateNode=i,kt=e,$e=En(i.firstChild),xn=!1,s=!0):s=!1),s||Ns(e)),Nf(e),s=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,i=r.children,fd(s,r)?i=null:a!==null&&fd(s,a)&&(e.flags|=32),e.memoizedState!==null&&(s=Em(t,e,Tw,null,null,n),Ro._currentValue=s),du(t,e),yt(t,e,i,n),e.child;case 6:return t===null&&be&&((t=n=$e)&&(n=s2(n,e.pendingProps,xn),n!==null?(e.stateNode=n,kt=e,$e=null,t=!0):t=!1),t||Ns(e)),null;case 13:return V1(t,e,n);case 4:return Du(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=jr(e,null,i,n):yt(t,e,i,n),e.child;case 11:return wy(t,e,e.type,e.pendingProps,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,wi(e,e.type,i.value),yt(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,Ds(e),s=Ct(s),i=i(s),e.flags|=1,yt(t,e,i,n),e.child;case 14:return Ry(t,e,e.type,e.pendingProps,n);case 15:return O1(t,e,e.type,e.pendingProps,n);case 19:return k1(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=$u(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=ei(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return M1(t,e,n);case 24:return Ds(e),i=Ct(it),t===null?(s=pm(),s===null&&(s=ke,r=gm(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),e.memoizedState={parent:i,cache:s},ym(e),wi(e,it,s)):(t.lanes&n&&(Qf(t,e),no(e,null,null,n),to()),s=t.memoizedState,r=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),wi(e,it,i)):(i=r.cache,wi(e,it,i),i!==s.cache&&Hf(e,[it],n,!0))),yt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(L(156,e.tag))}function Hn(t){t.flags|=4}function Oy(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!wE(e)){if(e=dn.current,e!==null&&((_e&4194048)===_e?Dn!==null:(_e&62914560)!==_e&&!(_e&536870912)||e!==Dn))throw Wa=Gf,Bv;t.flags|=8192}}function zl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?lv():536870912,t.lanes|=e,zr|=e)}function Pa(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Nw(t,e,n){var i=e.pendingProps;switch(mm(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(e),null;case 1:return Fe(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),ti(it),Mr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Va(e)?Hn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ly())),Fe(e),null;case 26:return n=e.memoizedState,t===null?(Hn(e),n!==null?(Fe(e),Oy(e,n)):(Fe(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Hn(e),Fe(e),Oy(e,n)):(Fe(e),e.flags&=-16777217):(t.memoizedProps!==i&&Hn(e),Fe(e),e.flags&=-16777217),null;case 27:Ou(e),n=Ui.current;var s=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Hn(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Fe(e),null}t=Cn.current,Va(e)?ay(e):(t=bE(s,i,n),e.stateNode=t,Hn(e))}return Fe(e),null;case 5:if(Ou(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Hn(e);else{if(!i){if(e.stateNode===null)throw Error(L(166));return Fe(e),null}if(t=Cn.current,Va(e))ay(e);else{switch(s=ec(Ui.current),t){case 1:t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?s.createElement(n,{is:i.is}):s.createElement(n)}}t[It]=e,t[Gt]=i;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=t;e:switch(Tt(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hn(e)}}return Fe(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Hn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(L(166));if(t=Ui.current,Va(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,s=kt,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}t[It]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||vE(t.nodeValue,n)),t||Ns(e)}else t=ec(t).createTextNode(i),t[It]=e,e.stateNode=t}return Fe(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Va(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[It]=e}else Fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fe(e),s=!1}else s=ly(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(Zn(e),e):(Zn(e),null)}if(Zn(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool);var r=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),zl(e,e.updateQueue),Fe(e),null;case 4:return Mr(),t===null&&jm(e.stateNode.containerInfo),Fe(e),null;case 10:return ti(e.type),Fe(e),null;case 19:if(ft(st),s=e.memoizedState,s===null)return Fe(e),null;if(i=(e.flags&128)!==0,r=s.rendering,r===null)if(i)Pa(s,!1);else{if(Ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=Fu(t),r!==null){for(e.flags|=128,Pa(s,!1),t=r.updateQueue,e.updateQueue=t,zl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Uv(n,t),n=n.sibling;return He(st,st.current&1|2),e.child}t=t.sibling}s.tail!==null&&Nn()>Ku&&(e.flags|=128,i=!0,Pa(s,!1),e.lanes=4194304)}else{if(!i)if(t=Fu(r),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,zl(e,t),Pa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!be)return Fe(e),null}else 2*Nn()-s.renderingStartTime>Ku&&n!==536870912&&(e.flags|=128,i=!0,Pa(s,!1),e.lanes=4194304);s.isBackwards?(r.sibling=e.child,e.child=r):(t=s.last,t!==null?t.sibling=r:e.child=r,s.last=r)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nn(),e.sibling=null,t=st.current,He(st,i?t&1|2:t&1),e):(Fe(e),null);case 22:case 23:return Zn(e),_m(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Fe(e),e.subtreeFlags&6&&(e.flags|=8192)):Fe(e),n=e.updateQueue,n!==null&&zl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&ft(Rs),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ti(it),Fe(e),null;case 25:return null;case 30:return null}throw Error(L(156,e.tag))}function Dw(t,e){switch(mm(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ti(it),Mr(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Ou(e),null;case 13:if(Zn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));Fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(st),null;case 4:return Mr(),null;case 10:return ti(e.type),null;case 22:case 23:return Zn(e),_m(),t!==null&&ft(Rs),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ti(it),null;case 25:return null;default:return null}}function U1(t,e){switch(mm(e),e.tag){case 3:ti(it),Mr();break;case 26:case 27:case 5:Ou(e);break;case 4:Mr();break;case 13:Zn(e);break;case 19:ft(st);break;case 10:ti(e.type);break;case 22:case 23:Zn(e),_m(),t!==null&&ft(Rs);break;case 24:ti(it)}}function Xo(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(l){Me(e,e.return,l)}}function Zi(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,s=e;var u=n,h=l;try{h()}catch(d){Me(s,u,d)}}}i=i.next}while(i!==r)}}catch(d){Me(e,e.return,d)}}function L1(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Fv(e,n)}catch(i){Me(t,t.return,i)}}}function j1(t,e,n){n.props=Ms(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){Me(t,e,i)}}function so(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(s){Me(t,e,s)}}function In(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){Me(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Me(t,e,s)}else n.current=null}function z1(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){Me(t,t.return,s)}}function Jh(t,e,n){try{var i=t.stateNode;Jw(i,t.type,n,e),i[Gt]=e}catch(s){Me(t,t.return,s)}}function B1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&as(t.type)||t.tag===4}function Wh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&as(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hc));else if(i!==4&&(i===27&&as(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(nd(t,e,n),t=t.sibling;t!==null;)nd(t,e,n),t=t.sibling}function Yu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&as(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Yu(t,e,n),t=t.sibling;t!==null;)Yu(t,e,n),t=t.sibling}function q1(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);Tt(e,i,n),e[It]=t,e[Gt]=n}catch(r){Me(t,t.return,r)}}var Gn=!1,Xe=!1,ef=!1,My=typeof WeakSet=="function"?WeakSet:Set,ut=null;function Ow(t,e){if(t=t.containerInfo,cd=sc,t=Cv(t),um(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,h=0,d=0,g=t,m=null;t:for(;;){for(var _;g!==n||s!==0&&g.nodeType!==3||(l=a+s),g!==r||i!==0&&g.nodeType!==3||(u=a+i),g.nodeType===3&&(a+=g.nodeValue.length),(_=g.firstChild)!==null;)m=g,g=_;for(;;){if(g===t)break t;if(m===n&&++h===s&&(l=a),m===r&&++d===i&&(u=a),(_=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(hd={focusedElem:t,selectionRange:n},sc=!1,ut=e;ut!==null;)if(e=ut,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,ut=t;else for(;ut!==null;){switch(e=ut,r=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var C=Ms(n.type,s,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(C,r),i.__reactInternalSnapshotBeforeUpdate=t}catch(D){Me(n,n.return,D)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)dd(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(L(163))}if(t=e.sibling,t!==null){t.return=e.return,ut=t;break}ut=e.return}}function H1(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:vi(t,n),i&4&&Xo(5,n);break;case 1:if(vi(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Me(n,n.return,a)}else{var s=Ms(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Me(n,n.return,a)}}i&64&&L1(n),i&512&&so(n,n.return);break;case 3:if(vi(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Fv(t,e)}catch(a){Me(n,n.return,a)}}break;case 27:e===null&&i&4&&q1(n);case 26:case 5:vi(t,n),e===null&&i&4&&z1(n),i&512&&so(n,n.return);break;case 12:vi(t,n);break;case 13:vi(t,n),i&4&&Q1(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Bw.bind(null,n),r2(t,n))));break;case 22:if(i=n.memoizedState!==null||Gn,!i){e=e!==null&&e.memoizedState!==null||Xe,s=Gn;var r=Xe;Gn=i,(Xe=e)&&!r?Ti(t,n,(n.subtreeFlags&8772)!==0):vi(t,n),Gn=s,Xe=r}break;case 30:break;default:vi(t,n)}}function F1(t){var e=t.alternate;e!==null&&(t.alternate=null,F1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&im(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Be=null,zt=!1;function Fn(t,e,n){for(n=n.child;n!==null;)G1(t,e,n),n=n.sibling}function G1(t,e,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(jo,n)}catch{}switch(n.tag){case 26:Xe||In(n,e),Fn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Xe||In(n,e);var i=Be,s=zt;as(n.type)&&(Be=n.stateNode,zt=!1),Fn(t,e,n),lo(n.stateNode),Be=i,zt=s;break;case 5:Xe||In(n,e);case 6:if(i=Be,s=zt,Be=null,Fn(t,e,n),Be=i,zt=s,Be!==null)if(zt)try{(Be.nodeType===9?Be.body:Be.nodeName==="HTML"?Be.ownerDocument.body:Be).removeChild(n.stateNode)}catch(r){Me(n,e,r)}else try{Be.removeChild(n.stateNode)}catch(r){Me(n,e,r)}break;case 18:Be!==null&&(zt?(t=Be,Gy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Co(t)):Gy(Be,n.stateNode));break;case 4:i=Be,s=zt,Be=n.stateNode.containerInfo,zt=!0,Fn(t,e,n),Be=i,zt=s;break;case 0:case 11:case 14:case 15:Xe||Zi(2,n,e),Xe||Zi(4,n,e),Fn(t,e,n);break;case 1:Xe||(In(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&j1(n,e,i)),Fn(t,e,n);break;case 21:Fn(t,e,n);break;case 22:Xe=(i=Xe)||n.memoizedState!==null,Fn(t,e,n),Xe=i;break;default:Fn(t,e,n)}}function Q1(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Co(t)}catch(n){Me(e,e.return,n)}}function Mw(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new My),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new My),e;default:throw Error(L(435,t.tag))}}function tf(t,e){var n=Mw(t);e.forEach(function(i){var s=qw.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}function Yt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(as(l.type)){Be=l.stateNode,zt=!1;break e}break;case 5:Be=l.stateNode,zt=!1;break e;case 3:case 4:Be=l.stateNode.containerInfo,zt=!0;break e}l=l.return}if(Be===null)throw Error(L(160));G1(r,a,s),Be=null,zt=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)$1(e,t),e=e.sibling}var yn=null;function $1(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Yt(e,t),Kt(t),i&4&&(Zi(3,t,t.return),Xo(3,t),Zi(5,t,t.return));break;case 1:Yt(e,t),Kt(t),i&512&&(Xe||n===null||In(n,n.return)),i&64&&Gn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=yn;if(Yt(e,t),Kt(t),i&512&&(Xe||n===null||In(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[qo]||r[It]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),Tt(r,i,n),r[It]=t,ct(r),i=r;break e;case"link":var a=Xy("link","href",s).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(r=a[l],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}r=s.createElement(i),Tt(r,i,n),s.head.appendChild(r);break;case"meta":if(a=Xy("meta","content",s).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(r=a[l],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}r=s.createElement(i),Tt(r,i,n),s.head.appendChild(r);break;default:throw Error(L(468,i))}r[It]=t,ct(r),i=r}t.stateNode=i}else Zy(s,t.type,t.stateNode);else t.stateNode=Ky(s,i,t.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?Zy(s,t.type,t.stateNode):Ky(s,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Jh(t,t.memoizedProps,n.memoizedProps)}break;case 27:Yt(e,t),Kt(t),i&512&&(Xe||n===null||In(n,n.return)),n!==null&&i&4&&Jh(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Yt(e,t),Kt(t),i&512&&(Xe||n===null||In(n,n.return)),t.flags&32){s=t.stateNode;try{kr(s,"")}catch(_){Me(t,t.return,_)}}i&4&&t.stateNode!=null&&(s=t.memoizedProps,Jh(t,s,n!==null?n.memoizedProps:s)),i&1024&&(ef=!0);break;case 6:if(Yt(e,t),Kt(t),i&4){if(t.stateNode===null)throw Error(L(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(_){Me(t,t.return,_)}}break;case 3:if(pu=null,s=yn,yn=tc(e.containerInfo),Yt(e,t),yn=s,Kt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Co(e.containerInfo)}catch(_){Me(t,t.return,_)}ef&&(ef=!1,Y1(t));break;case 4:i=yn,yn=tc(t.stateNode.containerInfo),Yt(e,t),Kt(t),yn=i;break;case 12:Yt(e,t),Kt(t);break;case 13:Yt(e,t),Kt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Pm=Nn()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,tf(t,i)));break;case 22:s=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Gn,d=Xe;if(Gn=h||s,Xe=d||u,Yt(e,t),Xe=d,Gn=h,Kt(t),i&8192)e:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||u||Gn||Xe||_s(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(r=u.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var g=u.memoizedProps.style,m=g!=null&&g.hasOwnProperty("display")?g.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(_){Me(u,u.return,_)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(_){Me(u,u.return,_)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,tf(t,n))));break;case 19:Yt(e,t),Kt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,tf(t,i)));break;case 30:break;case 21:break;default:Yt(e,t),Kt(t)}}function Kt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(B1(i)){n=i;break}i=i.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var s=n.stateNode,r=Wh(t);Yu(t,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(kr(a,""),n.flags&=-33);var l=Wh(t);Yu(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Wh(t);nd(t,h,u);break;default:throw Error(L(161))}}catch(d){Me(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Y1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Y1(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function vi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)H1(t,e.alternate,e),e=e.sibling}function _s(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Zi(4,e,e.return),_s(e);break;case 1:In(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&j1(e,e.return,n),_s(e);break;case 27:lo(e.stateNode);case 26:case 5:In(e,e.return),_s(e);break;case 22:e.memoizedState===null&&_s(e);break;case 30:_s(e);break;default:_s(e)}t=t.sibling}}function Ti(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,r=e,a=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(s,r,n),Xo(4,r);break;case 1:if(Ti(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(h){Me(i,i.return,h)}if(i=r,s=i.updateQueue,s!==null){var l=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)Hv(u[s],l)}catch(h){Me(i,i.return,h)}}n&&a&64&&L1(r),so(r,r.return);break;case 27:q1(r);case 26:case 5:Ti(s,r,n),n&&i===null&&a&4&&z1(r),so(r,r.return);break;case 12:Ti(s,r,n);break;case 13:Ti(s,r,n),n&&a&4&&Q1(s,r);break;case 22:r.memoizedState===null&&Ti(s,r,n),so(r,r.return);break;case 30:break;default:Ti(s,r,n)}e=e.sibling}}function Om(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Qo(n))}function Mm(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Qo(t))}function wn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)K1(t,e,n,i),e=e.sibling}function K1(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:wn(t,e,n,i),s&2048&&Xo(9,e);break;case 1:wn(t,e,n,i);break;case 3:wn(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Qo(t)));break;case 12:if(s&2048){wn(t,e,n,i),t=e.stateNode;try{var r=e.memoizedProps,a=r.id,l=r.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){Me(e,e.return,u)}}else wn(t,e,n,i);break;case 13:wn(t,e,n,i);break;case 23:break;case 22:r=e.stateNode,a=e.alternate,e.memoizedState!==null?r._visibility&2?wn(t,e,n,i):ro(t,e):r._visibility&2?wn(t,e,n,i):(r._visibility|=2,ir(t,e,n,i,(e.subtreeFlags&10256)!==0)),s&2048&&Om(a,e);break;case 24:wn(t,e,n,i),s&2048&&Mm(e.alternate,e);break;default:wn(t,e,n,i)}}function ir(t,e,n,i,s){for(s=s&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var r=t,a=e,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:ir(r,a,l,u,s),Xo(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?ir(r,a,l,u,s):ro(r,a):(d._visibility|=2,ir(r,a,l,u,s)),s&&h&2048&&Om(a.alternate,a);break;case 24:ir(r,a,l,u,s),s&&h&2048&&Mm(a.alternate,a);break;default:ir(r,a,l,u,s)}e=e.sibling}}function ro(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:ro(n,i),s&2048&&Om(i.alternate,i);break;case 24:ro(n,i),s&2048&&Mm(i.alternate,i);break;default:ro(n,i)}e=e.sibling}}var Ha=8192;function Zs(t){if(t.subtreeFlags&Ha)for(t=t.child;t!==null;)X1(t),t=t.sibling}function X1(t){switch(t.tag){case 26:Zs(t),t.flags&Ha&&t.memoizedState!==null&&_2(yn,t.memoizedState,t.memoizedProps);break;case 5:Zs(t);break;case 3:case 4:var e=yn;yn=tc(t.stateNode.containerInfo),Zs(t),yn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Ha,Ha=16777216,Zs(t),Ha=e):Zs(t));break;default:Zs(t)}}function Z1(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ua(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ut=i,W1(i,t)}Z1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)J1(t),t=t.sibling}function J1(t){switch(t.tag){case 0:case 11:case 15:Ua(t),t.flags&2048&&Zi(9,t,t.return);break;case 3:Ua(t);break;case 12:Ua(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,mu(t)):Ua(t);break;default:Ua(t)}}function mu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];ut=i,W1(i,t)}Z1(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Zi(8,e,e.return),mu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,mu(e));break;default:mu(e)}t=t.sibling}}function W1(t,e){for(;ut!==null;){var n=ut;switch(n.tag){case 0:case 11:case 15:Zi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Qo(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ut=i;else e:for(n=t;ut!==null;){i=ut;var s=i.sibling,r=i.return;if(F1(i),i===n){ut=null;break e}if(s!==null){s.return=r,ut=s;break e}ut=r}}}var Vw={getCacheForType:function(t){var e=Ct(it),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},kw=typeof WeakMap=="function"?WeakMap:Map,xe=0,ke=null,de=null,_e=0,Re=0,Xt=null,Vi=!1,ia=!1,Vm=!1,ai=0,Ye=0,Ji=0,xs=0,km=0,fn=0,zr=0,ao=null,Bt=null,id=!1,Pm=0,Ku=1/0,Xu=null,zi=null,vt=0,Bi=null,Br=null,Ir=0,sd=0,rd=null,eE=null,oo=0,ad=null;function tn(){if(xe&2&&_e!==0)return _e&-_e;if(ie.T!==null){var t=Pr;return t!==0?t:Lm()}return hv()}function tE(){fn===0&&(fn=!(_e&536870912)||be?ov():536870912);var t=dn.current;return t!==null&&(t.flags|=32),fn}function nn(t,e,n){(t===ke&&(Re===2||Re===9)||t.cancelPendingCommit!==null)&&(qr(t,0),ki(t,_e,fn,!1)),Bo(t,n),(!(xe&2)||t!==ke)&&(t===ke&&(!(xe&2)&&(xs|=n),Ye===4&&ki(t,_e,fn,!1)),Ln(t))}function nE(t,e,n){if(xe&6)throw Error(L(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||zo(t,e),s=i?Lw(t,e):nf(t,e,!0),r=i;do{if(s===0){ia&&!i&&ki(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!Pw(n)){s=nf(t,e,!1),r=!1;continue}if(s===2){if(r=e,t.errorRecoveryDisabledLanes&r)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;s=ao;var u=l.current.memoizedState.isDehydrated;if(u&&(qr(l,a).flags|=256),a=nf(l,a,!1),a!==2){if(Vm&&!u){l.errorRecoveryDisabledLanes|=r,xs|=r,s=4;break e}r=Bt,Bt=s,r!==null&&(Bt===null?Bt=r:Bt.push.apply(Bt,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){qr(t,0),ki(t,e,0,!0);break}e:{switch(i=t,r=s,r){case 0:case 1:throw Error(L(345));case 4:if((e&4194048)!==e)break;case 6:ki(i,e,fn,!Vi);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(L(329))}if((e&62914560)===e&&(s=Pm+300-Nn(),10<s)){if(ki(i,e,fn,!Vi),Nc(i,0,!0)!==0)break e;i.timeoutHandle=TE(Vy.bind(null,i,n,Bt,Xu,id,e,fn,xs,zr,Vi,r,2,-0,0),s);break e}Vy(i,n,Bt,Xu,id,e,fn,xs,zr,Vi,r,0,-0,0)}}break}while(!0);Ln(t)}function Vy(t,e,n,i,s,r,a,l,u,h,d,g,m,_){if(t.timeoutHandle=-1,g=e.subtreeFlags,(g&8192||(g&16785408)===16785408)&&(wo={stylesheets:null,count:0,unsuspend:y2},X1(e),g=v2(),g!==null)){t.cancelPendingCommit=g(Py.bind(null,t,e,r,n,i,s,a,l,u,d,1,m,_)),ki(t,r,a,!h);return}Py(t,e,r,n,i,s,a,l,u)}function Pw(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!rn(r(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ki(t,e,n,i){e&=~km,e&=~xs,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var r=31-en(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&uv(t,n,e)}function zc(){return xe&6?!0:(Zo(0),!1)}function Um(){if(de!==null){if(Re===0)var t=de.return;else t=de,Xn=qs=null,Am(t),xr=null,bo=0,t=de;for(;t!==null;)U1(t.alternate,t),t=t.return;de=null}}function qr(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,e2(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Um(),ke=t,de=n=ei(t.current,null),_e=e,Re=0,Xt=null,Vi=!1,ia=zo(t,e),Vm=!1,zr=fn=km=xs=Ji=Ye=0,Bt=ao=null,id=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-en(i),r=1<<s;e|=t[s],i&=~r}return ai=e,Vc(),n}function iE(t,e){he=null,ie.H=Hu,e===$o||e===Pc?(e=fy(),Re=3):e===Bv?(e=fy(),Re=4):Re=e===D1?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Xt=e,de===null&&(Ye=1,Qu(t,hn(e,t.current)))}function sE(){var t=ie.H;return ie.H=Hu,t===null?Hu:t}function rE(){var t=ie.A;return ie.A=Vw,t}function od(){Ye=4,Vi||(_e&4194048)!==_e&&dn.current!==null||(ia=!0),!(Ji&134217727)&&!(xs&134217727)||ke===null||ki(ke,_e,fn,!1)}function nf(t,e,n){var i=xe;xe|=2;var s=sE(),r=rE();(ke!==t||_e!==e)&&(Xu=null,qr(t,e)),e=!1;var a=Ye;e:do try{if(Re!==0&&de!==null){var l=de,u=Xt;switch(Re){case 8:Um(),a=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(e=!0);var h=Re;if(Re=0,Xt=null,Er(t,l,u,h),n&&ia){a=0;break e}break;default:h=Re,Re=0,Xt=null,Er(t,l,u,h)}}Uw(),a=Ye;break}catch(d){iE(t,d)}while(!0);return e&&t.shellSuspendCounter++,Xn=qs=null,xe=i,ie.H=s,ie.A=r,de===null&&(ke=null,_e=0,Vc()),a}function Uw(){for(;de!==null;)aE(de)}function Lw(t,e){var n=xe;xe|=2;var i=sE(),s=rE();ke!==t||_e!==e?(Xu=null,Ku=Nn()+500,qr(t,e)):ia=zo(t,e);e:do try{if(Re!==0&&de!==null){e=de;var r=Xt;t:switch(Re){case 1:Re=0,Xt=null,Er(t,e,r,1);break;case 2:case 9:if(hy(r)){Re=0,Xt=null,ky(e);break}e=function(){Re!==2&&Re!==9||ke!==t||(Re=7),Ln(t)},r.then(e,e);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:hy(r)?(Re=0,Xt=null,ky(e)):(Re=0,Xt=null,Er(t,e,r,7));break;case 5:var a=null;switch(de.tag){case 26:a=de.memoizedState;case 5:case 27:var l=de;if(!a||wE(a)){Re=0,Xt=null;var u=l.sibling;if(u!==null)de=u;else{var h=l.return;h!==null?(de=h,Bc(h)):de=null}break t}}Re=0,Xt=null,Er(t,e,r,5);break;case 6:Re=0,Xt=null,Er(t,e,r,6);break;case 8:Um(),Ye=6;break e;default:throw Error(L(462))}}jw();break}catch(d){iE(t,d)}while(!0);return Xn=qs=null,ie.H=i,ie.A=s,xe=n,de!==null?0:(ke=null,_e=0,Vc(),Ye)}function jw(){for(;de!==null&&!oS();)aE(de)}function aE(t){var e=P1(t.alternate,t,ai);t.memoizedProps=t.pendingProps,e===null?Bc(t):de=e}function ky(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Iy(n,e,e.pendingProps,e.type,void 0,_e);break;case 11:e=Iy(n,e,e.pendingProps,e.type.render,e.ref,_e);break;case 5:Am(e);default:U1(n,e),e=de=Uv(e,ai),e=P1(n,e,ai)}t.memoizedProps=t.pendingProps,e===null?Bc(t):de=e}function Er(t,e,n,i){Xn=qs=null,Am(e),xr=null,bo=0;var s=e.return;try{if(Iw(t,s,e,n,_e)){Ye=1,Qu(t,hn(n,t.current)),de=null;return}}catch(r){if(s!==null)throw de=s,r;Ye=1,Qu(t,hn(n,t.current)),de=null;return}e.flags&32768?(be||i===1?t=!0:ia||_e&536870912?t=!1:(Vi=t=!0,(i===2||i===9||i===3||i===6)&&(i=dn.current,i!==null&&i.tag===13&&(i.flags|=16384))),oE(e,t)):Bc(e)}function Bc(t){var e=t;do{if(e.flags&32768){oE(e,Vi);return}t=e.return;var n=Nw(e.alternate,e,ai);if(n!==null){de=n;return}if(e=e.sibling,e!==null){de=e;return}de=e=t}while(e!==null);Ye===0&&(Ye=5)}function oE(t,e){do{var n=Dw(t.alternate,t);if(n!==null){n.flags&=32767,de=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){de=t;return}de=t=n}while(t!==null);Ye=6,de=null}function Py(t,e,n,i,s,r,a,l,u){t.cancelPendingCommit=null;do qc();while(vt!==0);if(xe&6)throw Error(L(327));if(e!==null){if(e===t.current)throw Error(L(177));if(r=e.lanes|e.childLanes,r|=cm,yS(t,n,r,a,l,u),t===ke&&(de=ke=null,_e=0),Br=e,Bi=t,Ir=n,sd=r,rd=s,eE=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,Hw(Mu,function(){return fE(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=ie.T,ie.T=null,s=Ae.p,Ae.p=2,a=xe,xe|=4;try{Ow(t,e,n)}finally{xe=a,Ae.p=s,ie.T=i}}vt=1,lE(),uE(),cE()}}function lE(){if(vt===1){vt=0;var t=Bi,e=Br,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ie.T,ie.T=null;var i=Ae.p;Ae.p=2;var s=xe;xe|=4;try{$1(e,t);var r=hd,a=Cv(t.containerInfo),l=r.focusedElem,u=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&Iv(l.ownerDocument.documentElement,l)){if(u!==null&&um(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var g=l.ownerDocument||document,m=g&&g.defaultView||window;if(m.getSelection){var _=m.getSelection(),C=l.textContent.length,D=Math.min(u.start,C),k=u.end===void 0?D:Math.min(u.end,C);!_.extend&&D>k&&(a=k,k=D,D=a);var A=iy(l,D),E=iy(l,k);if(A&&E&&(_.rangeCount!==1||_.anchorNode!==A.node||_.anchorOffset!==A.offset||_.focusNode!==E.node||_.focusOffset!==E.offset)){var S=g.createRange();S.setStart(A.node,A.offset),_.removeAllRanges(),D>k?(_.addRange(S),_.extend(E.node,E.offset)):(S.setEnd(E.node,E.offset),_.addRange(S))}}}}for(g=[],_=l;_=_.parentNode;)_.nodeType===1&&g.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<g.length;l++){var O=g[l];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}sc=!!cd,hd=cd=null}finally{xe=s,Ae.p=i,ie.T=n}}t.current=e,vt=2}}function uE(){if(vt===2){vt=0;var t=Bi,e=Br,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ie.T,ie.T=null;var i=Ae.p;Ae.p=2;var s=xe;xe|=4;try{H1(t,e.alternate,e)}finally{xe=s,Ae.p=i,ie.T=n}}vt=3}}function cE(){if(vt===4||vt===3){vt=0,lS();var t=Bi,e=Br,n=Ir,i=eE;e.subtreeFlags&10256||e.flags&10256?vt=5:(vt=0,Br=Bi=null,hE(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(zi=null),nm(n),e=e.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(jo,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=ie.T,s=Ae.p,Ae.p=2,ie.T=null;try{for(var r=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];r(l.value,{componentStack:l.stack})}}finally{ie.T=e,Ae.p=s}}Ir&3&&qc(),Ln(t),s=t.pendingLanes,n&4194090&&s&42?t===ad?oo++:(oo=0,ad=t):oo=0,Zo(0)}}function hE(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Qo(e)))}function qc(t){return lE(),uE(),cE(),fE()}function fE(){if(vt!==5)return!1;var t=Bi,e=sd;sd=0;var n=nm(Ir),i=ie.T,s=Ae.p;try{Ae.p=32>n?32:n,ie.T=null,n=rd,rd=null;var r=Bi,a=Ir;if(vt=0,Br=Bi=null,Ir=0,xe&6)throw Error(L(331));var l=xe;if(xe|=4,J1(r.current),K1(r,r.current,a,n),xe=l,Zo(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(jo,r)}catch{}return!0}finally{Ae.p=s,ie.T=i,hE(t,e)}}function Uy(t,e,n){e=hn(n,e),e=Wf(t.stateNode,e,2),t=ji(t,e,2),t!==null&&(Bo(t,2),Ln(t))}function Me(t,e,n){if(t.tag===3)Uy(t,t,n);else for(;e!==null;){if(e.tag===3){Uy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(zi===null||!zi.has(i))){t=hn(n,t),n=C1(2),i=ji(e,n,2),i!==null&&(N1(n,i,e,t),Bo(i,2),Ln(i));break}}e=e.return}}function sf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new kw;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(Vm=!0,s.add(n),t=zw.bind(null,t,e,n),e.then(t,t))}function zw(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ke===t&&(_e&n)===n&&(Ye===4||Ye===3&&(_e&62914560)===_e&&300>Nn()-Pm?!(xe&2)&&qr(t,0):km|=n,zr===_e&&(zr=0)),Ln(t)}function dE(t,e){e===0&&(e=lv()),t=na(t,e),t!==null&&(Bo(t,e),Ln(t))}function Bw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dE(t,n)}function qw(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(L(314))}i!==null&&i.delete(e),dE(t,n)}function Hw(t,e){return em(t,e)}var Zu=null,sr=null,ld=!1,Ju=!1,rf=!1,Is=0;function Ln(t){t!==sr&&t.next===null&&(sr===null?Zu=sr=t:sr=sr.next=t),Ju=!0,ld||(ld=!0,Gw())}function Zo(t,e){if(!rf&&Ju){rf=!0;do for(var n=!1,i=Zu;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,l=i.pingedLanes;r=(1<<31-en(42|t)+1)-1,r&=s&~(a&~l),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Ly(i,r))}else r=_e,r=Nc(i,i===ke?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||zo(i,r)||(n=!0,Ly(i,r));i=i.next}while(n);rf=!1}}function Fw(){mE()}function mE(){Ju=ld=!1;var t=0;Is!==0&&(Ww()&&(t=Is),Is=0);for(var e=Nn(),n=null,i=Zu;i!==null;){var s=i.next,r=gE(i,e);r===0?(i.next=null,n===null?Zu=s:n.next=s,s===null&&(sr=n)):(n=i,(t!==0||r&3)&&(Ju=!0)),i=s}Zo(t)}function gE(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var a=31-en(r),l=1<<a,u=s[a];u===-1?(!(l&n)||l&i)&&(s[a]=pS(l,e)):u<=e&&(t.expiredLanes|=l),r&=~l}if(e=ke,n=_e,n=Nc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(Re===2||Re===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Nh(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||zo(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Nh(i),nm(n)){case 2:case 8:n=rv;break;case 32:n=Mu;break;case 268435456:n=av;break;default:n=Mu}return i=pE.bind(null,t),n=em(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Nh(i),t.callbackPriority=2,t.callbackNode=null,2}function pE(t,e){if(vt!==0&&vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(qc()&&t.callbackNode!==n)return null;var i=_e;return i=Nc(t,t===ke?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(nE(t,i,e),gE(t,Nn()),t.callbackNode!=null&&t.callbackNode===n?pE.bind(null,t):null)}function Ly(t,e){if(qc())return null;nE(t,e,!0)}function Gw(){t2(function(){xe&6?em(sv,Fw):mE()})}function Lm(){return Is===0&&(Is=ov()),Is}function jy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:au(""+t)}function zy(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Qw(t,e,n,i,s){if(e==="submit"&&n&&n.stateNode===s){var r=jy((s[Gt]||null).action),a=i.submitter;a&&(e=(e=a[Gt]||null)?jy(e.formAction):a.getAttribute("formAction"),e!==null&&(r=e,a=null));var l=new Dc("action","action",null,i,s);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Is!==0){var u=a?zy(s,a):new FormData(s);Zf(n,{pending:!0,data:u,method:s.method,action:r},null,u)}}else typeof r=="function"&&(l.preventDefault(),u=a?zy(s,a):new FormData(s),Zf(n,{pending:!0,data:u,method:s.method,action:r},r,u))},currentTarget:s}]})}}for(var af=0;af<jf.length;af++){var of=jf[af],$w=of.toLowerCase(),Yw=of[0].toUpperCase()+of.slice(1);An($w,"on"+Yw)}An(Dv,"onAnimationEnd");An(Ov,"onAnimationIteration");An(Mv,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(hw,"onTransitionRun");An(fw,"onTransitionStart");An(dw,"onTransitionCancel");An(Vv,"onTransitionEnd");Vr("onMouseEnter",["mouseout","mouseover"]);Vr("onMouseLeave",["mouseout","mouseover"]);Vr("onPointerEnter",["pointerout","pointerover"]);Vr("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ao));function yE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=h;try{r(s)}catch(d){Gu(d)}s.currentTarget=null,r=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=h;try{r(s)}catch(d){Gu(d)}s.currentTarget=null,r=u}}}}function fe(t,e){var n=e[Of];n===void 0&&(n=e[Of]=new Set);var i=t+"__bubble";n.has(i)||(_E(e,t,2,!1),n.add(i))}function lf(t,e,n){var i=0;e&&(i|=4),_E(n,t,i,e)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function jm(t){if(!t[Bl]){t[Bl]=!0,fv.forEach(function(n){n!=="selectionchange"&&(Kw.has(n)||lf(n,!1,t),lf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bl]||(e[Bl]=!0,lf("selectionchange",!1,e))}}function _E(t,e,n,i){switch(NE(e)){case 2:var s=b2;break;case 8:s=A2;break;default:s=Hm}n=s.bind(null,e,n,t),s=void 0,!Pf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function uf(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;l!==null;){if(a=hr(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=r=a;continue e}l=l.parentNode}}i=i.return}Ev(function(){var h=r,d=rm(n),g=[];e:{var m=kv.get(t);if(m!==void 0){var _=Dc,C=t;switch(t){case"keypress":if(lu(n)===0)break e;case"keydown":case"keyup":_=HS;break;case"focusin":C="focus",_=Lh;break;case"focusout":C="blur",_=Lh;break;case"beforeblur":case"afterblur":_=Lh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=$p;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=DS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=QS;break;case Dv:case Ov:case Mv:_=VS;break;case Vv:_=YS;break;case"scroll":case"scrollend":_=CS;break;case"wheel":_=XS;break;case"copy":case"cut":case"paste":_=PS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Kp;break;case"toggle":case"beforetoggle":_=JS}var D=(e&4)!==0,k=!D&&(t==="scroll"||t==="scrollend"),A=D?m!==null?m+"Capture":null:m;D=[];for(var E=h,S;E!==null;){var O=E;if(S=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||S===null||A===null||(O=yo(E,A),O!=null&&D.push(So(E,O,S))),k)break;E=E.return}0<D.length&&(m=new _(m,C,null,n,d),g.push({event:m,listeners:D}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==kf&&(C=n.relatedTarget||n.fromElement)&&(hr(C)||C[ea]))break e;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(C=n.relatedTarget||n.toElement,_=h,C=C?hr(C):null,C!==null&&(k=Lo(C),D=C.tag,C!==k||D!==5&&D!==27&&D!==6)&&(C=null)):(_=null,C=h),_!==C)){if(D=$p,O="onMouseLeave",A="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(D=Kp,O="onPointerLeave",A="onPointerEnter",E="pointer"),k=_==null?m:qa(_),S=C==null?m:qa(C),m=new D(O,E+"leave",_,n,d),m.target=k,m.relatedTarget=S,O=null,hr(d)===h&&(D=new D(A,E+"enter",C,n,d),D.target=S,D.relatedTarget=k,O=D),k=O,_&&C)t:{for(D=_,A=C,E=0,S=D;S;S=Js(S))E++;for(S=0,O=A;O;O=Js(O))S++;for(;0<E-S;)D=Js(D),E--;for(;0<S-E;)A=Js(A),S--;for(;E--;){if(D===A||A!==null&&D===A.alternate)break t;D=Js(D),A=Js(A)}D=null}else D=null;_!==null&&By(g,m,_,D,!1),C!==null&&k!==null&&By(g,k,C,D,!0)}}e:{if(m=h?qa(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var B=Wp;else if(Jp(m))if(Rv)B=lw;else{B=aw;var z=rw}else _=m.nodeName,!_||_.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?h&&sm(h.elementType)&&(B=Wp):B=ow;if(B&&(B=B(t,h))){wv(g,B,n,d);break e}z&&z(t,m,h),t==="focusout"&&h&&m.type==="number"&&h.memoizedProps.value!=null&&Vf(m,"number",m.value)}switch(z=h?qa(h):window,t){case"focusin":(Jp(z)||z.contentEditable==="true")&&(mr=z,Uf=h,Za=null);break;case"focusout":Za=Uf=mr=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,sy(g,n,d);break;case"selectionchange":if(cw)break;case"keydown":case"keyup":sy(g,n,d)}var T;if(lm)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else dr?Av(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(bv&&n.locale!=="ko"&&(dr||y!=="onCompositionStart"?y==="onCompositionEnd"&&dr&&(T=Tv()):(Mi=d,am="value"in Mi?Mi.value:Mi.textContent,dr=!0)),z=Wu(h,y),0<z.length&&(y=new Yp(y,t,null,n,d),g.push({event:y,listeners:z}),T?y.data=T:(T=Sv(n),T!==null&&(y.data=T)))),(T=ew?tw(t,n):nw(t,n))&&(y=Wu(h,"onBeforeInput"),0<y.length&&(z=new Yp("onBeforeInput","beforeinput",null,n,d),g.push({event:z,listeners:y}),z.data=T)),Qw(g,t,h,n,d)}yE(g,e)})}function So(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wu(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=yo(t,n),s!=null&&i.unshift(So(t,s,r)),s=yo(t,e),s!=null&&i.push(So(t,s,r))),t.tag===3)return i;t=t.return}return[]}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function By(t,e,n,i,s){for(var r=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,s?(h=yo(n,r),h!=null&&a.unshift(So(n,h,u))):s||(h=yo(n,r),h!=null&&a.push(So(n,h,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Xw=/\r\n?/g,Zw=/\u0000|\uFFFD/g;function qy(t){return(typeof t=="string"?t:""+t).replace(Xw,`
`).replace(Zw,"")}function vE(t,e){return e=qy(e),qy(t)===e}function Hc(){}function Ie(t,e,n,i,s,r){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||kr(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&kr(t,""+i);break;case"className":Vl(t,"class",i);break;case"tabIndex":Vl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Vl(t,n,i);break;case"style":vv(t,i,r);break;case"data":if(e!=="object"){Vl(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=au(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&Ie(t,e,"name",s.name,s,null),Ie(t,e,"formEncType",s.formEncType,s,null),Ie(t,e,"formMethod",s.formMethod,s,null),Ie(t,e,"formTarget",s.formTarget,s,null)):(Ie(t,e,"encType",s.encType,s,null),Ie(t,e,"method",s.method,s,null),Ie(t,e,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=au(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Hc);break;case"onScroll":i!=null&&fe("scroll",t);break;case"onScrollEnd":i!=null&&fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=au(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":fe("beforetoggle",t),fe("toggle",t),ru(t,"popover",i);break;case"xlinkActuate":qn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":qn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":qn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":qn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":qn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":qn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":qn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":qn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":qn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ru(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=xS.get(n)||n,ru(t,n,i))}}function ud(t,e,n,i,s,r){switch(n){case"style":vv(t,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(L(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(L(60));t.innerHTML=n}}break;case"children":typeof i=="string"?kr(t,i):(typeof i=="number"||typeof i=="bigint")&&kr(t,""+i);break;case"onScroll":i!=null&&fe("scroll",t);break;case"onScrollEnd":i!=null&&fe("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Hc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),r=t[Gt]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,s);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):ru(t,n,i)}}}function Tt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",t),fe("load",t);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:Ie(t,e,r,a,n,null)}}s&&Ie(t,e,"srcSet",n.srcSet,n,null),i&&Ie(t,e,"src",n.src,n,null);return;case"input":fe("invalid",t);var l=r=a=s=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":s=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(L(137,e));break;default:Ie(t,e,i,d,n,null)}}pv(t,r,l,u,h,a,s,!1),Vu(t);return;case"select":fe("invalid",t),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Ie(t,e,s,l,n,null)}e=r,n=a,t.multiple=!!i,e!=null?br(t,!!i,e,!1):n!=null&&br(t,!!i,n,!0);return;case"textarea":fe("invalid",t),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(L(91));break;default:Ie(t,e,a,l,n,null)}_v(t,i,s,r),Vu(t);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ie(t,e,u,i,n,null)}return;case"dialog":fe("beforetoggle",t),fe("toggle",t),fe("cancel",t),fe("close",t);break;case"iframe":case"object":fe("load",t);break;case"video":case"audio":for(i=0;i<Ao.length;i++)fe(Ao[i],t);break;case"image":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"embed":case"source":case"link":fe("error",t),fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,e));default:Ie(t,e,h,i,n,null)}return;default:if(sm(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&ud(t,e,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Ie(t,e,l,i,n,null))}function Jw(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,l=null,u=null,h=null,d=null;for(_ in n){var g=n[_];if(n.hasOwnProperty(_)&&g!=null)switch(_){case"checked":break;case"value":break;case"defaultValue":u=g;default:i.hasOwnProperty(_)||Ie(t,e,_,null,i,g)}}for(var m in i){var _=i[m];if(g=n[m],i.hasOwnProperty(m)&&(_!=null||g!=null))switch(m){case"type":r=_;break;case"name":s=_;break;case"checked":h=_;break;case"defaultChecked":d=_;break;case"value":a=_;break;case"defaultValue":l=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(L(137,e));break;default:_!==g&&Ie(t,e,m,_,i,g)}}Mf(t,a,l,u,h,d,r,s);return;case"select":_=a=l=m=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":_=u;default:i.hasOwnProperty(r)||Ie(t,e,r,null,i,u)}for(s in i)if(r=i[s],u=n[s],i.hasOwnProperty(s)&&(r!=null||u!=null))switch(s){case"value":m=r;break;case"defaultValue":l=r;break;case"multiple":a=r;default:r!==u&&Ie(t,e,s,r,i,u)}e=l,n=a,i=_,m!=null?br(t,!!n,m,!1):!!i!=!!n&&(e!=null?br(t,!!n,e,!0):br(t,!!n,n?[]:"",!1));return;case"textarea":_=m=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Ie(t,e,l,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":m=s;break;case"defaultValue":_=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(L(91));break;default:s!==r&&Ie(t,e,a,s,i,r)}yv(t,m,_);return;case"option":for(var C in n)if(m=n[C],n.hasOwnProperty(C)&&m!=null&&!i.hasOwnProperty(C))switch(C){case"selected":t.selected=!1;break;default:Ie(t,e,C,null,i,m)}for(u in i)if(m=i[u],_=n[u],i.hasOwnProperty(u)&&m!==_&&(m!=null||_!=null))switch(u){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ie(t,e,u,m,i,_)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D in n)m=n[D],n.hasOwnProperty(D)&&m!=null&&!i.hasOwnProperty(D)&&Ie(t,e,D,null,i,m);for(h in i)if(m=i[h],_=n[h],i.hasOwnProperty(h)&&m!==_&&(m!=null||_!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(L(137,e));break;default:Ie(t,e,h,m,i,_)}return;default:if(sm(e)){for(var k in n)m=n[k],n.hasOwnProperty(k)&&m!==void 0&&!i.hasOwnProperty(k)&&ud(t,e,k,void 0,i,m);for(d in i)m=i[d],_=n[d],!i.hasOwnProperty(d)||m===_||m===void 0&&_===void 0||ud(t,e,d,m,i,_);return}}for(var A in n)m=n[A],n.hasOwnProperty(A)&&m!=null&&!i.hasOwnProperty(A)&&Ie(t,e,A,null,i,m);for(g in i)m=i[g],_=n[g],!i.hasOwnProperty(g)||m===_||m==null&&_==null||Ie(t,e,g,m,i,_)}var cd=null,hd=null;function ec(t){return t.nodeType===9?t:t.ownerDocument}function Hy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EE(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function fd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cf=null;function Ww(){var t=window.event;return t&&t.type==="popstate"?t===cf?!1:(cf=t,!0):(cf=null,!1)}var TE=typeof setTimeout=="function"?setTimeout:void 0,e2=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,t2=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(t){return Fy.resolve(null).then(t).catch(n2)}:TE;function n2(t){setTimeout(function(){throw t})}function as(t){return t==="head"}function Gy(t,e){var n=e,i=0,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(0<i&&8>i){n=i;var a=t.ownerDocument;if(n&1&&lo(a.documentElement),n&2&&lo(a.body),n&4)for(n=a.head,lo(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[qo]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(s===0){t.removeChild(r),Co(e);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:i=n.charCodeAt(0)-48;else i=0;n=r}while(n);Co(e)}function dd(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":dd(n),im(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function i2(t,e,n,i){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[qo])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=En(t.nextSibling),t===null)break}return null}function s2(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=En(t.nextSibling),t===null))return null;return t}function md(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function r2(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function En(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var gd=null;function Qy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function bE(t,e,n){switch(e=ec(n),t){case"html":if(t=e.documentElement,!t)throw Error(L(452));return t;case"head":if(t=e.head,!t)throw Error(L(453));return t;case"body":if(t=e.body,!t)throw Error(L(454));return t;default:throw Error(L(451))}}function lo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);im(t)}var mn=new Map,$y=new Set;function tc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var fi=Ae.d;Ae.d={f:a2,r:o2,D:l2,C:u2,L:c2,m:h2,X:d2,S:f2,M:m2};function a2(){var t=fi.f(),e=zc();return t||e}function o2(t){var e=ta(t);e!==null&&e.tag===5&&e.type==="form"?g1(e):fi.r(t)}var sa=typeof document>"u"?null:document;function AE(t,e,n){var i=sa;if(i&&typeof e=="string"&&e){var s=cn(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),$y.has(s)||($y.add(s),t={rel:t,crossOrigin:n,href:e},i.querySelector(s)===null&&(e=i.createElement("link"),Tt(e,"link",t),ct(e),i.head.appendChild(e)))}}function l2(t){fi.D(t),AE("dns-prefetch",t,null)}function u2(t,e){fi.C(t,e),AE("preconnect",t,e)}function c2(t,e,n){fi.L(t,e,n);var i=sa;if(i&&t&&e){var s='link[rel="preload"][as="'+cn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+cn(n.imageSizes)+'"]')):s+='[href="'+cn(t)+'"]';var r=s;switch(e){case"style":r=Hr(t);break;case"script":r=ra(t)}mn.has(r)||(t=je({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),mn.set(r,t),i.querySelector(s)!==null||e==="style"&&i.querySelector(Jo(r))||e==="script"&&i.querySelector(Wo(r))||(e=i.createElement("link"),Tt(e,"link",t),ct(e),i.head.appendChild(e)))}}function h2(t,e){fi.m(t,e);var n=sa;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+cn(i)+'"][href="'+cn(t)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=ra(t)}if(!mn.has(r)&&(t=je({rel:"modulepreload",href:t},e),mn.set(r,t),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Wo(r)))return}i=n.createElement("link"),Tt(i,"link",t),ct(i),n.head.appendChild(i)}}}function f2(t,e,n){fi.S(t,e,n);var i=sa;if(i&&t){var s=Tr(i).hoistableStyles,r=Hr(t);e=e||"default";var a=s.get(r);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(Jo(r)))l.loading=5;else{t=je({rel:"stylesheet",href:t,"data-precedence":e},n),(n=mn.get(r))&&zm(t,n);var u=a=i.createElement("link");ct(u),Tt(u,"link",t),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,gu(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},s.set(r,a)}}}function d2(t,e){fi.X(t,e);var n=sa;if(n&&t){var i=Tr(n).hoistableScripts,s=ra(t),r=i.get(s);r||(r=n.querySelector(Wo(s)),r||(t=je({src:t,async:!0},e),(e=mn.get(s))&&Bm(t,e),r=n.createElement("script"),ct(r),Tt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function m2(t,e){fi.M(t,e);var n=sa;if(n&&t){var i=Tr(n).hoistableScripts,s=ra(t),r=i.get(s);r||(r=n.querySelector(Wo(s)),r||(t=je({src:t,async:!0,type:"module"},e),(e=mn.get(s))&&Bm(t,e),r=n.createElement("script"),ct(r),Tt(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function Yy(t,e,n,i){var s=(s=Ui.current)?tc(s):null;if(!s)throw Error(L(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Hr(n.href),n=Tr(s).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Hr(n.href);var r=Tr(s).hoistableStyles,a=r.get(t);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,a),(r=s.querySelector(Jo(t)))&&!r._p&&(a.instance=r,a.state.loading=5),mn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},mn.set(t,n),r||g2(s,t,n,a.state))),e&&i===null)throw Error(L(528,""));return a}if(e&&i!==null)throw Error(L(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ra(n),n=Tr(s).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,t))}}function Hr(t){return'href="'+cn(t)+'"'}function Jo(t){return'link[rel="stylesheet"]['+t+"]"}function SE(t){return je({},t,{"data-precedence":t.precedence,precedence:null})}function g2(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Tt(e,"link",n),ct(e),t.head.appendChild(e))}function ra(t){return'[src="'+cn(t)+'"]'}function Wo(t){return"script[async]"+t}function Ky(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+cn(n.href)+'"]');if(i)return e.instance=i,ct(i),i;var s=je({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),ct(i),Tt(i,"style",s),gu(i,n.precedence,t),e.instance=i;case"stylesheet":s=Hr(n.href);var r=t.querySelector(Jo(s));if(r)return e.state.loading|=4,e.instance=r,ct(r),r;i=SE(n),(s=mn.get(s))&&zm(i,s),r=(t.ownerDocument||t).createElement("link"),ct(r);var a=r;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),Tt(r,"link",i),e.state.loading|=4,gu(r,n.precedence,t),e.instance=r;case"script":return r=ra(n.src),(s=t.querySelector(Wo(r)))?(e.instance=s,ct(s),s):(i=n,(s=mn.get(r))&&(i=je({},n),Bm(i,s)),t=t.ownerDocument||t,s=t.createElement("script"),ct(s),Tt(s,"link",i),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(L(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,gu(i,n.precedence,t));return e.instance}function gu(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)r=l;else if(r!==s)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function zm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Bm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var pu=null;function Xy(t,e,n){if(pu===null){var i=new Map,s=pu=new Map;s.set(n,i)}else s=pu,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var r=n[s];if(!(r[qo]||r[It]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(r):i.set(a,[r])}}return i}function Zy(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function p2(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function wE(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var wo=null;function y2(){}function _2(t,e,n){if(wo===null)throw Error(L(475));var i=wo;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var s=Hr(n.href),r=t.querySelector(Jo(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=nc.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=r,ct(r);return}r=t.ownerDocument||t,n=SE(n),(s=mn.get(s))&&zm(n,s),r=r.createElement("link"),ct(r);var a=r;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),Tt(r,"link",n),e.instance=r}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=nc.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function v2(){if(wo===null)throw Error(L(475));var t=wo;return t.stylesheets&&t.count===0&&pd(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&pd(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function nc(){if(this.count--,this.count===0){if(this.stylesheets)pd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ic=null;function pd(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ic=new Map,e.forEach(E2,t),ic=null,nc.call(t))}function E2(t,e){if(!(e.state.loading&4)){var n=ic.get(t);if(n)var i=n.get(null);else{n=new Map,ic.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=e.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=nc.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var Ro={$$typeof:$n,Provider:null,Consumer:null,_currentValue:bs,_currentValue2:bs,_threadCount:0};function T2(t,e,n,i,s,r,a,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dh(0),this.hiddenUpdates=Dh(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function RE(t,e,n,i,s,r,a,l,u,h,d,g){return t=new T2(t,e,n,a,l,u,h,g),e=1,r===!0&&(e|=24),r=Zt(3,null,null,e),t.current=r,r.stateNode=t,e=gm(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:e},ym(r),t}function xE(t){return t?(t=yr,t):yr}function IE(t,e,n,i,s,r){s=xE(s),i.context===null?i.context=s:i.pendingContext=s,i=Li(e),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=ji(t,i,e),n!==null&&(nn(n,t,e),eo(n,t,e))}function Jy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qm(t,e){Jy(t,e),(t=t.alternate)&&Jy(t,e)}function CE(t){if(t.tag===13){var e=na(t,67108864);e!==null&&nn(e,t,67108864),qm(t,67108864)}}var sc=!0;function b2(t,e,n,i){var s=ie.T;ie.T=null;var r=Ae.p;try{Ae.p=2,Hm(t,e,n,i)}finally{Ae.p=r,ie.T=s}}function A2(t,e,n,i){var s=ie.T;ie.T=null;var r=Ae.p;try{Ae.p=8,Hm(t,e,n,i)}finally{Ae.p=r,ie.T=s}}function Hm(t,e,n,i){if(sc){var s=yd(i);if(s===null)uf(t,e,i,rc,n),Wy(t,i);else if(w2(s,t,e,n,i))i.stopPropagation();else if(Wy(t,i),e&4&&-1<S2.indexOf(t)){for(;s!==null;){var r=ta(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=ps(r.pendingLanes);if(a!==0){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-en(a);l.entanglements[1]|=u,a&=~u}Ln(r),!(xe&6)&&(Ku=Nn()+500,Zo(0))}}break;case 13:l=na(r,2),l!==null&&nn(l,r,2),zc(),qm(r,2)}if(r=yd(i),r===null&&uf(t,e,i,rc,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else uf(t,e,i,null,n)}}function yd(t){return t=rm(t),Fm(t)}var rc=null;function Fm(t){if(rc=null,t=hr(t),t!==null){var e=Lo(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=ev(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return rc=t,null}function NE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uS()){case sv:return 2;case rv:return 8;case Mu:case cS:return 32;case av:return 268435456;default:return 32}default:return 32}}var _d=!1,qi=null,Hi=null,Fi=null,xo=new Map,Io=new Map,Ii=[],S2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wy(t,e){switch(t){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":xo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(e.pointerId)}}function La(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=ta(e),e!==null&&CE(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function w2(t,e,n,i,s){switch(e){case"focusin":return qi=La(qi,t,e,n,i,s),!0;case"dragenter":return Hi=La(Hi,t,e,n,i,s),!0;case"mouseover":return Fi=La(Fi,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return xo.set(r,La(xo.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Io.set(r,La(Io.get(r)||null,t,e,n,i,s)),!0}return!1}function DE(t){var e=hr(t.target);if(e!==null){var n=Lo(e);if(n!==null){if(e=n.tag,e===13){if(e=ev(n),e!==null){t.blockedOn=e,_S(t.priority,function(){if(n.tag===13){var i=tn();i=tm(i);var s=na(n,i);s!==null&&nn(s,n,i),qm(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yd(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);kf=i,n.target.dispatchEvent(i),kf=null}else return e=ta(n),e!==null&&CE(e),t.blockedOn=n,!1;e.shift()}return!0}function e0(t,e,n){yu(t)&&n.delete(e)}function R2(){_d=!1,qi!==null&&yu(qi)&&(qi=null),Hi!==null&&yu(Hi)&&(Hi=null),Fi!==null&&yu(Fi)&&(Fi=null),xo.forEach(e0),Io.forEach(e0)}function ql(t,e){t.blockedOn===e&&(t.blockedOn=null,_d||(_d=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,R2)))}var Hl=null;function t0(t){Hl!==t&&(Hl=t,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,function(){Hl===t&&(Hl=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],s=t[e+2];if(typeof i!="function"){if(Fm(i||n)===null)continue;break}var r=ta(n);r!==null&&(t.splice(e,3),e-=3,Zf(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function Co(t){function e(u){return ql(u,t)}qi!==null&&ql(qi,t),Hi!==null&&ql(Hi,t),Fi!==null&&ql(Fi,t),xo.forEach(e),Io.forEach(e);for(var n=0;n<Ii.length;n++){var i=Ii[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)DE(n),n.blockedOn===null&&Ii.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[Gt]||null;if(typeof r=="function")a||t0(n);else if(a){var l=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[Gt]||null)l=a.formAction;else if(Fm(s)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),t0(n)}}}function Gm(t){this._internalRoot=t}Fc.prototype.render=Gm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));var n=e.current,i=tn();IE(n,i,t,e,null,null)};Fc.prototype.unmount=Gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;IE(t.current,2,null,t,null,null),zc(),e[ea]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var e=hv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ii.length&&e!==0&&e<Ii[n].priority;n++);Ii.splice(n,0,t),n===0&&DE(t)}};var n0=J_.version;if(n0!=="19.1.0")throw Error(L(527,n0,"19.1.0"));Ae.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=nS(e),t=t!==null?tv(t):null,t=t===null?null:t.stateNode,t};var x2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{jo=Fl.inject(x2),Wt=Fl}catch{}}Ic.createRoot=function(t,e){if(!W_(t))throw Error(L(299));var n=!1,i="",s=R1,r=x1,a=I1,l=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=RE(t,1,!1,null,null,n,i,s,r,a,l,null),t[ea]=e.current,jm(t),new Gm(e)};Ic.hydrateRoot=function(t,e,n){if(!W_(t))throw Error(L(299));var i=!1,s="",r=R1,a=x1,l=I1,u=null,h=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(h=n.formState)),e=RE(t,1,!0,e,n??null,i,s,r,a,l,u,h),e.context=xE(null),n=e.current,i=tn(),i=tm(i),s=Li(i),s.callback=null,ji(n,s,i),n=i,e.current.lanes=n,Bo(e,n),Ln(e),t[ea]=e.current,jm(t),new Fc(e)};Ic.version="19.1.0";function OE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OE)}catch(t){console.error(t)}}OE(),Q_.exports=Ic;var I2=Q_.exports;const C2=P_(I2),N2=()=>{};var i0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},D2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],a=t[n++],l=t[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const r=t[n++],a=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},VE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],a=s+1<t.length,l=a?t[s+1]:0,u=s+2<t.length,h=u?t[s+2]:0,d=r>>2,g=(r&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,a||(m=64)),i.push(n[d],n[g],n[m],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ME(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):D2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||h==null||g==null)throw new O2;const m=r<<2|l>>4;if(i.push(m),h!==64){const _=l<<4&240|h>>2;if(i.push(_),g!==64){const C=h<<6&192|g;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class O2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M2=function(t){const e=ME(t);return VE.encodeByteArray(e,!0)},ac=function(t){return M2(t).replace(/\./g,"")},kE=function(t){try{return VE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=()=>V2().__FIREBASE_DEFAULTS__,P2=()=>{if(typeof process>"u"||typeof i0>"u")return;const t=i0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},U2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kE(t[1]);return e&&JSON.parse(e)},Gc=()=>{try{return N2()||k2()||P2()||U2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PE=t=>{var e,n;return(n=(e=Gc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},L2=t=>{const e=PE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},UE=()=>{var t;return(t=Gc())===null||t===void 0?void 0:t.config},LE=t=>{var e;return(e=Gc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){return t.endsWith(".cloudworkstations.dev")}async function jE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ac(JSON.stringify(n)),ac(JSON.stringify(a)),""].join(".")}const uo={};function B2(){const t={prod:[],emulator:[]};for(const e of Object.keys(uo))uo[e]?t.emulator.push(e):t.prod.push(e);return t}function q2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let s0=!1;function zE(t,e){if(typeof window>"u"||typeof document>"u"||!el(window.location.host)||uo[t]===e||uo[t]||s0)return;uo[t]=e;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",r=B2().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,_){m.setAttribute("width","24"),m.setAttribute("id",_),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{s0=!0,a()},m}function d(m,_){m.setAttribute("id",_),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=q2(i),_=n("text"),C=document.getElementById(_)||document.createElement("span"),D=n("learnmore"),k=document.getElementById(D)||document.createElement("a"),A=n("preprendIcon"),E=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;l(S),d(k,D);const O=h();u(E,A),S.append(E,C,k,O),document.body.appendChild(S)}r?(C.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function F2(){var t;const e=(t=Gc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y2(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function K2(){return!F2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X2(){try{return typeof indexedDB=="object"}catch{return!1}}function Z2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="FirebaseError";class di extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=J2,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tl.prototype.create)}}class tl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?W2(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new di(s,l,i)}}function W2(t,e){return t.replace(eR,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const eR=/\{\$([^}]+)}/g;function tR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vs(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],a=e[s];if(r0(r)&&r0(a)){if(!Vs(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function r0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function nR(t,e){const n=new iR(t,e);return n.subscribe.bind(n)}class iR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");sR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=hf),s.error===void 0&&(s.error=hf),s.complete===void 0&&(s.complete=hf);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function hf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){return t&&t._delegate?t._delegate:t}class ks{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new j2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oR(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:aR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aR(t){return t===vs?void 0:t}function oR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const uR={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},cR=me.INFO,hR={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},fR=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=hR[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qm{constructor(e){this.name=e,this._logLevel=cR,this._logHandler=fR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const dR=(t,e)=>e.some(n=>t instanceof n);let a0,o0;function mR(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gR(){return o0||(o0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BE=new WeakMap,vd=new WeakMap,qE=new WeakMap,ff=new WeakMap,$m=new WeakMap;function pR(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(Gi(t.result)),s()},a=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&BE.set(n,t)}).catch(()=>{}),$m.set(e,t),e}function yR(t){if(vd.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),s()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});vd.set(t,e)}let Ed={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _R(t){Ed=t(Ed)}function vR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(df(this),e,...n);return qE.set(i,e.sort?e.sort():[e]),Gi(i)}:gR().includes(t)?function(...e){return t.apply(df(this),e),Gi(BE.get(this))}:function(...e){return Gi(t.apply(df(this),e))}}function ER(t){return typeof t=="function"?vR(t):(t instanceof IDBTransaction&&yR(t),dR(t,mR())?new Proxy(t,Ed):t)}function Gi(t){if(t instanceof IDBRequest)return pR(t);if(ff.has(t))return ff.get(t);const e=ER(t);return e!==t&&(ff.set(t,e),$m.set(e,t)),e}const df=t=>$m.get(t);function TR(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(t,e),l=Gi(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Gi(a.result),u.oldVersion,u.newVersion,Gi(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const bR=["get","getKey","getAll","getAllKeys","count"],AR=["put","add","delete","clear"],mf=new Map;function l0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mf.get(e))return mf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=AR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||bR.includes(n)))return;const r=async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&u.done]))[0]};return mf.set(e,r),r}_R(t=>({...t,get:(e,n,i)=>l0(e,n)||t.get(e,n,i),has:(e,n)=>!!l0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function wR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Td="@firebase/app",u0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Qm("@firebase/app"),RR="@firebase/app-compat",xR="@firebase/analytics-compat",IR="@firebase/analytics",CR="@firebase/app-check-compat",NR="@firebase/app-check",DR="@firebase/auth",OR="@firebase/auth-compat",MR="@firebase/database",VR="@firebase/data-connect",kR="@firebase/database-compat",PR="@firebase/functions",UR="@firebase/functions-compat",LR="@firebase/installations",jR="@firebase/installations-compat",zR="@firebase/messaging",BR="@firebase/messaging-compat",qR="@firebase/performance",HR="@firebase/performance-compat",FR="@firebase/remote-config",GR="@firebase/remote-config-compat",QR="@firebase/storage",$R="@firebase/storage-compat",YR="@firebase/firestore",KR="@firebase/ai",XR="@firebase/firestore-compat",ZR="firebase",JR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="[DEFAULT]",WR={[Td]:"fire-core",[RR]:"fire-core-compat",[IR]:"fire-analytics",[xR]:"fire-analytics-compat",[NR]:"fire-app-check",[CR]:"fire-app-check-compat",[DR]:"fire-auth",[OR]:"fire-auth-compat",[MR]:"fire-rtdb",[VR]:"fire-data-connect",[kR]:"fire-rtdb-compat",[PR]:"fire-fn",[UR]:"fire-fn-compat",[LR]:"fire-iid",[jR]:"fire-iid-compat",[zR]:"fire-fcm",[BR]:"fire-fcm-compat",[qR]:"fire-perf",[HR]:"fire-perf-compat",[FR]:"fire-rc",[GR]:"fire-rc-compat",[QR]:"fire-gcs",[$R]:"fire-gcs-compat",[YR]:"fire-fst",[XR]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[ZR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,ex=new Map,Ad=new Map;function c0(t,e){try{t.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fr(t){const e=t.name;if(Ad.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;Ad.set(e,t);for(const n of oc.values())c0(n,t);for(const n of ex.values())c0(n,t);return!0}function Ym(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _n(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new tl("app","Firebase",tx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=JR;function HE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:bd,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Qi.create("bad-app-name",{appName:String(s)});if(n||(n=UE()),!n)throw Qi.create("no-options");const r=oc.get(s);if(r){if(Vs(n,r.options)&&Vs(i,r.config))return r;throw Qi.create("duplicate-app",{appName:s})}const a=new lR(s);for(const u of Ad.values())a.addComponent(u);const l=new nx(n,i,a);return oc.set(s,l),l}function FE(t=bd){const e=oc.get(t);if(!e&&t===bd&&UE())return HE();if(!e)throw Qi.create("no-app",{appName:t});return e}function $i(t,e,n){var i;let s=(i=WR[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(l.join(" "));return}Fr(new ks(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="firebase-heartbeat-database",sx=1,No="firebase-heartbeat-store";let gf=null;function GE(){return gf||(gf=TR(ix,sx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(No)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qi.create("idb-open",{originalErrorMessage:t.message})})),gf}async function rx(t){try{const n=(await GE()).transaction(No),i=await n.objectStore(No).get(QE(t));return await n.done,i}catch(e){if(e instanceof di)oi.warn(e.message);else{const n=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oi.warn(n.message)}}}async function h0(t,e){try{const i=(await GE()).transaction(No,"readwrite");await i.objectStore(No).put(e,QE(t)),await i.done}catch(n){if(n instanceof di)oi.warn(n.message);else{const i=Qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(i.message)}}}function QE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=1024,ox=30;class lx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cx(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=f0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>ox){const a=hx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){oi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f0(),{heartbeatsToSend:i,unsentEntries:s}=ux(this._heartbeatsCache.heartbeats),r=ac(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return oi.warn(n),""}}}function f0(){return new Date().toISOString().substring(0,10)}function ux(t,e=ax){const n=[];let i=t.slice();for(const s of t){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),d0(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),d0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class cx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X2()?Z2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return h0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return h0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function d0(t){return ac(JSON.stringify({version:2,heartbeats:t})).length}function hx(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t){Fr(new ks("platform-logger",e=>new SR(e),"PRIVATE")),Fr(new ks("heartbeat",e=>new lx(e),"PRIVATE")),$i(Td,u0,t),$i(Td,u0,"esm2017"),$i("fire-js","")}fx("");function Km(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function $E(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dx=$E,YE=new tl("auth","Firebase",$E());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Qm("@firebase/auth");function mx(t,...e){lc.logLevel<=me.WARN&&lc.warn(`Auth (${aa}): ${t}`,...e)}function _u(t,...e){lc.logLevel<=me.ERROR&&lc.error(`Auth (${aa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,...e){throw Zm(t,...e)}function Tn(t,...e){return Zm(t,...e)}function Xm(t,e,n){const i=Object.assign(Object.assign({},dx()),{[e]:n});return new tl("auth","Firebase",i).create(e,{appName:t.name})}function Cs(t){return Xm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gx(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&kn(t,"argument-error"),Xm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zm(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return YE.create(t,...e)}function ae(t,e,...n){if(!t)throw Zm(e,...n)}function Jn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _u(e),new Error(e)}function li(t,e){t||Jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function px(){return m0()==="http:"||m0()==="https:"}function m0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(px()||Q2()||"connection"in navigator)?navigator.onLine:!0}function _x(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.shortDelay=e,this.longDelay=n,li(n>e,"Short delay should be less than long delay!"),this.isMobile=H2()||$2()}get(){return yx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){li(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Tx=new il(3e4,6e4);function Wm(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function oa(t,e,n,i,s={}){return XE(t,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const l=nl(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:u},r);return G2()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&el(t.emulatorConfig.host)&&(h.credentials="include"),KE.fetch()(await ZE(t,t.config.apiHost,n,l),h)})}async function XE(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},vx),e);try{const s=new Ax(t),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw Gl(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gl(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Gl(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Gl(t,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Xm(t,d,h);kn(t,d)}}catch(s){if(s instanceof di)throw s;kn(t,"network-request-failed",{message:String(s)})}}async function bx(t,e,n,i,s={}){const r=await oa(t,e,n,i,s);return"mfaPendingCredential"in r&&kn(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function ZE(t,e,n,i){const s=`${e}${n}?${i}`,r=t,a=r.config.emulator?Jm(t.config,s):`${t.config.apiScheme}://${s}`;return Ex.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}class Ax{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Tn(this.auth,"network-request-failed")),Tx.get())})}}function Gl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Tn(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sx(t,e){return oa(t,"POST","/v1/accounts:delete",e)}async function uc(t,e){return oa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wx(t,e=!1){const n=dt(t),i=await n.getIdToken(e),s=eg(i);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:co(pf(s.auth_time)),issuedAtTime:co(pf(s.iat)),expirationTime:co(pf(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function pf(t){return Number(t)*1e3}function eg(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return _u("JWT malformed, contained fewer than 3 sections"),null;try{const s=kE(n);return s?JSON.parse(s):(_u("Failed to decode base64 JWT payload"),null)}catch(s){return _u("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function g0(t){const e=eg(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof di&&Rx(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Rx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=co(this.lastLoginAt),this.creationTime=co(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Do(t,uc(n,{idToken:i}));ae(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const a=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?JE(r.providerUserInfo):[],l=Cx(t.providerData,a),u=t.isAnonymous,h=!(t.email&&r.passwordHash)&&!(l!=null&&l.length),d=u?h:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new wd(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(t,g)}async function Ix(t){const e=dt(t);await cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cx(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function JE(t){return t.map(e=>{var{providerId:n}=e,i=Km(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(t,e){const n=await XE(t,{},async()=>{const i=nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=t.config,a=await ZE(t,s,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",KE.fetch()(a,{method:"POST",headers:l,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Dx(t,e){return oa(t,"POST","/v2/accounts:revokeToken",Wm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=g0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await Nx(e,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new Cr;return i&&(ae(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(ae(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(ae(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cr,this.toJSON())}_performRefresh(){return Jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vn{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,r=Km(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new wd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Do(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wx(this,e)}reload(){return Ix(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await cc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await Do(this,Sx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,r,a,l,u,h,d;const g=(i=n.displayName)!==null&&i!==void 0?i:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,_=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,C=(a=n.photoURL)!==null&&a!==void 0?a:void 0,D=(l=n.tenantId)!==null&&l!==void 0?l:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,A=(h=n.createdAt)!==null&&h!==void 0?h:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:O,isAnonymous:B,providerData:z,stsTokenManager:T}=n;ae(S&&T,e,"internal-error");const y=Cr.fromJSON(this.name,T);ae(typeof S=="string",e,"internal-error"),Ei(g,e.name),Ei(m,e.name),ae(typeof O=="boolean",e,"internal-error"),ae(typeof B=="boolean",e,"internal-error"),Ei(_,e.name),Ei(C,e.name),Ei(D,e.name),Ei(k,e.name),Ei(A,e.name),Ei(E,e.name);const b=new vn({uid:S,auth:e,email:m,emailVerified:O,displayName:g,isAnonymous:B,photoURL:C,phoneNumber:_,tenantId:D,stsTokenManager:y,createdAt:A,lastLoginAt:E});return z&&Array.isArray(z)&&(b.providerData=z.map(w=>Object.assign({},w))),k&&(b._redirectEventId=k),b}static async _fromIdTokenResponse(e,n,i=!1){const s=new Cr;s.updateFromServerResponse(n);const r=new vn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await cc(r),r}static async _fromGetAccountInfoResponse(e,n,i){const s=n.users[0];ae(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?JE(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new Cr;l.updateFromIdToken(i);const u=new vn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new wd(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;function Wn(t){li(t instanceof Function,"Expected a class definition");let e=p0.get(t);return e?(li(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WE.type="NONE";const y0=WE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(t,e,n){return`firebase:${t}:${e}:${n}`}class Nr{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=vu(this.userKey,s.apiKey,r),this.fullPersistenceKey=vu("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uc(this.auth,{idToken:e}).catch(()=>{});return n?vn._fromGetAccountInfoResponse(this.auth,n,e):null}return vn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Nr(Wn(y0),e,i);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=s[0]||Wn(y0);const a=vu(i,e.config.apiKey,e.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let g;if(typeof d=="string"){const m=await uc(e,{idToken:d}).catch(()=>{});if(!m)break;g=await vn._fromGetAccountInfoResponse(e,m,d)}else g=vn._fromJSON(e,d);h!==r&&(l=g),r=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new Nr(r,e,i):(r=u[0],l&&await r._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new Nr(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rT(e))return"Blackberry";if(aT(e))return"Webos";if(tT(e))return"Safari";if((e.includes("chrome/")||nT(e))&&!e.includes("edge/"))return"Chrome";if(sT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function eT(t=Nt()){return/firefox\//i.test(t)}function tT(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nT(t=Nt()){return/crios\//i.test(t)}function iT(t=Nt()){return/iemobile/i.test(t)}function sT(t=Nt()){return/android/i.test(t)}function rT(t=Nt()){return/blackberry/i.test(t)}function aT(t=Nt()){return/webos/i.test(t)}function tg(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ox(t=Nt()){var e;return tg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Mx(){return Y2()&&document.documentMode===10}function oT(t=Nt()){return tg(t)||sT(t)||aT(t)||rT(t)||/windows phone/i.test(t)||iT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t,e=[]){let n;switch(t){case"Browser":n=_0(Nt());break;case"Worker":n=`${_0(Nt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${aa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=r=>new Promise((a,l)=>{try{const u=e(r);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kx(t,e={}){return oa(t,"GET","/v2/passwordPolicy",Wm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=6;class Ux{constructor(e){var n,i,s,r;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Px,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,r,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(r=u.containsUppercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v0(this),this.idTokenSubscription=new v0(this),this.beforeStateQueue=new Vx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await Nr.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uc(this,{idToken:e}),i=await vn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_n(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_x()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(Cs(this));const n=e?dt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kx(this),n=new Ux(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Dx(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wn(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Nr.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(_n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qc(t){return dt(t)}class v0{constructor(e){this.auth=e,this.observer=null,this.addObserver=nR(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ng={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jx(t){ng=t}function zx(t){return ng.loadJS(t)}function Bx(){return ng.gapiScript}function qx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t,e){const n=Ym(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Vs(r,e??{}))return s;kn(s,"already-initialized")}return n.initialize({options:e})}function Fx(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Gx(t,e,n){const i=Qc(t);ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=uT(e),{host:a,port:l}=Qx(e),u=l===null?"":`:${l}`,h={url:`${r}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ae(Vs(h,i.config.emulator)&&Vs(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,el(a)?(jE(`${r}//${a}${u}`),zE("Auth",!0)):$x()}function uT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Qx(t){const e=uT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:E0(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:E0(a)}}}function E0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $x(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jn("not implemented")}_getIdTokenResponse(e){return Jn("not implemented")}_linkToIdToken(e,n){return Jn("not implemented")}_getReauthenticationResolver(e){return Jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dr(t,e){return bx(t,"POST","/v1/accounts:signInWithIdp",Wm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="http://localhost";class Ps extends cT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=n,r=Km(n,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Ps(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Dr(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Dr(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Dr(e,n)}buildRequest(){const e={requestUri:Yx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends ig{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends sl{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends sl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ps._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qn.credentialFromTaggedObject(e)}static credentialFromError(e){return Qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Qn.credential(n,i)}catch{return null}}}Qn.GOOGLE_SIGN_IN_METHOD="google.com";Qn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends sl{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends sl{constructor(){super("twitter.com")}static credential(e,n){return Ps._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Di.credential(n,i)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,s=!1){const r=await vn._fromIdTokenResponse(e,i,s),a=T0(i);return new Gr({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const s=T0(i);return new Gr({user:e,providerId:s,_tokenResponse:i,operationType:n})}}function T0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends di{constructor(e,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,hc.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,s){return new hc(e,n,i,s)}}function hT(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?hc._fromErrorAndOperation(t,r,e,i):r})}async function Kx(t,e,n=!1){const i=await Do(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(t,e,n=!1){const{auth:i}=t;if(_n(i.app))return Promise.reject(Cs(i));const s="reauthenticate";try{const r=await Do(t,hT(i,s,e,t),n);ae(r.idToken,i,"internal-error");const a=eg(r.idToken);ae(a,i,"internal-error");const{sub:l}=a;return ae(t.uid===l,i,"user-mismatch"),Gr._forOperation(t,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&kn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(t,e,n=!1){if(_n(t.app))return Promise.reject(Cs(t));const i="signIn",s=await hT(t,i,e),r=await Gr._fromIdTokenResponse(t,i,s);return n||await t._updateCurrentUser(r.user),r}function Jx(t,e,n,i){return dt(t).onIdTokenChanged(e,n,i)}function Wx(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function eI(t,e,n,i){return dt(t).onAuthStateChanged(e,n,i)}function tI(t){return dt(t).signOut()}const fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fc,"1"),this.storage.removeItem(fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=1e3,iI=10;class dT extends fT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);Mx()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,iI):s()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},nI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dT.type="LOCAL";const sI=dT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends fT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mT.type="SESSION";const gT=mT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new $c(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(async h=>h(n.origin,r)),u=await rI(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$c.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((l,u)=>{const h=sg("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(g){const m=g;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(m.data.response);break;default:clearTimeout(d),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return window}function oI(t){On().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(){return typeof On().WorkerGlobalScope<"u"&&typeof On().importScripts=="function"}async function lI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cI(){return pT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="firebaseLocalStorageDb",hI=1,dc="firebaseLocalStorage",_T="fbase_key";class rl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yc(t,e){return t.transaction([dc],e?"readwrite":"readonly").objectStore(dc)}function fI(){const t=indexedDB.deleteDatabase(yT);return new rl(t).toPromise()}function Rd(){const t=indexedDB.open(yT,hI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(dc,{keyPath:_T})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(dc)?e(i):(i.close(),await fI(),e(await Rd()))})})}async function b0(t,e,n){const i=Yc(t,!0).put({[_T]:e,value:n});return new rl(i).toPromise()}async function dI(t,e){const n=Yc(t,!1).get(e),i=await new rl(n).toPromise();return i===void 0?null:i.value}function A0(t,e){const n=Yc(t,!0).delete(e);return new rl(n).toPromise()}const mI=800,gI=3;class vT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>gI)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$c._getInstance(cI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lI(),!this.activeServiceWorker)return;this.sender=new aI(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rd();return await b0(e,fc,"1"),await A0(e,fc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>b0(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>dI(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>A0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Yc(s,!1).getAll();return new rl(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vT.type="LOCAL";const pI=vT;new il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t,e){return e?Wn(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends cT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Dr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Dr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yI(t){return Zx(t.auth,new rg(t),t.bypassAuthState)}function _I(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),Xx(n,new rg(t),t.bypassAuthState)}async function vI(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),Kx(n,new rg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yI;case"linkViaPopup":case"linkViaRedirect":return vI;case"reauthViaPopup":case"reauthViaRedirect":return _I;default:kn(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new il(2e3,1e4);async function TI(t,e,n){if(_n(t.app))return Promise.reject(Tn(t,"operation-not-supported-in-this-environment"));const i=Qc(t);gx(t,e,ig);const s=ET(i,n);return new Es(i,"signInViaPopup",e,s).executeNotNull()}class Es extends TT{constructor(e,n,i,s,r){super(e,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EI.get())};e()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="pendingRedirect",Eu=new Map;class AI extends TT{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Eu.get(this.auth._key());if(!e){try{const i=await SI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Eu.set(this.auth._key(),e)}return this.bypassAuthState||Eu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SI(t,e){const n=xI(e),i=RI(t);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function wI(t,e){Eu.set(t._key(),e)}function RI(t){return Wn(t._redirectPersistence)}function xI(t){return vu(bI,t.config.apiKey,t.name)}async function II(t,e,n=!1){if(_n(t.app))return Promise.reject(Cs(t));const i=Qc(t),s=ET(i,e),a=await new AI(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=10*60*1e3;class NI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!bT(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Tn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CI&&this.cachedEventUids.clear(),this.cachedEventUids.has(S0(e))}saveEventToCache(e){this.cachedEventUids.add(S0(e)),this.lastProcessedEventTime=Date.now()}}function S0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(t,e={}){return oa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VI=/^https?/;async function kI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OI(t);for(const n of e)try{if(PI(n))return}catch{}kn(t,"unauthorized-domain")}function PI(t){const e=Sd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!VI.test(n))return!1;if(MI.test(t))return i===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new il(3e4,6e4);function w0(){const t=On().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function LI(t){return new Promise((e,n)=>{var i,s,r;function a(){w0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w0(),n(Tn(t,"network-request-failed"))},timeout:UI.get()})}if(!((s=(i=On().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=On().gapi)===null||r===void 0)&&r.load)a();else{const l=qx("iframefcb");return On()[l]=()=>{gapi.load?a():n(Tn(t,"network-request-failed"))},zx(`${Bx()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Tu=null,e})}let Tu=null;function jI(t){return Tu=Tu||LI(t),Tu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new il(5e3,15e3),BI="__/auth/iframe",qI="emulator/auth/iframe",HI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GI(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jm(e,qI):`https://${t.config.authDomain}/${BI}`,i={apiKey:e.apiKey,appName:t.name,v:aa},s=FI.get(t.config.apiHost);s&&(i.eid=s);const r=t._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${nl(i).slice(1)}`}async function QI(t){const e=await jI(t),n=On().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:GI(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HI,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Tn(t,"network-request-failed"),l=On().setTimeout(()=>{r(a)},zI.get());function u(){On().clearTimeout(l),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YI=500,KI=600,XI="_blank",ZI="http://localhost";class R0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JI(t,e,n,i=YI,s=KI){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u=Object.assign(Object.assign({},$I),{width:i.toString(),height:s.toString(),top:r,left:a}),h=Nt().toLowerCase();n&&(l=nT(h)?XI:n),eT(h)&&(e=e||ZI,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[_,C])=>`${m}${_}=${C},`,"");if(Ox(h)&&l!=="_self")return WI(e||"",l),new R0(null);const g=window.open(e||"",l,d);ae(g,t,"popup-blocked");try{g.focus()}catch{}return new R0(g)}function WI(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="__/auth/handler",tC="emulator/auth/handler",nC=encodeURIComponent("fac");async function x0(t,e,n,i,s,r){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:aa,eventId:s};if(e instanceof ig){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",tR(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,g]of Object.entries({}))a[d]=g}if(e instanceof sl){const d=e.getScopes().filter(g=>g!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),h=u?`#${nC}=${encodeURIComponent(u)}`:"";return`${iC(t)}?${nl(l).slice(1)}${h}`}function iC({config:t}){return t.emulator?Jm(t,tC):`https://${t.authDomain}/${eC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="webStorageSupport";class sC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gT,this._completeRedirectFn=II,this._overrideRedirectResult=wI}async _openPopup(e,n,i,s){var r;li((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await x0(e,n,i,Sd(),s);return JI(e,a,sg())}async _openRedirect(e,n,i,s){await this._originValidation(e);const r=await x0(e,n,i,Sd(),s);return oI(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(li(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await QI(e),i=new NI(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yf,{type:yf},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[yf];a!==void 0&&n(!!a),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oT()||tT()||tg()}}const rC=sC;var I0="@firebase/auth",C0="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lC(t){Fr(new ks("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;ae(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lT(t)},h=new Lx(i,s,r,u);return Fx(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Fr(new ks("auth-internal",e=>{const n=Qc(e.getProvider("auth").getImmediate());return(i=>new aC(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(I0,C0,oC(t)),$i(I0,C0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=5*60,cC=LE("authIdTokenMaxAge")||uC;let N0=null;const hC=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>cC)return;const s=n==null?void 0:n.token;N0!==s&&(N0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function fC(t=FE()){const e=Ym(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Hx(t,{popupRedirectResolver:rC,persistence:[pI,sI,gT]}),i=LE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=hC(r.toString());Wx(n,a,()=>a(n.currentUser)),Jx(n,l=>a(l))}}const s=PE("auth");return s&&Gx(n,`http://${s}`),n}function dC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jx({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=s=>{const r=Tn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",dC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lC("Browser");var mC="firebase",gC="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(mC,gC,"app");var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,AT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,y){function b(){}b.prototype=y.prototype,T.D=y.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(w,x,I){for(var R=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)R[Se-2]=arguments[Se];return y.prototype[x].apply(w,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,y,b){b||(b=0);var w=Array(16);if(typeof y=="string")for(var x=0;16>x;++x)w[x]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(x=0;16>x;++x)w[x]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=T.g[0],b=T.g[1],x=T.g[2];var I=T.g[3],R=y+(I^b&(x^I))+w[0]+3614090360&4294967295;y=b+(R<<7&4294967295|R>>>25),R=I+(x^y&(b^x))+w[1]+3905402710&4294967295,I=y+(R<<12&4294967295|R>>>20),R=x+(b^I&(y^b))+w[2]+606105819&4294967295,x=I+(R<<17&4294967295|R>>>15),R=b+(y^x&(I^y))+w[3]+3250441966&4294967295,b=x+(R<<22&4294967295|R>>>10),R=y+(I^b&(x^I))+w[4]+4118548399&4294967295,y=b+(R<<7&4294967295|R>>>25),R=I+(x^y&(b^x))+w[5]+1200080426&4294967295,I=y+(R<<12&4294967295|R>>>20),R=x+(b^I&(y^b))+w[6]+2821735955&4294967295,x=I+(R<<17&4294967295|R>>>15),R=b+(y^x&(I^y))+w[7]+4249261313&4294967295,b=x+(R<<22&4294967295|R>>>10),R=y+(I^b&(x^I))+w[8]+1770035416&4294967295,y=b+(R<<7&4294967295|R>>>25),R=I+(x^y&(b^x))+w[9]+2336552879&4294967295,I=y+(R<<12&4294967295|R>>>20),R=x+(b^I&(y^b))+w[10]+4294925233&4294967295,x=I+(R<<17&4294967295|R>>>15),R=b+(y^x&(I^y))+w[11]+2304563134&4294967295,b=x+(R<<22&4294967295|R>>>10),R=y+(I^b&(x^I))+w[12]+1804603682&4294967295,y=b+(R<<7&4294967295|R>>>25),R=I+(x^y&(b^x))+w[13]+4254626195&4294967295,I=y+(R<<12&4294967295|R>>>20),R=x+(b^I&(y^b))+w[14]+2792965006&4294967295,x=I+(R<<17&4294967295|R>>>15),R=b+(y^x&(I^y))+w[15]+1236535329&4294967295,b=x+(R<<22&4294967295|R>>>10),R=y+(x^I&(b^x))+w[1]+4129170786&4294967295,y=b+(R<<5&4294967295|R>>>27),R=I+(b^x&(y^b))+w[6]+3225465664&4294967295,I=y+(R<<9&4294967295|R>>>23),R=x+(y^b&(I^y))+w[11]+643717713&4294967295,x=I+(R<<14&4294967295|R>>>18),R=b+(I^y&(x^I))+w[0]+3921069994&4294967295,b=x+(R<<20&4294967295|R>>>12),R=y+(x^I&(b^x))+w[5]+3593408605&4294967295,y=b+(R<<5&4294967295|R>>>27),R=I+(b^x&(y^b))+w[10]+38016083&4294967295,I=y+(R<<9&4294967295|R>>>23),R=x+(y^b&(I^y))+w[15]+3634488961&4294967295,x=I+(R<<14&4294967295|R>>>18),R=b+(I^y&(x^I))+w[4]+3889429448&4294967295,b=x+(R<<20&4294967295|R>>>12),R=y+(x^I&(b^x))+w[9]+568446438&4294967295,y=b+(R<<5&4294967295|R>>>27),R=I+(b^x&(y^b))+w[14]+3275163606&4294967295,I=y+(R<<9&4294967295|R>>>23),R=x+(y^b&(I^y))+w[3]+4107603335&4294967295,x=I+(R<<14&4294967295|R>>>18),R=b+(I^y&(x^I))+w[8]+1163531501&4294967295,b=x+(R<<20&4294967295|R>>>12),R=y+(x^I&(b^x))+w[13]+2850285829&4294967295,y=b+(R<<5&4294967295|R>>>27),R=I+(b^x&(y^b))+w[2]+4243563512&4294967295,I=y+(R<<9&4294967295|R>>>23),R=x+(y^b&(I^y))+w[7]+1735328473&4294967295,x=I+(R<<14&4294967295|R>>>18),R=b+(I^y&(x^I))+w[12]+2368359562&4294967295,b=x+(R<<20&4294967295|R>>>12),R=y+(b^x^I)+w[5]+4294588738&4294967295,y=b+(R<<4&4294967295|R>>>28),R=I+(y^b^x)+w[8]+2272392833&4294967295,I=y+(R<<11&4294967295|R>>>21),R=x+(I^y^b)+w[11]+1839030562&4294967295,x=I+(R<<16&4294967295|R>>>16),R=b+(x^I^y)+w[14]+4259657740&4294967295,b=x+(R<<23&4294967295|R>>>9),R=y+(b^x^I)+w[1]+2763975236&4294967295,y=b+(R<<4&4294967295|R>>>28),R=I+(y^b^x)+w[4]+1272893353&4294967295,I=y+(R<<11&4294967295|R>>>21),R=x+(I^y^b)+w[7]+4139469664&4294967295,x=I+(R<<16&4294967295|R>>>16),R=b+(x^I^y)+w[10]+3200236656&4294967295,b=x+(R<<23&4294967295|R>>>9),R=y+(b^x^I)+w[13]+681279174&4294967295,y=b+(R<<4&4294967295|R>>>28),R=I+(y^b^x)+w[0]+3936430074&4294967295,I=y+(R<<11&4294967295|R>>>21),R=x+(I^y^b)+w[3]+3572445317&4294967295,x=I+(R<<16&4294967295|R>>>16),R=b+(x^I^y)+w[6]+76029189&4294967295,b=x+(R<<23&4294967295|R>>>9),R=y+(b^x^I)+w[9]+3654602809&4294967295,y=b+(R<<4&4294967295|R>>>28),R=I+(y^b^x)+w[12]+3873151461&4294967295,I=y+(R<<11&4294967295|R>>>21),R=x+(I^y^b)+w[15]+530742520&4294967295,x=I+(R<<16&4294967295|R>>>16),R=b+(x^I^y)+w[2]+3299628645&4294967295,b=x+(R<<23&4294967295|R>>>9),R=y+(x^(b|~I))+w[0]+4096336452&4294967295,y=b+(R<<6&4294967295|R>>>26),R=I+(b^(y|~x))+w[7]+1126891415&4294967295,I=y+(R<<10&4294967295|R>>>22),R=x+(y^(I|~b))+w[14]+2878612391&4294967295,x=I+(R<<15&4294967295|R>>>17),R=b+(I^(x|~y))+w[5]+4237533241&4294967295,b=x+(R<<21&4294967295|R>>>11),R=y+(x^(b|~I))+w[12]+1700485571&4294967295,y=b+(R<<6&4294967295|R>>>26),R=I+(b^(y|~x))+w[3]+2399980690&4294967295,I=y+(R<<10&4294967295|R>>>22),R=x+(y^(I|~b))+w[10]+4293915773&4294967295,x=I+(R<<15&4294967295|R>>>17),R=b+(I^(x|~y))+w[1]+2240044497&4294967295,b=x+(R<<21&4294967295|R>>>11),R=y+(x^(b|~I))+w[8]+1873313359&4294967295,y=b+(R<<6&4294967295|R>>>26),R=I+(b^(y|~x))+w[15]+4264355552&4294967295,I=y+(R<<10&4294967295|R>>>22),R=x+(y^(I|~b))+w[6]+2734768916&4294967295,x=I+(R<<15&4294967295|R>>>17),R=b+(I^(x|~y))+w[13]+1309151649&4294967295,b=x+(R<<21&4294967295|R>>>11),R=y+(x^(b|~I))+w[4]+4149444226&4294967295,y=b+(R<<6&4294967295|R>>>26),R=I+(b^(y|~x))+w[11]+3174756917&4294967295,I=y+(R<<10&4294967295|R>>>22),R=x+(y^(I|~b))+w[2]+718787259&4294967295,x=I+(R<<15&4294967295|R>>>17),R=b+(I^(x|~y))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+x&4294967295,T.g[3]=T.g[3]+I&4294967295}i.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var b=y-this.blockSize,w=this.B,x=this.h,I=0;I<y;){if(x==0)for(;I<=b;)s(this,T,I),I+=this.blockSize;if(typeof T=="string"){for(;I<y;)if(w[x++]=T.charCodeAt(I++),x==this.blockSize){s(this,w),x=0;break}}else for(;I<y;)if(w[x++]=T[I++],x==this.blockSize){s(this,w),x=0;break}}this.h=x,this.o+=y},i.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var b=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=b&255,b/=256;for(this.u(T),T=Array(16),y=b=0;4>y;++y)for(var w=0;32>w;w+=8)T[b++]=this.g[y]>>>w&255;return T};function r(T,y){var b=l;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=y(T)}function a(T,y){this.h=y;for(var b=[],w=!0,x=T.length-1;0<=x;x--){var I=T[x]|0;w&&I==y||(b[x]=I,w=!1)}this.g=b}var l={};function u(T){return-128<=T&&128>T?r(T,function(y){return new a([y|0],0>y?-1:0)}):new a([T|0],0>T?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return k(h(-T));for(var y=[],b=1,w=0;T>=b;w++)y[w]=T/b|0,b*=4294967296;return new a(y,0)}function d(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return k(d(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(y,8)),w=g,x=0;x<T.length;x+=8){var I=Math.min(8,T.length-x),R=parseInt(T.substring(x,x+I),y);8>I?(I=h(Math.pow(y,I)),w=w.j(I).add(h(R))):(w=w.j(b),w=w.add(h(R)))}return w}var g=u(0),m=u(1),_=u(16777216);t=a.prototype,t.m=function(){if(D(this))return-k(this).m();for(var T=0,y=1,b=0;b<this.g.length;b++){var w=this.i(b);T+=(0<=w?w:4294967296+w)*y,y*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(D(this))return"-"+k(this).toString(T);for(var y=h(Math.pow(T,6)),b=this,w="";;){var x=O(b,y).g;b=A(b,x.j(y));var I=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=x,C(b))return I+w;for(;6>I.length;)I="0"+I;w=I+w}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function D(T){return T.h==-1}t.l=function(T){return T=A(this,T),D(T)?-1:C(T)?0:1};function k(T){for(var y=T.g.length,b=[],w=0;w<y;w++)b[w]=~T.g[w];return new a(b,~T.h).add(m)}t.abs=function(){return D(this)?k(this):this},t.add=function(T){for(var y=Math.max(this.g.length,T.g.length),b=[],w=0,x=0;x<=y;x++){var I=w+(this.i(x)&65535)+(T.i(x)&65535),R=(I>>>16)+(this.i(x)>>>16)+(T.i(x)>>>16);w=R>>>16,I&=65535,R&=65535,b[x]=R<<16|I}return new a(b,b[b.length-1]&-2147483648?-1:0)};function A(T,y){return T.add(k(y))}t.j=function(T){if(C(this)||C(T))return g;if(D(this))return D(T)?k(this).j(k(T)):k(k(this).j(T));if(D(T))return k(this.j(k(T)));if(0>this.l(_)&&0>T.l(_))return h(this.m()*T.m());for(var y=this.g.length+T.g.length,b=[],w=0;w<2*y;w++)b[w]=0;for(w=0;w<this.g.length;w++)for(var x=0;x<T.g.length;x++){var I=this.i(w)>>>16,R=this.i(w)&65535,Se=T.i(x)>>>16,mt=T.i(x)&65535;b[2*w+2*x]+=R*mt,E(b,2*w+2*x),b[2*w+2*x+1]+=I*mt,E(b,2*w+2*x+1),b[2*w+2*x+1]+=R*Se,E(b,2*w+2*x+1),b[2*w+2*x+2]+=I*Se,E(b,2*w+2*x+2)}for(w=0;w<y;w++)b[w]=b[2*w+1]<<16|b[2*w];for(w=y;w<2*y;w++)b[w]=0;return new a(b,0)};function E(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function S(T,y){this.g=T,this.h=y}function O(T,y){if(C(y))throw Error("division by zero");if(C(T))return new S(g,g);if(D(T))return y=O(k(T),y),new S(k(y.g),k(y.h));if(D(y))return y=O(T,k(y)),new S(k(y.g),y.h);if(30<T.g.length){if(D(T)||D(y))throw Error("slowDivide_ only works with positive integers.");for(var b=m,w=y;0>=w.l(T);)b=B(b),w=B(w);var x=z(b,1),I=z(w,1);for(w=z(w,2),b=z(b,2);!C(w);){var R=I.add(w);0>=R.l(T)&&(x=x.add(b),I=R),w=z(w,1),b=z(b,1)}return y=A(T,x.j(y)),new S(x,y)}for(x=g;0<=T.l(y);){for(b=Math.max(1,Math.floor(T.m()/y.m())),w=Math.ceil(Math.log(b)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),I=h(b),R=I.j(y);D(R)||0<R.l(T);)b-=w,I=h(b),R=I.j(y);C(I)&&(I=m),x=x.add(I),T=A(T,R)}return new S(x,T)}t.A=function(T){return O(this,T).h},t.and=function(T){for(var y=Math.max(this.g.length,T.g.length),b=[],w=0;w<y;w++)b[w]=this.i(w)&T.i(w);return new a(b,this.h&T.h)},t.or=function(T){for(var y=Math.max(this.g.length,T.g.length),b=[],w=0;w<y;w++)b[w]=this.i(w)|T.i(w);return new a(b,this.h|T.h)},t.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),b=[],w=0;w<y;w++)b[w]=this.i(w)^T.i(w);return new a(b,this.h^T.h)};function B(T){for(var y=T.g.length+1,b=[],w=0;w<y;w++)b[w]=T.i(w)<<1|T.i(w-1)>>>31;return new a(b,T.h)}function z(T,y){var b=y>>5;y%=32;for(var w=T.g.length-b,x=[],I=0;I<w;I++)x[I]=0<y?T.i(I+b)>>>y|T.i(I+b+1)<<32-y:T.i(I+b);return new a(x,T.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,AT=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Yi=a}).apply(typeof D0<"u"?D0:typeof self<"u"?self:typeof window<"u"?window:{});var Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ST,Fa,wT,bu,xd,RT,xT,IT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,c,f){return o==Array.prototype||o==Object.prototype||(o[c]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ql=="object"&&Ql];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function s(o,c){if(c)e:{var f=i;o=o.split(".");for(var p=0;p<o.length-1;p++){var N=o[p];if(!(N in f))break e;f=f[N]}o=o[o.length-1],p=f[o],c=c(p),c!=p&&c!=null&&e(f,o,{configurable:!0,writable:!0,value:c})}}function r(o,c){o instanceof String&&(o+="");var f=0,p=!1,N={next:function(){if(!p&&f<o.length){var V=f++;return{value:c(V,o[V]),done:!1}}return p=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}s("Array.prototype.values",function(o){return o||function(){return r(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var c=typeof o;return c=c!="object"?c:o?Array.isArray(o)?"array":c:"null",c=="array"||c=="object"&&typeof o.length=="number"}function h(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function d(o,c,f){return o.call.apply(o.bind,arguments)}function g(o,c,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,p),o.apply(c,N)}}return function(){return o.apply(c,arguments)}}function m(o,c,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:g,m.apply(null,arguments)}function _(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function C(o,c){function f(){}f.prototype=c.prototype,o.aa=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(p,N,V){for(var H=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)H[Oe-2]=arguments[Oe];return c.prototype[N].apply(p,H)}}function D(o){const c=o.length;if(0<c){const f=Array(c);for(let p=0;p<c;p++)f[p]=o[p];return f}return[]}function k(o,c){for(let f=1;f<arguments.length;f++){const p=arguments[f];if(u(p)){const N=o.length||0,V=p.length||0;o.length=N+V;for(let H=0;H<V;H++)o[N+H]=p[H]}else o.push(p)}}class A{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function E(o){return/^[\s\xa0]*$/.test(o)}function S(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function O(o){return O[" "](o),o}O[" "]=function(){};var B=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function z(o,c,f){for(const p in o)c.call(f,o[p],p,o)}function T(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function y(o){const c={};for(const f in o)c[f]=o[f];return c}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(o,c){let f,p;for(let N=1;N<arguments.length;N++){p=arguments[N];for(f in p)o[f]=p[f];for(let V=0;V<b.length;V++)f=b[V],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function x(o){var c=1;o=o.split(":");const f=[];for(;0<c&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function I(o){l.setTimeout(()=>{throw o},0)}function R(){var o=j;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class Se{constructor(){this.h=this.g=null}add(c,f){const p=mt.get();p.set(c,f),this.h?this.h.next=p:this.g=p,this.h=p}}var mt=new A(()=>new G,o=>o.reset());class G{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,te=!1,j=new Se,se=()=>{const o=l.Promise.resolve(void 0);ee=()=>{o.then(ve)}};var ve=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(f){I(f)}var c=mt;c.j(o),100>c.h&&(c.h++,o.next=c.g,c.g=o)}te=!1};function Ee(){this.s=this.s,this.C=this.C}Ee.prototype.s=!1,Ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pe(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var Dt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function Ot(o,c){if(Pe.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget){if(B){e:{try{O(c.nodeName);var N=!0;break e}catch{}N=!1}N||(c=null)}}else f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement);this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Mt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Ot.aa.h.call(this)}}C(Ot,Pe);var Mt={2:"touch",3:"pen",4:"mouse"};Ot.prototype.h=function(){Ot.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),us=0;function Sn(o,c,f,p,N){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!p,this.ha=N,this.key=++us,this.da=this.fa=!1}function jn(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Gs(o){this.src=o,this.g={},this.h=0}Gs.prototype.add=function(o,c,f,p,N){var V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);var H=ga(o,c,p,N);return-1<H?(c=o[H],f||(c.fa=!1)):(c=new Sn(c,this.src,V,!!p,N),c.fa=f,o.push(c)),c};function ma(o,c){var f=c.type;if(f in o.g){var p=o.g[f],N=Array.prototype.indexOf.call(p,c,void 0),V;(V=0<=N)&&Array.prototype.splice.call(p,N,1),V&&(jn(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function ga(o,c,f,p){for(var N=0;N<o.length;++N){var V=o[N];if(!V.da&&V.listener==c&&V.capture==!!f&&V.ha==p)return N}return-1}var Qs="closure_lm_"+(1e6*Math.random()|0),pa={};function dl(o,c,f,p,N){if(Array.isArray(c)){for(var V=0;V<c.length;V++)dl(o,c[V],f,p,N);return null}return f=$(f),o&&o[nt]?o.K(c,f,h(p)?!!p.capture:!1,N):fh(o,c,f,!1,p,N)}function fh(o,c,f,p,N,V){if(!c)throw Error("Invalid event type");var H=h(N)?!!N.capture:!!N,Oe=J(o);if(Oe||(o[Qs]=Oe=new Gs(o)),f=Oe.add(c,f,p,H,V),f.proxy)return f;if(p=dh(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)Dt||(N=H),N===void 0&&(N=!1),o.addEventListener(c.toString(),p,N);else if(o.attachEvent)o.attachEvent(q(c.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function dh(){function o(f){return c.call(o.src,o.listener,f)}const c=F;return o}function ml(o,c,f,p,N){if(Array.isArray(c))for(var V=0;V<c.length;V++)ml(o,c[V],f,p,N);else p=h(p)?!!p.capture:!!p,f=$(f),o&&o[nt]?(o=o.i,c=String(c).toString(),c in o.g&&(V=o.g[c],f=ga(V,f,p,N),-1<f&&(jn(V[f]),Array.prototype.splice.call(V,f,1),V.length==0&&(delete o.g[c],o.h--)))):o&&(o=J(o))&&(c=o.g[c.toString()],o=-1,c&&(o=ga(c,f,p,N)),(f=-1<o?c[o]:null)&&M(f))}function M(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[nt])ma(c.i,o);else{var f=o.type,p=o.proxy;c.removeEventListener?c.removeEventListener(f,p,o.capture):c.detachEvent?c.detachEvent(q(f),p):c.addListener&&c.removeListener&&c.removeListener(p),(f=J(c))?(ma(f,o),f.h==0&&(f.src=null,c[Qs]=null)):jn(o)}}}function q(o){return o in pa?pa[o]:pa[o]="on"+o}function F(o,c){if(o.da)o=!0;else{c=new Ot(c,this);var f=o.listener,p=o.ha||o.src;o.fa&&M(o),o=f.call(p,c)}return o}function J(o){return o=o[Qs],o instanceof Gs?o:null}var X="__closure_events_fn_"+(1e9*Math.random()>>>0);function $(o){return typeof o=="function"?o:(o[X]||(o[X]=function(c){return o.handleEvent(c)}),o[X])}function Q(){Ee.call(this),this.i=new Gs(this),this.M=this,this.F=null}C(Q,Ee),Q.prototype[nt]=!0,Q.prototype.removeEventListener=function(o,c,f,p){ml(this,o,c,f,p)};function re(o,c){var f,p=o.F;if(p)for(f=[];p;p=p.F)f.push(p);if(o=o.M,p=c.type||c,typeof c=="string")c=new Pe(c,o);else if(c instanceof Pe)c.target=c.target||o;else{var N=c;c=new Pe(p,o),w(c,N)}if(N=!0,f)for(var V=f.length-1;0<=V;V--){var H=c.g=f[V];N=Ne(H,p,!0,c)&&N}if(H=c.g=o,N=Ne(H,p,!0,c)&&N,N=Ne(H,p,!1,c)&&N,f)for(V=0;V<f.length;V++)H=c.g=f[V],N=Ne(H,p,!1,c)&&N}Q.prototype.N=function(){if(Q.aa.N.call(this),this.i){var o=this.i,c;for(c in o.g){for(var f=o.g[c],p=0;p<f.length;p++)jn(f[p]);delete o.g[c],o.h--}}this.F=null},Q.prototype.K=function(o,c,f,p){return this.i.add(String(o),c,!1,f,p)},Q.prototype.L=function(o,c,f,p){return this.i.add(String(o),c,!0,f,p)};function Ne(o,c,f,p){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();for(var N=!0,V=0;V<c.length;++V){var H=c[V];if(H&&!H.da&&H.capture==f){var Oe=H.listener,pt=H.ha||H.src;H.fa&&ma(o.i,H),N=Oe.call(pt,p)!==!1&&N}}return N&&!p.defaultPrevented}function De(o,c,f){if(typeof o=="function")f&&(o=m(o,f));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(o,c||0)}function pe(o){o.g=De(()=>{o.g=null,o.i&&(o.i=!1,pe(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class Lt extends Ee{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:pe(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gt(o){Ee.call(this),this.h=o,this.g={}}C(gt,Ee);var cs=[];function ya(o){z(o.g,function(c,f){this.g.hasOwnProperty(f)&&M(c)},o),o.g={}}gt.prototype.N=function(){gt.aa.N.call(this),ya(this)},gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mi=l.JSON.stringify,_a=l.JSON.parse,lA=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function mh(){}mh.prototype.h=null;function Bg(o){return o.h||(o.h=o.i())}function qg(){}var va={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gh(){Pe.call(this,"d")}C(gh,Pe);function ph(){Pe.call(this,"c")}C(ph,Pe);var hs={},Hg=null;function gl(){return Hg=Hg||new Q}hs.La="serverreachability";function Fg(o){Pe.call(this,hs.La,o)}C(Fg,Pe);function Ea(o){const c=gl();re(c,new Fg(c))}hs.STAT_EVENT="statevent";function Gg(o,c){Pe.call(this,hs.STAT_EVENT,o),this.stat=c}C(Gg,Pe);function Vt(o){const c=gl();re(c,new Gg(c,o))}hs.Ma="timingevent";function Qg(o,c){Pe.call(this,hs.Ma,o),this.size=c}C(Qg,Pe);function Ta(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function ba(){this.g=!0}ba.prototype.xa=function(){this.g=!1};function uA(o,c,f,p,N,V){o.info(function(){if(o.g)if(V)for(var H="",Oe=V.split("&"),pt=0;pt<Oe.length;pt++){var Te=Oe[pt].split("=");if(1<Te.length){var At=Te[0];Te=Te[1];var St=At.split("_");H=2<=St.length&&St[1]=="type"?H+(At+"="+Te+"&"):H+(At+"=redacted&")}}else H=null;else H=V;return"XMLHTTP REQ ("+p+") [attempt "+N+"]: "+c+`
`+f+`
`+H})}function cA(o,c,f,p,N,V,H){o.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+N+"]: "+c+`
`+f+`
`+V+" "+H})}function $s(o,c,f,p){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+fA(o,f)+(p?" "+p:"")})}function hA(o,c){o.info(function(){return"TIMEOUT: "+c})}ba.prototype.info=function(){};function fA(o,c){if(!o.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var p=f[o];if(!(2>p.length)){var N=p[1];if(Array.isArray(N)&&!(1>N.length)){var V=N[0];if(V!="noop"&&V!="stop"&&V!="close")for(var H=1;H<N.length;H++)N[H]=""}}}}return mi(f)}catch{return c}}var pl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$g={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yh;function yl(){}C(yl,mh),yl.prototype.g=function(){return new XMLHttpRequest},yl.prototype.i=function(){return{}},yh=new yl;function gi(o,c,f,p){this.j=o,this.i=c,this.l=f,this.R=p||1,this.U=new gt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yg}function Yg(){this.i=null,this.g="",this.h=!1}var Kg={},_h={};function vh(o,c,f){o.L=1,o.v=Tl(zn(c)),o.m=f,o.P=!0,Xg(o,null)}function Xg(o,c){o.F=Date.now(),_l(o),o.A=zn(o.v);var f=o.A,p=o.R;Array.isArray(p)||(p=[String(p)]),cp(f.i,"t",p),o.C=0,f=o.j.J,o.h=new Yg,o.g=Ip(o.j,f?c:null,!o.m),0<o.O&&(o.M=new Lt(m(o.Y,o,o.g),o.O)),c=o.U,f=o.g,p=o.ca;var N="readystatechange";Array.isArray(N)||(N&&(cs[0]=N.toString()),N=cs);for(var V=0;V<N.length;V++){var H=dl(f,N[V],p||c.handleEvent,!1,c.h||c);if(!H)break;c.g[H.key]=H}c=o.H?y(o.H):{},o.m?(o.u||(o.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,c)):(o.u="GET",o.g.ea(o.A,o.u,null,c)),Ea(),uA(o.i,o.u,o.A,o.l,o.R,o.m)}gi.prototype.ca=function(o){o=o.target;const c=this.M;c&&Bn(o)==3?c.j():this.Y(o)},gi.prototype.Y=function(o){try{if(o==this.g)e:{const St=Bn(this.g);var c=this.g.Ba();const Xs=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||yp(this.g)))){this.J||St!=4||c==7||(c==8||0>=Xs?Ea(3):Ea(2)),Eh(this);var f=this.g.Z();this.X=f;t:if(Zg(this)){var p=yp(this.g);o="";var N=p.length,V=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fs(this),Aa(this);var H="";break t}this.h.i=new l.TextDecoder}for(c=0;c<N;c++)this.h.h=!0,o+=this.h.i.decode(p[c],{stream:!(V&&c==N-1)});p.length=0,this.h.g+=o,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=f==200,cA(this.i,this.u,this.A,this.l,this.R,St,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,pt=this.g;if((Oe=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Oe)){var Te=Oe;break t}}Te=null}if(f=Te)$s(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Th(this,f);else{this.o=!1,this.s=3,Vt(12),fs(this),Aa(this);break e}}if(this.P){f=!0;let gn;for(;!this.J&&this.C<H.length;)if(gn=dA(this,H),gn==_h){St==4&&(this.s=4,Vt(14),f=!1),$s(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Kg){this.s=4,Vt(15),$s(this.i,this.l,H,"[Invalid Chunk]"),f=!1;break}else $s(this.i,this.l,gn,null),Th(this,gn);if(Zg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||H.length!=0||this.h.h||(this.s=1,Vt(16),f=!1),this.o=this.o&&f,!f)$s(this.i,this.l,H,"[Invalid Chunked Response]"),fs(this),Aa(this);else if(0<H.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),xh(At),At.M=!0,Vt(11))}}else $s(this.i,this.l,H,null),Th(this,H);St==4&&fs(this),this.o&&!this.J&&(St==4?Sp(this.j,this):(this.o=!1,_l(this)))}else NA(this.g),f==400&&0<H.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),fs(this),Aa(this)}}}catch{}finally{}};function Zg(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function dA(o,c){var f=o.C,p=c.indexOf(`
`,f);return p==-1?_h:(f=Number(c.substring(f,p)),isNaN(f)?Kg:(p+=1,p+f>c.length?_h:(c=c.slice(p,p+f),o.C=p+f,c)))}gi.prototype.cancel=function(){this.J=!0,fs(this)};function _l(o){o.S=Date.now()+o.I,Jg(o,o.I)}function Jg(o,c){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Ta(m(o.ba,o),c)}function Eh(o){o.B&&(l.clearTimeout(o.B),o.B=null)}gi.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(hA(this.i,this.A),this.L!=2&&(Ea(),Vt(17)),fs(this),this.s=2,Aa(this)):Jg(this,this.S-o)};function Aa(o){o.j.G==0||o.J||Sp(o.j,o)}function fs(o){Eh(o);var c=o.M;c&&typeof c.ma=="function"&&c.ma(),o.M=null,ya(o.U),o.g&&(c=o.g,o.g=null,c.abort(),c.ma())}function Th(o,c){try{var f=o.j;if(f.G!=0&&(f.g==o||bh(f.h,o))){if(!o.K&&bh(f.h,o)&&f.G==3){try{var p=f.Da.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var N=p;if(N[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)xl(f),wl(f);else break e;Rh(f),Vt(18)}}else f.za=N[1],0<f.za-f.T&&37500>N[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ta(m(f.Za,f),6e3));if(1>=tp(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ms(f,11)}else if((o.K||f.g==o)&&xl(f),!E(c))for(N=f.Da.g.parse(c),c=0;c<N.length;c++){let Te=N[c];if(f.T=Te[0],Te=Te[1],f.G==2)if(Te[0]=="c"){f.K=Te[1],f.ia=Te[2];const At=Te[3];At!=null&&(f.la=At,f.j.info("VER="+f.la));const St=Te[4];St!=null&&(f.Aa=St,f.j.info("SVER="+f.Aa));const Xs=Te[5];Xs!=null&&typeof Xs=="number"&&0<Xs&&(p=1.5*Xs,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const gn=o.g;if(gn){const Cl=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cl){var V=p.h;V.g||Cl.indexOf("spdy")==-1&&Cl.indexOf("quic")==-1&&Cl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Ah(V,V.h),V.h=null))}if(p.D){const Ih=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ih&&(p.ya=Ih,Ue(p.I,p.D,Ih))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var H=o;if(p.qa=xp(p,p.J?p.ia:null,p.W),H.K){np(p.h,H);var Oe=H,pt=p.L;pt&&(Oe.I=pt),Oe.B&&(Eh(Oe),_l(Oe)),p.g=H}else bp(p);0<f.i.length&&Rl(f)}else Te[0]!="stop"&&Te[0]!="close"||ms(f,7);else f.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?ms(f,7):wh(f):Te[0]!="noop"&&f.l&&f.l.ta(Te),f.v=0)}}Ea(4)}catch{}}var mA=class{constructor(o,c){this.g=o,this.map=c}};function Wg(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ep(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function tp(o){return o.h?1:o.g?o.g.size:0}function bh(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Ah(o,c){o.g?o.g.add(c):o.h=c}function np(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Wg.prototype.cancel=function(){if(this.i=ip(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function ip(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.D);return c}return D(o.i)}function gA(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var c=[],f=o.length,p=0;p<f;p++)c.push(o[p]);return c}c=[],f=0;for(p in o)c[f++]=o[p];return c}function pA(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var c=[];o=o.length;for(var f=0;f<o;f++)c.push(f);return c}c=[],f=0;for(const p in o)c[f++]=p;return c}}}function sp(o,c){if(o.forEach&&typeof o.forEach=="function")o.forEach(c,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,c,void 0);else for(var f=pA(o),p=gA(o),N=p.length,V=0;V<N;V++)c.call(void 0,p[V],f&&f[V],o)}var rp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yA(o,c){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),N=null;if(0<=p){var V=o[f].substring(0,p);N=o[f].substring(p+1)}else V=o[f];c(V,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function ds(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ds){this.h=o.h,vl(this,o.j),this.o=o.o,this.g=o.g,El(this,o.s),this.l=o.l;var c=o.i,f=new Ra;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),ap(this,f),this.m=o.m}else o&&(c=String(o).match(rp))?(this.h=!1,vl(this,c[1]||"",!0),this.o=Sa(c[2]||""),this.g=Sa(c[3]||"",!0),El(this,c[4]),this.l=Sa(c[5]||"",!0),ap(this,c[6]||"",!0),this.m=Sa(c[7]||"")):(this.h=!1,this.i=new Ra(null,this.h))}ds.prototype.toString=function(){var o=[],c=this.j;c&&o.push(wa(c,op,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(wa(c,op,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(wa(f,f.charAt(0)=="/"?EA:vA,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",wa(f,bA)),o.join("")};function zn(o){return new ds(o)}function vl(o,c,f){o.j=f?Sa(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function El(o,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);o.s=c}else o.s=null}function ap(o,c,f){c instanceof Ra?(o.i=c,AA(o.i,o.h)):(f||(c=wa(c,TA)),o.i=new Ra(c,o.h))}function Ue(o,c,f){o.i.set(c,f)}function Tl(o){return Ue(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Sa(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function wa(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,_A),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function _A(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var op=/[#\/\?@]/g,vA=/[#\?:]/g,EA=/[#\?]/g,TA=/[#\?@]/g,bA=/#/g;function Ra(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function pi(o){o.g||(o.g=new Map,o.h=0,o.i&&yA(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}t=Ra.prototype,t.add=function(o,c){pi(this),this.i=null,o=Ys(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function lp(o,c){pi(o),c=Ys(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function up(o,c){return pi(o),c=Ys(o,c),o.g.has(c)}t.forEach=function(o,c){pi(this),this.g.forEach(function(f,p){f.forEach(function(N){o.call(c,N,p,this)},this)},this)},t.na=function(){pi(this);const o=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let p=0;p<c.length;p++){const N=o[p];for(let V=0;V<N.length;V++)f.push(c[p])}return f},t.V=function(o){pi(this);let c=[];if(typeof o=="string")up(this,o)&&(c=c.concat(this.g.get(Ys(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)c=c.concat(o[f])}return c},t.set=function(o,c){return pi(this),this.i=null,o=Ys(this,o),up(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},t.get=function(o,c){return o?(o=this.V(o),0<o.length?String(o[0]):c):c};function cp(o,c,f){lp(o,c),0<f.length&&(o.i=null,o.g.set(Ys(o,c),D(f)),o.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var p=c[f];const V=encodeURIComponent(String(p)),H=this.V(p);for(p=0;p<H.length;p++){var N=V;H[p]!==""&&(N+="="+encodeURIComponent(String(H[p]))),o.push(N)}}return this.i=o.join("&")};function Ys(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function AA(o,c){c&&!o.j&&(pi(o),o.i=null,o.g.forEach(function(f,p){var N=p.toLowerCase();p!=N&&(lp(this,p),cp(this,N,f))},o)),o.j=c}function SA(o,c){const f=new ba;if(l.Image){const p=new Image;p.onload=_(yi,f,"TestLoadImage: loaded",!0,c,p),p.onerror=_(yi,f,"TestLoadImage: error",!1,c,p),p.onabort=_(yi,f,"TestLoadImage: abort",!1,c,p),p.ontimeout=_(yi,f,"TestLoadImage: timeout",!1,c,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=o}else c(!1)}function wA(o,c){const f=new ba,p=new AbortController,N=setTimeout(()=>{p.abort(),yi(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:p.signal}).then(V=>{clearTimeout(N),V.ok?yi(f,"TestPingServer: ok",!0,c):yi(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(N),yi(f,"TestPingServer: error",!1,c)})}function yi(o,c,f,p,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),p(f)}catch{}}function RA(){this.g=new lA}function xA(o,c,f){const p=f||"";try{sp(o,function(N,V){let H=N;h(N)&&(H=mi(N)),c.push(p+V+"="+encodeURIComponent(H))})}catch(N){throw c.push(p+"type="+encodeURIComponent("_badmap")),N}}function bl(o){this.l=o.Ub||null,this.j=o.eb||!1}C(bl,mh),bl.prototype.g=function(){return new Al(this.l,this.j)},bl.prototype.i=function(o){return function(){return o}}({});function Al(o,c){Q.call(this),this.D=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Al,Q),t=Al.prototype,t.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=c,this.readyState=1,Ia(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(c.body=o),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ia(this)),this.g&&(this.readyState=3,Ia(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hp(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function hp(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?xa(this):Ia(this),this.readyState==3&&hp(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,xa(this))},t.Qa=function(o){this.g&&(this.response=o,xa(this))},t.ga=function(){this.g&&xa(this)};function xa(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Ia(o)}t.setRequestHeader=function(o,c){this.u.append(o,c)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function Ia(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function fp(o){let c="";return z(o,function(f,p){c+=p,c+=":",c+=f,c+=`\r
`}),c}function Sh(o,c,f){e:{for(p in f){var p=!1;break e}p=!0}p||(f=fp(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Ue(o,c,f))}function Qe(o){Q.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Qe,Q);var IA=/^https?$/i,CA=["POST","PUT"];t=Qe.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,c,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yh.g(),this.v=this.o?Bg(this.o):Bg(yh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(V){dp(this,V);return}if(o=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var N in p)f.set(N,p[N]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const V of p.keys())f.set(V,p.get(V));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(V=>V.toLowerCase()=="content-type"),N=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(CA,c,void 0))||p||N||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of f)this.g.setRequestHeader(V,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pp(this),this.u=!0,this.g.send(o),this.u=!1}catch(V){dp(this,V)}};function dp(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.m=5,mp(o),Sl(o)}function mp(o){o.A||(o.A=!0,re(o,"complete"),re(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,re(this,"complete"),re(this,"abort"),Sl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sl(this,!0)),Qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?gp(this):this.bb())},t.bb=function(){gp(this)};function gp(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Bn(o)!=4||o.Z()!=2)){if(o.u&&Bn(o)==4)De(o.Ea,0,o);else if(re(o,"readystatechange"),Bn(o)==4){o.h=!1;try{const H=o.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var f;if(!(f=c)){var p;if(p=H===0){var N=String(o.D).match(rp)[1]||null;!N&&l.self&&l.self.location&&(N=l.self.location.protocol.slice(0,-1)),p=!IA.test(N?N.toLowerCase():"")}f=p}if(f)re(o,"complete"),re(o,"success");else{o.m=6;try{var V=2<Bn(o)?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.Z()+"]",mp(o)}}finally{Sl(o)}}}}function Sl(o,c){if(o.g){pp(o);const f=o.g,p=o.v[0]?()=>{}:null;o.g=null,o.v=null,c||re(o,"ready");try{f.onreadystatechange=p}catch{}}}function pp(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function Bn(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),_a(c)}};function yp(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function NA(o){const c={};o=(o.g&&2<=Bn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<o.length;p++){if(E(o[p]))continue;var f=x(o[p]);const N=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const V=c[N]||[];c[N]=V,V.push(f)}T(c,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function _p(o){this.Aa=0,this.i=[],this.j=new ba,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ca("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ca("baseRetryDelayMs",5e3,o),this.cb=Ca("retryDelaySeedMs",1e4,o),this.Wa=Ca("forwardChannelMaxRetries",2,o),this.wa=Ca("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Wg(o&&o.concurrentRequestLimit),this.Da=new RA,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_p.prototype,t.la=8,t.G=1,t.connect=function(o,c,f,p){Vt(0),this.W=o,this.H=c||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=xp(this,null,this.W),Rl(this)};function wh(o){if(vp(o),o.G==3){var c=o.U++,f=zn(o.I);if(Ue(f,"SID",o.K),Ue(f,"RID",c),Ue(f,"TYPE","terminate"),Na(o,f),c=new gi(o,o.j,c),c.L=2,c.v=Tl(zn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=Ip(c.j,null),c.g.ea(c.v)),c.F=Date.now(),_l(c)}Rp(o)}function wl(o){o.g&&(xh(o),o.g.cancel(),o.g=null)}function vp(o){wl(o),o.u&&(l.clearTimeout(o.u),o.u=null),xl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function Rl(o){if(!ep(o.h)&&!o.s){o.s=!0;var c=o.Ga;ee||se(),te||(ee(),te=!0),j.add(c,o),o.B=0}}function DA(o,c){return tp(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=c.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Ta(m(o.Ga,o,c),wp(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const N=new gi(this,this.j,o);let V=this.o;if(this.S&&(V?(V=y(V),w(V,this.S)):V=this.S),this.m!==null||this.O||(N.H=V,V=null),this.P)e:{for(var c=0,f=0;f<this.i.length;f++){t:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(c+=p,4096<c){c=f;break e}if(c===4096||f===this.i.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=Tp(this,N,c),f=zn(this.I),Ue(f,"RID",o),Ue(f,"CVER",22),this.D&&Ue(f,"X-HTTP-Session-Id",this.D),Na(this,f),V&&(this.O?c="headers="+encodeURIComponent(String(fp(V)))+"&"+c:this.m&&Sh(f,this.m,V)),Ah(this.h,N),this.Ua&&Ue(f,"TYPE","init"),this.P?(Ue(f,"$req",c),Ue(f,"SID","null"),N.T=!0,vh(N,f,null)):vh(N,f,c),this.G=2}}else this.G==3&&(o?Ep(this,o):this.i.length==0||ep(this.h)||Ep(this))};function Ep(o,c){var f;c?f=c.l:f=o.U++;const p=zn(o.I);Ue(p,"SID",o.K),Ue(p,"RID",f),Ue(p,"AID",o.T),Na(o,p),o.m&&o.o&&Sh(p,o.m,o.o),f=new gi(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),c&&(o.i=c.D.concat(o.i)),c=Tp(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ah(o.h,f),vh(f,p,c)}function Na(o,c){o.H&&z(o.H,function(f,p){Ue(c,p,f)}),o.l&&sp({},function(f,p){Ue(c,p,f)})}function Tp(o,c,f){f=Math.min(o.i.length,f);var p=o.l?m(o.l.Na,o.l,o):null;e:{var N=o.i;let V=-1;for(;;){const H=["count="+f];V==-1?0<f?(V=N[0].g,H.push("ofs="+V)):V=0:H.push("ofs="+V);let Oe=!0;for(let pt=0;pt<f;pt++){let Te=N[pt].g;const At=N[pt].map;if(Te-=V,0>Te)V=Math.max(0,N[pt].g-100),Oe=!1;else try{xA(At,H,"req"+Te+"_")}catch{p&&p(At)}}if(Oe){p=H.join("&");break e}}}return o=o.i.splice(0,f),c.D=o,p}function bp(o){if(!o.g&&!o.u){o.Y=1;var c=o.Fa;ee||se(),te||(ee(),te=!0),j.add(c,o),o.v=0}}function Rh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Ta(m(o.Fa,o),wp(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,Ap(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Ta(m(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),wl(this),Ap(this))};function xh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Ap(o){o.g=new gi(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var c=zn(o.qa);Ue(c,"RID","rpc"),Ue(c,"SID",o.K),Ue(c,"AID",o.T),Ue(c,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ue(c,"TO",o.ja),Ue(c,"TYPE","xmlhttp"),Na(o,c),o.m&&o.o&&Sh(c,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=Tl(zn(c)),f.m=null,f.P=!0,Xg(f,o)}t.Za=function(){this.C!=null&&(this.C=null,wl(this),Rh(this),Vt(19))};function xl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Sp(o,c){var f=null;if(o.g==c){xl(o),xh(o),o.g=null;var p=2}else if(bh(o.h,c))f=c.D,np(o.h,c),p=1;else return;if(o.G!=0){if(c.o)if(p==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var N=o.B;p=gl(),re(p,new Qg(p,f)),Rl(o)}else bp(o);else if(N=c.s,N==3||N==0&&0<c.X||!(p==1&&DA(o,c)||p==2&&Rh(o)))switch(f&&0<f.length&&(c=o.h,c.i=c.i.concat(f)),N){case 1:ms(o,5);break;case 4:ms(o,10);break;case 3:ms(o,6);break;default:ms(o,2)}}}function wp(o,c){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*c}function ms(o,c){if(o.j.info("Error code "+c),c==2){var f=m(o.fb,o),p=o.Xa;const N=!p;p=new ds(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||vl(p,"https"),Tl(p),N?SA(p.toString(),f):wA(p.toString(),f)}else Vt(2);o.G=0,o.l&&o.l.sa(c),Rp(o),vp(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Rp(o){if(o.G=0,o.ka=[],o.l){const c=ip(o.h);(c.length!=0||o.i.length!=0)&&(k(o.ka,c),k(o.ka,o.i),o.h.i.length=0,D(o.i),o.i.length=0),o.l.ra()}}function xp(o,c,f){var p=f instanceof ds?zn(f):new ds(f);if(p.g!="")c&&(p.g=c+"."+p.g),El(p,p.s);else{var N=l.location;p=N.protocol,c=c?c+"."+N.hostname:N.hostname,N=+N.port;var V=new ds(null);p&&vl(V,p),c&&(V.g=c),N&&El(V,N),f&&(V.l=f),p=V}return f=o.D,c=o.ya,f&&c&&Ue(p,f,c),Ue(p,"VER",o.la),Na(o,p),p}function Ip(o,c,f){if(c&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Ca&&!o.pa?new Qe(new bl({eb:f})):new Qe(o.pa),c.Ha(o.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cp(){}t=Cp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Il(){}Il.prototype.g=function(o,c){return new $t(o,c)};function $t(o,c){Q.call(this),this.g=new _p(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(o?o["X-WebChannel-Client-Profile"]=c.va:o={"X-WebChannel-Client-Profile":c.va}),this.g.S=o,(o=c&&c.Sb)&&!E(o)&&(this.g.m=o),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!E(c)&&(this.g.D=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Ks(this)}C($t,Q),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){wh(this.g)},$t.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=mi(o),o=f);c.i.push(new mA(c.Ya++,o)),c.G==3&&Rl(c)},$t.prototype.N=function(){this.g.l=null,delete this.j,wh(this.g),delete this.g,$t.aa.N.call(this)};function Np(o){gh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const f in c){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}C(Np,gh);function Dp(){ph.call(this),this.status=1}C(Dp,ph);function Ks(o){this.g=o}C(Ks,Cp),Ks.prototype.ua=function(){re(this.g,"a")},Ks.prototype.ta=function(o){re(this.g,new Np(o))},Ks.prototype.sa=function(o){re(this.g,new Dp)},Ks.prototype.ra=function(){re(this.g,"b")},Il.prototype.createWebChannel=Il.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,IT=function(){return new Il},xT=function(){return gl()},RT=hs,xd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pl.NO_ERROR=0,pl.TIMEOUT=8,pl.HTTP_ERROR=6,bu=pl,$g.COMPLETE="complete",wT=$g,qg.EventType=va,va.OPEN="a",va.CLOSE="b",va.ERROR="c",va.MESSAGE="d",Q.prototype.listen=Q.prototype.K,Fa=qg,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,ST=Qe}).apply(typeof Ql<"u"?Ql:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore",M0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Qm("@firebase/firestore");function rr(){return Us.logLevel}function Y(t,...e){if(Us.logLevel<=me.DEBUG){const n=e.map(ag);Us.debug(`Firestore (${la}): ${t}`,...n)}}function ui(t,...e){if(Us.logLevel<=me.ERROR){const n=e.map(ag);Us.error(`Firestore (${la}): ${t}`,...n)}}function Qr(t,...e){if(Us.logLevel<=me.WARN){const n=e.map(ag);Us.warn(`Firestore (${la}): ${t}`,...n)}}function ag(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,CT(t,i,n)}function CT(t,e,n){let i=`FIRESTORE (${la}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ui(i),new Error(i)}function we(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||CT(e,s,i)}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class yC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _C{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){we(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ni,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ni)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(we(typeof i.accessToken=="string",31837,{l:i}),new NT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new Rt(e)}}class vC{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EC{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new vC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){we(this.o===void 0,3512);const i=r=>{r.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,Y("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new V0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=bC(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=e.charAt(s[r]%62))}return i}}function ce(t,e){return t<e?-1:t>e?1:0}function Id(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),s=e.codePointAt(n);if(i!==s){if(i<128&&s<128)return ce(i,s);{const r=DT(),a=AC(r.encode(k0(t,n)),r.encode(k0(e,n)));return a!==0?a:ce(i,s)}}n+=i>65535?2:1}return ce(t.length,e.length)}function k0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function AC(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ce(t[n],e[n]);return ce(t.length,e.length)}function $r(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=-62135596800,U0=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*U0);return new rt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<P0)throw new K(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U0}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-P0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new rt(0,0))}static max(){return new oe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="__name__";class Rn{constructor(e,n,i){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ne(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Rn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const r=Rn.compareSegments(e.get(s),n.get(s));if(r!==0)return r}return ce(e.length,n.length)}static compareSegments(e,n){const i=Rn.isNumericId(e),s=Rn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?Rn.extractNumericId(e).compare(Rn.extractNumericId(n)):Id(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yi.fromString(e.substring(4,e.length-2))}}class Le extends Rn{construct(e,n,i){return new Le(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new K(P.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const SC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends Rn{construct(e,n,i){return new Et(e,n,i)}static isValidIdentifier(e){return SC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cd}static keyField(){return new Et([Cd])}static fromServerFormat(e){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new K(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new K(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(i+=l,s++):(r(),s++)}if(r(),a)throw new K(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Le.fromString(e))}static fromName(e){return new Z(Le.fromString(e).popFirst(5))}static empty(){return new Z(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=-1;function wC(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(i===1e9?new rt(n+1,0):new rt(n,i));return new Wi(s,Z.empty(),e)}function RC(t){return new Wi(t.readTime,t.key,Oo)}class Wi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Wi(oe.min(),Z.empty(),Oo)}static max(){return new Wi(oe.max(),Z.empty(),Oo)}}function xC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==IC)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,i)=>{n(e)})}static reject(e){return new U((n,i)=>{i(e)})}static waitFor(e){return new U((n,i)=>{let s=0,r=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++r,a&&r===s&&n()},u=>i(u))}),a=!0,r===s&&n()})}static or(e){let n=U.resolve(!1);for(const i of e)n=n.next(s=>s?U.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(e,n){return new U((i,s)=>{const r=e.length,a=new Array(r);let l=0;for(let u=0;u<r;u++){const h=u;n(e[h]).next(d=>{a[h]=d,++l,l===r&&i(a)},d=>s(d))}})}static doWhile(e,n){return new U((i,s)=>{const r=()=>{e()===!0?n().next(()=>{r()},s):i()};r()})}}function NC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ca(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Kc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=-1;function Xc(t){return t==null}function mc(t){return t===0&&1/t==-1/0}function DC(t){return typeof t=="number"&&Number.isInteger(t)&&!mc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="";function OC(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=L0(e)),e=MC(t.get(n),e);return L0(e)}function MC(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const r=t.charAt(s);switch(r){case"\0":n+="";break;case MT:n+="";break;default:n+=r}}return n}function L0(t){return t+MT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function os(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}}class $l{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?i(e.key,n):1,n&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??_t.RED,this.left=s??_t.EMPTY,this.right=r??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,r){return new _t(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _t.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,i,s,r){return this}insert(e,n,i){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(e){return new z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new at(Et.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $r(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new kT("Invalid base64 string: "+r):r}}(e);return new bt(n)}static fromUint8Array(e){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const VC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if(we(!!t,39018),typeof t=="string"){let e=0;const n=VC.exec(t);if(we(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ts(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="server_timestamp",UT="__type__",LT="__previous_value__",jT="__local_write_time__";function lg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[UT])===null||n===void 0?void 0:n.stringValue)===PT}function Zc(t){const e=t.mapValue.fields[LT];return lg(e)?Zc(e):e}function Mo(t){const e=es(t.mapValue.fields[jT].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,i,s,r,a,l,u,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const gc="(default)";class Vo{constructor(e,n){this.projectId=e,this.database=n||gc}static empty(){return new Vo("","")}get isDefaultDatabase(){return this.database===gc}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="__type__",PC="__max__",Yl={mapValue:{}},BT="__vector__",pc="value";function ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lg(t)?4:LC(t)?9007199254740991:UC(t)?10:11:ne(28295,{value:t})}function Pn(t,e){if(t===e)return!0;const n=ns(t);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mo(t).isEqual(Mo(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=es(s.timestampValue),l=es(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return ts(s.bytesValue).isEqual(ts(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Ze(s.geoPointValue.latitude)===Ze(r.geoPointValue.latitude)&&Ze(s.geoPointValue.longitude)===Ze(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Ze(s.integerValue)===Ze(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=Ze(s.doubleValue),l=Ze(r.doubleValue);return a===l?mc(a)===mc(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return $r(t.arrayValue.values||[],e.arrayValue.values||[],Pn);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},l=r.mapValue.fields||{};if(j0(a)!==j0(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Pn(a[u],l[u])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function ko(t,e){return(t.values||[]).find(n=>Pn(n,e))!==void 0}function Yr(t,e){if(t===e)return 0;const n=ns(t),i=ns(e);if(n!==i)return ce(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(r,a){const l=Ze(r.integerValue||r.doubleValue),u=Ze(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return B0(t.timestampValue,e.timestampValue);case 4:return B0(Mo(t),Mo(e));case 5:return Id(t.stringValue,e.stringValue);case 6:return function(r,a){const l=ts(r),u=ts(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const l=r.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=ce(l[h],u[h]);if(d!==0)return d}return ce(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const l=ce(Ze(r.latitude),Ze(a.latitude));return l!==0?l:ce(Ze(r.longitude),Ze(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return q0(t.arrayValue,e.arrayValue);case 10:return function(r,a){var l,u,h,d;const g=r.fields||{},m=a.fields||{},_=(l=g[pc])===null||l===void 0?void 0:l.arrayValue,C=(u=m[pc])===null||u===void 0?void 0:u.arrayValue,D=ce(((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0,((d=C==null?void 0:C.values)===null||d===void 0?void 0:d.length)||0);return D!==0?D:q0(_,C)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===Yl.mapValue&&a===Yl.mapValue)return 0;if(r===Yl.mapValue)return 1;if(a===Yl.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let g=0;g<u.length&&g<d.length;++g){const m=Id(u[g],d[g]);if(m!==0)return m;const _=Yr(l[u[g]],h[d[g]]);if(_!==0)return _}return ce(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{Pe:n})}}function B0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=es(t),i=es(e),s=ce(n.seconds,i.seconds);return s!==0?s:ce(n.nanos,i.nanos)}function q0(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const r=Yr(n[s],i[s]);if(r)return r}return ce(n.length,i.length)}function Kr(t){return Nd(t)}function Nd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=es(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ts(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=Nd(r);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${Nd(n.fields[a])}`;return s+"}"}(t.mapValue):ne(61005,{value:t})}function Au(t){switch(ns(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zc(t);return e?16+Au(e):16;case 5:return 2*t.stringValue.length;case 6:return ts(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+Au(r),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return os(i.fields,(r,a)=>{s+=r.length+Au(a)}),s}(t.mapValue);default:throw ne(13486,{value:t})}}function H0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dd(t){return!!t&&"integerValue"in t}function ug(t){return!!t&&"arrayValue"in t}function F0(t){return!!t&&"nullValue"in t}function G0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Su(t){return!!t&&"mapValue"in t}function UC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[zT])===null||n===void 0?void 0:n.stringValue)===BT}function ho(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return os(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=ho(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ho(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===PC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Su(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ho(n)}setAll(e){let n=Et.emptyPath(),i={},s=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,s),i={},s=[],n=l.popLast()}a?i[l.lastSegment()]=ho(a):s.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(e){const n=this.field(e.popLast());Su(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Su(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){os(n,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new Ht(ho(this.value))}}function qT(t){const e=[];return os(t.fields,(n,i)=>{const s=new Et([n]);if(Su(i)){const r=qT(i.mapValue).fields;if(r.length===0)e.push(s);else for(const a of r)e.push(s.child(a))}else e.push(s)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,i,s,r,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new xt(e,0,oe.min(),oe.min(),oe.min(),Ht.empty(),0)}static newFoundDocument(e,n,i,s){return new xt(e,1,n,oe.min(),i,s,0)}static newNoDocument(e,n){return new xt(e,2,n,oe.min(),oe.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,oe.min(),oe.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n){this.position=e,this.inclusive=n}}function Q0(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const r=e[s],a=t.position[s];if(r.field.isKeyField()?i=Z.comparator(Z.fromName(a.referenceValue),n.key):i=Yr(a,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function $0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n="asc"){this.field=e,this.dir=n}}function jC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{}class et extends HT{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new BC(e,n,i):n==="array-contains"?new FC(e,i):n==="in"?new GC(e,i):n==="not-in"?new QC(e,i):n==="array-contains-any"?new $C(e,i):new et(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new qC(e,i):new HC(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Yr(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(Yr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends HT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new bn(e,n)}matches(e){return FT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function FT(t){return t.op==="and"}function GT(t){return zC(t)&&FT(t)}function zC(t){for(const e of t.filters)if(e instanceof bn)return!1;return!0}function Od(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+Kr(t.value);if(GT(t))return t.filters.map(e=>Od(e)).join(",");{const e=t.filters.map(n=>Od(n)).join(",");return`${t.op}(${e})`}}function QT(t,e){return t instanceof et?function(i,s){return s instanceof et&&i.op===s.op&&i.field.isEqual(s.field)&&Pn(i.value,s.value)}(t,e):t instanceof bn?function(i,s){return s instanceof bn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,l)=>r&&QT(a,s.filters[l]),!0):!1}(t,e):void ne(19439)}function $T(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${Kr(n.value)}`}(t):t instanceof bn?function(n){return n.op.toString()+" {"+n.getFilters().map($T).join(" ,")+"}"}(t):"Filter"}class BC extends et{constructor(e,n,i){super(e,n,i),this.key=Z.fromName(i.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class qC extends et{constructor(e,n){super(e,"in",n),this.keys=YT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HC extends et{constructor(e,n){super(e,"not-in",n),this.keys=YT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Z.fromName(i.referenceValue))}class FC extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ug(n)&&ko(n.arrayValue,this.value)}}class GC extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ko(this.value.arrayValue,n)}}class QC extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ko(this.value.arrayValue,n)}}class $C extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ko(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n=null,i=[],s=[],r=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=l,this.Ie=null}}function Y0(t,e=null,n=[],i=[],s=null,r=null,a=null){return new YC(t,e,n,i,s,r,a)}function cg(t){const e=le(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Od(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),Xc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Kr(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Kr(i)).join(",")),e.Ie=n}return e.Ie}function hg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$0(t.startAt,e.startAt)&&$0(t.endAt,e.endAt)}function Md(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n=null,i=[],s=[],r=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function KC(t,e,n,i,s,r,a,l){return new al(t,e,n,i,s,r,a,l)}function fg(t){return new al(t)}function K0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KT(t){return t.collectionGroup!==null}function fo(t){const e=le(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ee.push(r),n.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new at(Et.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ee.push(new _c(r,i))}),n.has(Et.keyField().canonicalString())||e.Ee.push(new _c(Et.keyField(),i))}return e.Ee}function Mn(t){const e=le(t);return e.de||(e.de=XC(e,fo(t))),e.de}function XC(t,e){if(t.limitType==="F")return Y0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new _c(s.field,r)});const n=t.endAt?new yc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new yc(t.startAt.position,t.startAt.inclusive):null;return Y0(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Vd(t,e){const n=t.filters.concat([e]);return new al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kd(t,e,n){return new al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jc(t,e){return hg(Mn(t),Mn(e))&&t.limitType===e.limitType}function XT(t){return`${cg(Mn(t))}|lt:${t.limitType}`}function ar(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>$T(s)).join(", ")}]`),Xc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Kr(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Kr(s)).join(",")),`Target(${i})`}(Mn(t))}; limitType=${t.limitType})`}function Wc(t,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Z.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(t,e)&&function(i,s){for(const r of fo(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(a,l,u){const h=Q0(a,l,u);return a.inclusive?h<=0:h<0}(i.startAt,fo(i),s)||i.endAt&&!function(a,l,u){const h=Q0(a,l,u);return a.inclusive?h>=0:h>0}(i.endAt,fo(i),s))}(t,e)}function ZC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZT(t){return(e,n)=>{let i=!1;for(const s of fo(t)){const r=JC(s,e,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function JC(t,e,n){const i=t.field.isKeyField()?Z.comparator(e.key,n.key):function(r,a,l){const u=a.data.field(r),h=l.data.field(r);return u!==null&&h!==null?Yr(u,h):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){os(this.inner,(n,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return VT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new Ge(Z.comparator);function ci(){return WC}const JT=new Ge(Z.comparator);function Ga(...t){let e=JT;for(const n of t)e=e.insert(n.key,n);return e}function WT(t){let e=JT;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ts(){return mo()}function eb(){return mo()}function mo(){return new Hs(t=>t.toString(),(t,e)=>t.isEqual(e))}const eN=new Ge(Z.comparator),tN=new at(Z.comparator);function ge(...t){let e=tN;for(const n of t)e=e.add(n);return e}const nN=new at(ce);function iN(){return nN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mc(e)?"-0":e}}function tb(t){return{integerValue:""+t}}function sN(t,e){return DC(e)?tb(e):dg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(){this._=void 0}}function rN(t,e,n){return t instanceof vc?function(s,r){const a={fields:{[UT]:{stringValue:PT},[jT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&lg(r)&&(r=Zc(r)),r&&(a.fields[LT]=r),{mapValue:a}}(n,e):t instanceof Po?ib(t,e):t instanceof Uo?sb(t,e):function(s,r){const a=nb(s,r),l=X0(a)+X0(s.Re);return Dd(a)&&Dd(s.Re)?tb(l):dg(s.serializer,l)}(t,e)}function aN(t,e,n){return t instanceof Po?ib(t,e):t instanceof Uo?sb(t,e):n}function nb(t,e){return t instanceof Ec?function(i){return Dd(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class vc extends eh{}class Po extends eh{constructor(e){super(),this.elements=e}}function ib(t,e){const n=rb(e);for(const i of t.elements)n.some(s=>Pn(s,i))||n.push(i);return{arrayValue:{values:n}}}class Uo extends eh{constructor(e){super(),this.elements=e}}function sb(t,e){let n=rb(e);for(const i of t.elements)n=n.filter(s=>!Pn(s,i));return{arrayValue:{values:n}}}class Ec extends eh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function X0(t){return Ze(t.integerValue||t.doubleValue)}function rb(t){return ug(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oN(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Po&&s instanceof Po||i instanceof Uo&&s instanceof Uo?$r(i.elements,s.elements,Pn):i instanceof Ec&&s instanceof Ec?Pn(i.Re,s.Re):i instanceof vc&&s instanceof vc}(t.transform,e.transform)}class lN{constructor(e,n){this.version=e,this.transformResults=n}}class sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sn}static exists(e){return new sn(void 0,e)}static updateTime(e){return new sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class th{}function ab(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nh(t.key,sn.none()):new ol(t.key,t.data,sn.none());{const n=t.data,i=Ht.empty();let s=new at(Et.comparator);for(let r of e.fields)if(!s.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new ls(t.key,i,new Jt(s.toArray()),sn.none())}}function uN(t,e,n){t instanceof ol?function(s,r,a){const l=s.value.clone(),u=J0(s.fieldTransforms,r,a.transformResults);l.setAll(u),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ls?function(s,r,a){if(!wu(s.precondition,r))return void r.convertToUnknownDocument(a.version);const l=J0(s.fieldTransforms,r,a.transformResults),u=r.data;u.setAll(ob(s)),u.setAll(l),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function go(t,e,n,i){return t instanceof ol?function(r,a,l,u){if(!wu(r.precondition,a))return l;const h=r.value.clone(),d=W0(r.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,i):t instanceof ls?function(r,a,l,u){if(!wu(r.precondition,a))return l;const h=W0(r.fieldTransforms,u,a),d=a.data;return d.setAll(ob(r)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(g=>g.field))}(t,e,n,i):function(r,a,l){return wu(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function cN(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),r=nb(i.transform,s||null);r!=null&&(n===null&&(n=Ht.empty()),n.set(i.field,r))}return n||null}function Z0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&$r(i,s,(r,a)=>oN(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ol extends th{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ls extends th{constructor(e,n,i,s,r=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function ob(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function J0(t,e,n){const i=new Map;we(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const r=t[s],a=r.transform,l=e.data.field(r.field);i.set(r.field,aN(a,l,n[s]))}return i}function W0(t,e,n){const i=new Map;for(const s of t){const r=s.transform,a=n.data.field(s.field);i.set(s.field,rN(r,a,e))}return i}class nh extends th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hN extends th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&uN(r,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=go(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=go(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=eb();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let l=this.applyToLocalView(a,r.mutatedFields);l=n.has(s.key)?null:l;const u=ab(a,l);u!==null&&i.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(oe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&$r(this.mutations,e.mutations,(n,i)=>Z0(n,i))&&$r(this.baseMutations,e.baseMutations,(n,i)=>Z0(n,i))}}class mg{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){we(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return eN}();const r=e.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new mg(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,ye;function gN(t){switch(t){case P.OK:return ne(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function lb(t){if(t===void 0)return ui("GRPC error has no .code"),P.UNKNOWN;switch(t){case Je.OK:return P.OK;case Je.CANCELLED:return P.CANCELLED;case Je.UNKNOWN:return P.UNKNOWN;case Je.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Je.INTERNAL:return P.INTERNAL;case Je.UNAVAILABLE:return P.UNAVAILABLE;case Je.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Je.NOT_FOUND:return P.NOT_FOUND;case Je.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Je.ABORTED:return P.ABORTED;case Je.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Je.DATA_LOSS:return P.DATA_LOSS;default:return ne(39323,{code:t})}}(ye=Je||(Je={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=new Yi([4294967295,4294967295],0);function e_(t){const e=DT().encode(t),n=new AT;return n.update(e),new Uint8Array(n.digest())}function t_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Yi([n,i],0),new Yi([s,r],0)]}class gg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Qa(`Invalid padding: ${n}`);if(i<0)throw new Qa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Qa(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Qa(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Yi.fromNumber(this.pe)}we(e,n,i){let s=e.add(n.multiply(Yi.fromNumber(i)));return s.compare(pN)===1&&(s=new Yi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=e_(e),[i,s]=t_(n);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);if(!this.be(a))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new gg(r,s,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=e_(e),[i,s]=t_(n);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);this.Se(a)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Qa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,i,s,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,ll.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new ih(oe.min(),s,new Ge(ce),ci(),ge())}}class ll{constructor(e,n,i,s,r){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ll(i,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,i,s){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=s}}class ub{constructor(e,n){this.targetId=e,this.Ce=n}}class cb{constructor(e,n,i=bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class n_{constructor(){this.Fe=0,this.Me=i_(),this.xe=bt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ge(),n=ge(),i=ge();return this.Me.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:ne(38017,{changeType:r})}}),new ll(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=i_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,we(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class yN{constructor(e){this.ze=e,this.je=new Map,this.He=ci(),this.Je=Kl(),this.Ye=Kl(),this.Ze=new Ge(ce)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,i=e.Ce.count,s=this._t(n);if(s){const r=s.target;if(Md(r))if(i===0){const a=new Z(r.path);this.tt(n,a,xt.newNoDocument(a,oe.min()))}else we(i===1,20013,{expectedCount:i});else{const a=this.ut(n);if(a!==i){const l=this.ct(e),u=l?this.lt(l,e,a):1;if(u!==0){this.st(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=n;let a,l;try{a=ts(i).toUint8Array()}catch(u){if(u instanceof kT)return Qr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new gg(a,s,r)}catch(u){return Qr(u instanceof Qa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let s=0;return i.forEach(r=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,r,null),s++)}),s}It(e){const n=new Map;this.je.forEach((r,a)=>{const l=this._t(a);if(l){if(r.current&&Md(l.target)){const u=new Z(l.target.path);this.Et(u).has(a)||this.dt(a,u)||this.tt(a,u,xt.newNoDocument(u,e))}r.Le&&(n.set(a,r.qe()),r.Qe())}});let i=ge();this.Ye.forEach((r,a)=>{let l=!0;a.forEachWhile(u=>{const h=this._t(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(r))}),this.He.forEach((r,a)=>a.setReadTime(e));const s=new ih(e,n,this.Ze,this.He,i);return this.He=ci(),this.Je=Kl(),this.Ye=Kl(),this.Ze=new Ge(ce),s}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new n_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new at(ce),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new at(ce),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new n_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Kl(){return new Ge(Z.comparator)}function i_(){return new Ge(Z.comparator)}const _N={asc:"ASCENDING",desc:"DESCENDING"},vN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EN={and:"AND",or:"OR"};class TN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pd(t,e){return t.useProto3Json||Xc(e)?e:{value:e}}function Tc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bN(t,e){return Tc(t,e.toTimestamp())}function Vn(t){return we(!!t,49232),oe.fromTimestamp(function(n){const i=es(n);return new rt(i.seconds,i.nanos)}(t))}function pg(t,e){return Ud(t,e).canonicalString()}function Ud(t,e){const n=function(s){return new Le(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fb(t){const e=Le.fromString(t);return we(yb(e),10190,{key:e.toString()}),e}function Ld(t,e){return pg(t.databaseId,e.path)}function _f(t,e){const n=fb(e);if(n.get(1)!==t.databaseId.projectId)throw new K(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(mb(n))}function db(t,e){return pg(t.databaseId,e)}function AN(t){const e=fb(t);return e.length===4?Le.emptyPath():mb(e)}function jd(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mb(t){return we(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function s_(t,e,n){return{name:Ld(t,e),fields:n.value.mapValue.fields}}function SN(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ne(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(h,d){return h.useProto3Json?(we(d===void 0||typeof d=="string",58123),bt.fromBase64String(d||"")):(we(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),bt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const d=h.code===void 0?P.UNKNOWN:lb(h.code);return new K(d,h.message||"")}(a);n=new cb(i,s,r,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=_f(t,i.document.name),r=Vn(i.document.updateTime),a=i.document.createTime?Vn(i.document.createTime):oe.min(),l=new Ht({mapValue:{fields:i.document.fields}}),u=xt.newFoundDocument(s,r,a,l),h=i.targetIds||[],d=i.removedTargetIds||[];n=new Ru(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=_f(t,i.document),r=i.readTime?Vn(i.readTime):oe.min(),a=xt.newNoDocument(s,r),l=i.removedTargetIds||[];n=new Ru([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=_f(t,i.document),r=i.removedTargetIds||[];n=new Ru([],r,s,null)}else{if(!("filter"in e))return ne(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new mN(s,r),l=i.targetId;n=new ub(l,a)}}return n}function wN(t,e){let n;if(e instanceof ol)n={update:s_(t,e.key,e.value)};else if(e instanceof nh)n={delete:Ld(t,e.key)};else if(e instanceof ls)n={update:s_(t,e.key,e.data),updateMask:VN(e.fieldMask)};else{if(!(e instanceof hN))return ne(16599,{ft:e.type});n={verify:Ld(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const l=a.transform;if(l instanceof vc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Po)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Uo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ec)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw ne(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:bN(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ne(27497)}(t,e.precondition)),n}function RN(t,e){return t&&t.length>0?(we(e!==void 0,14353),t.map(n=>function(s,r){let a=s.updateTime?Vn(s.updateTime):Vn(r);return a.isEqual(oe.min())&&(a=Vn(r)),new lN(a,s.transformResults||[])}(n,e))):[]}function xN(t,e){return{documents:[db(t,e.path)]}}function IN(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=db(t,s);const r=function(h){if(h.length!==0)return pb(bn.create(h,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(h){if(h.length!==0)return h.map(d=>function(m){return{field:or(m.field),direction:DN(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Pd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:s}}function CN(t){let e=AN(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){we(i===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let r=[];n.where&&(r=function(g){const m=gb(g);return m instanceof bn&&GT(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(g){return g.map(m=>function(C){return new _c(lr(C.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(g){let m;return m=typeof g=="object"?g.value:g,Xc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,_=g.values||[];return new yc(_,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,_=g.values||[];return new yc(_,m)}(n.endAt)),KC(e,s,a,r,l,"F",u,h)}function NN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=lr(n.unaryFilter.field);return et.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=lr(n.unaryFilter.field);return et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lr(n.unaryFilter.field);return et.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=lr(n.unaryFilter.field);return et.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return et.create(lr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bn.create(n.compositeFilter.filters.map(i=>gb(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function DN(t){return _N[t]}function ON(t){return vN[t]}function MN(t){return EN[t]}function or(t){return{fieldPath:t.canonicalString()}}function lr(t){return Et.fromServerFormat(t.fieldPath)}function pb(t){return t instanceof et?function(n){if(n.op==="=="){if(G0(n.value))return{unaryFilter:{field:or(n.field),op:"IS_NAN"}};if(F0(n.value))return{unaryFilter:{field:or(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G0(n.value))return{unaryFilter:{field:or(n.field),op:"IS_NOT_NAN"}};if(F0(n.value))return{unaryFilter:{field:or(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:or(n.field),op:ON(n.op),value:n.value}}}(t):t instanceof bn?function(n){const i=n.getFilters().map(s=>pb(s));return i.length===1?i[0]:{compositeFilter:{op:MN(n.op),filters:i}}}(t):ne(54877,{filter:t})}function VN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,i,s,r=oe.min(),a=oe.min(),l=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.wt=e}}function PN(t){const e=CN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.Cn=new LN}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Wi.min())}updateCollectionGroup(e,n,i){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class LN{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new at(Le.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new at(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_b=41943040;class qt{static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(_b,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Xr(0)}static lr(){return new Xr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="LruGarbageCollector",jN=1048576;function o_([t,e],[n,i]){const s=ce(t,n);return s===0?ce(e,i):s}class zN{constructor(e){this.Er=e,this.buffer=new at(o_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();o_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BN{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Y(a_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ca(n)?Y(a_,"Ignoring IndexedDB error during garbage collection: ",n):await ua(n)}await this.mr(3e5)})}}class qN{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Kc.le);const i=new zN(n);return this.gr.forEachTarget(e,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.gr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(r_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r_):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let i,s,r,a,l,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,a=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(i=g,l=Date.now(),this.removeTargets(e,i,n))).next(g=>(r=g,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(g=>(h=Date.now(),rr()<=me.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${r} targets in `+(u-l)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:g})))}}function HN(t,e){return new qN(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.changes=new Hs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&go(i.mutation,s,Jt.empty(),rt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ge()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ge()){const s=Ts();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(r=>{let a=Ga();return r.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=Ts();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ge()))}populateOverlays(e,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,s){let r=ci();const a=mo(),l=function(){return mo()}();return n.forEach((u,h)=>{const d=i.get(h.key);s.has(h.key)&&(d===void 0||d.mutation instanceof ls)?r=r.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),go(d.mutation,h,d.mutation.getFieldMask(),rt.now())):a.set(h.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,r).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var g;return l.set(h,new GN(d,(g=a.get(h))!==null&&g!==void 0?g:null))}),l))}recalculateAndSaveOverlays(e,n){const i=mo();let s=new Ge((a,l)=>a-l),r=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=i.get(u)||Jt.empty();d=l.applyToLocalView(h,d),i.set(u,d);const g=(s.get(l.batchId)||ge()).add(u);s=s.insert(l.batchId,g)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,g=eb();d.forEach(m=>{if(!r.has(m)){const _=ab(n.get(m),i.get(m));_!==null&&g.set(m,_),r=r.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return U.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return function(a){return Z.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-r.size):U.resolve(Ts());let l=Oo,u=r;return a.next(h=>U.forEach(h,(d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),r.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,u,h,ge())).next(d=>({batchId:l,changes:WT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(i=>{let s=Ga();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const r=n.collectionGroup;let a=Ga();return this.indexManager.getCollectionParents(e,r).next(l=>U.forEach(l,u=>{const h=function(g,m){return new al(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,i,s).next(d=>{d.forEach((g,m)=>{a=a.insert(g,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r,s))).next(a=>{r.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,xt.newInvalidDocument(d)))});let l=Ga();return a.forEach((u,h)=>{const d=r.get(u);d!==void 0&&go(d.mutation,h,Jt.empty(),rt.now()),Wc(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return U.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Vn(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:PN(s.bundledQuery),readTime:Vn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.overlays=new Ge(Z.comparator),this.Qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ts();return U.forEach(n,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,r)=>{this.St(e,n,r)}),U.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(i)),U.resolve()}getOverlaysForCollection(e,n,i){const s=Ts(),r=n.length+1,a=new Z(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===r&&u.largestBatchId>i&&s.set(u.getKey(),u)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let r=new Ge((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let d=r.get(h.largestBatchId);d===null&&(d=Ts(),r=r.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Ts(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=s)););return U.resolve(l)}St(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new dN(n,i));let r=this.Qr.get(n);r===void 0&&(r=ge(),this.Qr.set(n,r)),this.Qr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.$r=new at(lt.Ur),this.Kr=new at(lt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const i=new lt(e,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.zr(new lt(e,n))}jr(e,n){e.forEach(i=>this.removeReference(i,n))}Hr(e){const n=new Z(new Le([])),i=new lt(n,e),s=new lt(n,e+1),r=[];return this.Kr.forEachInRange([i,s],a=>{this.zr(a),r.push(a.key)}),r}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Z(new Le([])),i=new lt(n,e),s=new lt(n,e+1);let r=ge();return this.Kr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new lt(e,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class lt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Z.comparator(e.key,n.key)||ce(e.Zr,n.Zr)}static Wr(e,n){return ce(e.Zr,n.Zr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new at(lt.Ur)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new fN(r,n,i,s);this.mutationQueue.push(a);for(const l of s)this.Xr=this.Xr.add(new lt(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.ti(i),r=s<0?0:s;return U.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?og:this.nr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new lt(n,0),s=new lt(n,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([i,s],a=>{const l=this.ei(a.Zr);r.push(l)}),U.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new at(ce);return n.forEach(s=>{const r=new lt(s,0),a=new lt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,a],l=>{i=i.add(l.Zr)})}),U.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let r=i;Z.isDocumentKey(r)||(r=r.child(""));const a=new lt(new Z(r),0);let l=new at(ce);return this.Xr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===s&&(l=l.add(u.Zr)),!0)},a),U.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(i=>{const s=this.ei(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){we(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return U.forEach(n.mutations,s=>{const r=new lt(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,n){const i=new lt(n,0),s=this.Xr.firstAfterOrEqual(i);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.ii=e,this.docs=function(){return new Ge(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,a=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let i=ci();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():xt.newInvalidDocument(s))}),U.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let r=ci();const a=n.path,l=new Z(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||xC(RC(d),i)<=0||(s.has(d.key)||Wc(n,d))&&(r=r.insert(d.key,d.mutableCopy()))}return U.resolve(r)}getAllFromCollectionGroup(e,n,i,s){ne(9500)}si(e,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new JN(this)}getSize(e){return U.resolve(this.size)}}class JN extends FN{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(i)}),U.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.persistence=e,this.oi=new Hs(n=>cg(n),hg),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this._i=0,this.ai=new yg,this.targetCount=0,this.ui=Xr.cr()}forEachTarget(e,n){return this.oi.forEach((i,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),U.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Xr(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Tr(n),U.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,i){let s=0;const r=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.oi.delete(a),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),U.waitFor(r).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const i=this.oi.get(n)||null;return U.resolve(i)}addMatchingKeys(e,n,i){return this.ai.Gr(n,i),U.resolve()}removeMatchingKeys(e,n,i){this.ai.jr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),U.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ai.Yr(n);return U.resolve(i)}containsKey(e,n){return U.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){this.ci={},this.overlays={},this.li=new Kc(0),this.hi=!1,this.hi=!0,this.Pi=new KN,this.referenceDelegate=e(this),this.Ti=new WN(this),this.indexManager=new UN,this.remoteDocumentCache=function(s){return new ZN(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new kN(n),this.Ei=new $N(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ci[e.toKey()];return i||(i=new XN(n,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,i){Y("MemoryPersistence","Starting transaction:",e);const s=new e4(this.li.next());return this.referenceDelegate.di(),i(s).next(r=>this.referenceDelegate.Ai(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ri(e,n){return U.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,n)))}}class e4 extends CC{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.Vi=new yg,this.mi=null}static fi(e){return new _g(e)}get gi(){if(this.mi)return this.mi;throw ne(60996)}addReference(e,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),U.resolve()}removeReference(e,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(r=>this.gi.add(r.toString()))}).next(()=>i.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.gi,i=>{const s=Z.fromPath(i);return this.pi(e,s).next(r=>{r||n.removeEntry(s,oe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return U.or([()=>U.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class bc{constructor(e,n){this.persistence=e,this.yi=new Hs(i=>OC(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=HN(this,n)}static fi(e,n){return new bc(e,n)}di(){}Ai(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}br(e){let n=0;return this.yr(e,i=>{n++}).next(()=>n)}yr(e,n){return U.forEach(this.yi,(i,s)=>this.Dr(e,i,s).next(r=>r?U.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.si(e,a=>this.Dr(e,a,n).next(l=>{l||(i++,r.removeEntry(a,oe.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),U.resolve()}removeReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),U.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Au(e.data.value)),n}Dr(e,n,i){return U.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return U.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.ds=i,this.As=s}static Rs(e,n){let i=ge(),s=ge();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new vg(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return K2()?8:NC(Nt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,i,s){const r={result:null};return this.ws(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.bs(e,n,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new t4;return this.Ss(e,n,a).next(l=>{if(r.result=l,this.fs)return this.Ds(e,n,a,l.size)})}).next(()=>r.result)}Ds(e,n,i,s){return i.documentReadCount<this.gs?(rr()<=me.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",ar(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),U.resolve()):(rr()<=me.DEBUG&&Y("QueryEngine","Query:",ar(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(rr()<=me.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",ar(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):U.resolve())}ws(e,n){if(K0(n))return U.resolve(null);let i=Mn(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=kd(n,null,"F"),i=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=ge(...r);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const h=this.vs(n,l);return this.Cs(n,h,a,u.readTime)?this.ws(e,kd(n,null,"F")):this.Fs(e,h,n,u)}))})))}bs(e,n,i,s){return K0(n)||s.isEqual(oe.min())?U.resolve(null):this.ys.getDocuments(e,i).next(r=>{const a=this.vs(n,r);return this.Cs(n,a,i,s)?U.resolve(null):(rr()<=me.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ar(n)),this.Fs(e,a,n,wC(s,Oo)).next(l=>l))})}vs(e,n){let i=new at(ZT(e));return n.forEach((s,r)=>{Wc(e,r)&&(i=i.add(r))}),i}Cs(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ss(e,n,i){return rr()<=me.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",ar(n)),this.ys.getDocumentsMatchingQuery(e,n,Wi.min(),i)}Fs(e,n,i,s){return this.ys.getDocumentsMatchingQuery(e,i,s).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="LocalStore",i4=3e8;class s4{constructor(e,n,i,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Ge(ce),this.Os=new Hs(r=>cg(r),hg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QN(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function r4(t,e,n,i){return new s4(t,e,n,i)}async function Eb(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.Ls(e),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],l=[];let u=ge();for(const h of s){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of r){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(i,u).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function a4(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const g=h.batch,m=g.keys();let _=U.resolve();return m.forEach(C=>{_=_.next(()=>d.getEntry(u,C)).next(D=>{const k=h.docVersions.get(C);we(k!==null,48541),D.version.compareTo(k)<0&&(g.applyToRemoteDocument(D,h),D.isValidDocument()&&(D.setReadTime(h.commitVersion),d.addEntry(D)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,g))}(n,i,e,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=ge();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function Tb(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function o4(t,e){const n=le(t),i=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((d,g)=>{const m=s.get(g);if(!m)return;l.push(n.Ti.removeMatchingKeys(r,d.removedDocuments,g).next(()=>n.Ti.addMatchingKeys(r,d.addedDocuments,g)));let _=m.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(bt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,i)),s=s.insert(g,_),function(D,k,A){return D.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=i4?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(m,_,d)&&l.push(n.Ti.updateTargetData(r,_))});let u=ci(),h=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,d))}),l.push(l4(r,a,e.documentUpdates).next(d=>{u=d.qs,h=d.Qs})),!i.isEqual(oe.min())){const d=n.Ti.getLastRemoteSnapshotVersion(r).next(g=>n.Ti.setTargetsMetadata(r,r.currentSequenceNumber,i));l.push(d)}return U.waitFor(l).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,u,h)).next(()=>u)}).then(r=>(n.xs=s,r))}function l4(t,e,n){let i=ge(),s=ge();return n.forEach(r=>i=i.add(r)),e.getEntries(t,i).next(r=>{let a=ci();return n.forEach((l,u)=>{const h=r.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(oe.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Y(Eg,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{qs:a,Qs:s}})}function u4(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=og),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function c4(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.Ti.getTargetData(i,e).next(r=>r?(s=r,U.resolve(s)):n.Ti.allocateTargetId(i).next(a=>(s=new Pi(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(e,i.targetId)),i})}async function zd(t,e,n){const i=le(t),s=i.xs.get(e),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!ca(a))throw a;Y(Eg,`Failed to update sequence numbers for target ${e}: ${a}`)}i.xs=i.xs.remove(e),i.Os.delete(s.target)}function l_(t,e,n){const i=le(t);let s=oe.min(),r=ge();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const g=le(u),m=g.Os.get(d);return m!==void 0?U.resolve(g.xs.get(m)):g.Ti.getTargetData(h,d)}(i,a,Mn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(u=>{r=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,e,n?s:oe.min(),n?r:ge())).next(l=>(h4(i,ZC(e),l),{documents:l,$s:r})))}function h4(t,e,n){let i=t.Ns.get(e)||oe.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),t.Ns.set(e,i)}class u_{constructor(){this.activeTargetIds=iN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f4{constructor(){this.xo=new u_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,i){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new u_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="ConnectivityMonitor";class h_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Y(c_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Y(c_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl=null;function Bd(){return Xl===null?Xl=function(){return 268435456+Math.round(2147483648*Math.random())}():Xl++,"0x"+Xl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="RestConnection",m4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g4{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===gc?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(e,n,i,s,r){const a=Bd(),l=this.jo(e,n.toUriEncodedString());Y(vf,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,s,r);const{host:h}=new URL(l),d=el(h);return this.Jo(e,l,u,i,d).then(g=>(Y(vf,`Received RPC '${e}' ${a}: `,g),g),g=>{throw Qr(vf,`RPC '${e}' ${a} failed with error: `,g,"url: ",l,"request:",i),g})}Yo(e,n,i,s,r,a){return this.zo(e,n,i,s,r)}Ho(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+la}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}jo(e,n){const i=m4[e];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class y4 extends g4{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,s,r){const a=Bd();return new Promise((l,u)=>{const h=new ST;h.setWithCredentials(!0),h.listenOnce(wT.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case bu.NO_ERROR:const g=h.getResponseJson();Y(wt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case bu.TIMEOUT:Y(wt,`RPC '${e}' ${a} timed out`),u(new K(P.DEADLINE_EXCEEDED,"Request time out"));break;case bu.HTTP_ERROR:const m=h.getStatus();if(Y(wt,`RPC '${e}' ${a} failed with status:`,m,"response text:",h.getResponseText()),m>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const C=_==null?void 0:_.error;if(C&&C.status&&C.message){const D=function(A){const E=A.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(E)>=0?E:P.UNKNOWN}(C.status);u(new K(D,C.message))}else u(new K(P.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new K(P.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{h_:e,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{Y(wt,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(s);Y(wt,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",d,i,15)})}I_(e,n,i){const s=Bd(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=IT(),l=xT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const d=r.join("");Y(wt,`Creating RPC '${e}' stream ${s}: ${d}`,u);const g=a.createWebChannel(d,u);this.E_(g);let m=!1,_=!1;const C=new p4({Zo:k=>{_?Y(wt,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(m||(Y(wt,`Opening RPC '${e}' stream ${s} transport.`),g.open(),m=!0),Y(wt,`RPC '${e}' stream ${s} sending:`,k),g.send(k))},Xo:()=>g.close()}),D=(k,A,E)=>{k.listen(A,S=>{try{E(S)}catch(O){setTimeout(()=>{throw O},0)}})};return D(g,Fa.EventType.OPEN,()=>{_||(Y(wt,`RPC '${e}' stream ${s} transport opened.`),C.__())}),D(g,Fa.EventType.CLOSE,()=>{_||(_=!0,Y(wt,`RPC '${e}' stream ${s} transport closed`),C.u_(),this.d_(g))}),D(g,Fa.EventType.ERROR,k=>{_||(_=!0,Qr(wt,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),C.u_(new K(P.UNAVAILABLE,"The operation could not be completed")))}),D(g,Fa.EventType.MESSAGE,k=>{var A;if(!_){const E=k.data[0];we(!!E,16349);const S=E,O=(S==null?void 0:S.error)||((A=S[0])===null||A===void 0?void 0:A.error);if(O){Y(wt,`RPC '${e}' stream ${s} received error:`,O);const B=O.status;let z=function(b){const w=Je[b];if(w!==void 0)return lb(w)}(B),T=O.message;z===void 0&&(z=P.INTERNAL,T="Unknown error status: "+B+" with message "+O.message),_=!0,C.u_(new K(z,T)),g.close()}else Y(wt,`RPC '${e}' stream ${s} received:`,E),C.c_(E)}}),D(l,RT.STAT_EVENT,k=>{k.stat===xd.PROXY?Y(wt,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===xd.NOPROXY&&Y(wt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){return new TN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n,i=1e3,s=1.5,r=6e4){this.xi=e,this.timerId=n,this.A_=i,this.R_=s,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-i);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="PersistentStream";class Ab{constructor(e,n,i,s,r,a,l,u){this.xi=e,this.S_=i,this.D_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new bb(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(ui(n.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.v_===n&&this.z_(i,s)},i=>{e(()=>{const s=new K(P.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(s)})})}z_(e,n){const i=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.j_(s))}),this.stream.onMessage(s=>{i(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Y(f_,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Y(f_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _4 extends Ab{constructor(e,n,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=SN(this.serializer,e),i=function(r){if(!("targetChange"in r))return oe.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?oe.min():a.readTime?Vn(a.readTime):oe.min()}(e);return this.listener.Y_(n,i)}Z_(e){const n={};n.database=jd(this.serializer),n.addTarget=function(r,a){let l;const u=a.target;if(l=Md(u)?{documents:xN(r,u)}:{query:IN(r,u).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=hb(r,a.resumeToken);const h=Pd(r,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(oe.min())>0){l.readTime=Tc(r,a.snapshotVersion.toTimestamp());const h=Pd(r,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const i=NN(this.serializer,e);i&&(n.labels=i),this.Q_(n)}X_(e){const n={};n.database=jd(this.serializer),n.removeTarget=e,this.Q_(n)}}class v4 extends Ab{constructor(e,n,i,s,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,a),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=RN(e.writeResults,e.commitTime),i=Vn(e.commitTime);return this.listener.ra(i,n)}ia(){const e={};e.database=jd(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>wN(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{}class T4 extends E4{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new K(P.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.zo(e,Ud(n,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new K(P.UNKNOWN,r.toString())})}Yo(e,n,i,s,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,Ud(n,i),s,a,l,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new K(P.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class b4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ui(n),this.ua=!1):Y("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="RemoteStore";class A4{constructor(e,n,i,s,r){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(a=>{i.enqueueAndForget(async()=>{Fs(this)&&(Y(Ls,"Restarting streams for network reachability change."),await async function(u){const h=le(u);h.da.add(4),await ul(h),h.Va.set("Unknown"),h.da.delete(4),await rh(h)}(this))})}),this.Va=new b4(i,s)}}async function rh(t){if(Fs(t))for(const e of t.Aa)await e(!0)}async function ul(t){for(const e of t.Aa)await e(!1)}function Sb(t,e){const n=le(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Sg(n)?Ag(n):ha(n).N_()&&bg(n,e))}function Tg(t,e){const n=le(t),i=ha(n);n.Ea.delete(e),i.N_()&&wb(n,e),n.Ea.size===0&&(i.N_()?i.k_():Fs(n)&&n.Va.set("Unknown"))}function bg(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ha(t).Z_(e)}function wb(t,e){t.ma.Ke(e),ha(t).X_(e)}function Ag(t){t.ma=new yN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ha(t).start(),t.Va.ca()}function Sg(t){return Fs(t)&&!ha(t).O_()&&t.Ea.size>0}function Fs(t){return le(t).da.size===0}function Rb(t){t.ma=void 0}async function S4(t){t.Va.set("Online")}async function w4(t){t.Ea.forEach((e,n)=>{bg(t,e)})}async function R4(t,e){Rb(t),Sg(t)?(t.Va.Pa(e),Ag(t)):t.Va.set("Unknown")}async function x4(t,e,n){if(t.Va.set("Online"),e instanceof cb&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const l of r.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ea.delete(l),s.ma.removeTarget(l))}(t,e)}catch(i){Y(Ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Ac(t,i)}else if(e instanceof Ru?t.ma.Xe(e):e instanceof ub?t.ma.ot(e):t.ma.nt(e),!n.isEqual(oe.min()))try{const i=await Tb(t.localStore);n.compareTo(i)>=0&&await function(r,a){const l=r.ma.It(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=r.Ea.get(h);d&&r.Ea.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=r.Ea.get(u);if(!d)return;r.Ea.set(u,d.withResumeToken(bt.EMPTY_BYTE_STRING,d.snapshotVersion)),wb(r,u);const g=new Pi(d.target,u,h,d.sequenceNumber);bg(r,g)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){Y(Ls,"Failed to raise snapshot:",i),await Ac(t,i)}}async function Ac(t,e,n){if(!ca(e))throw e;t.da.add(1),await ul(t),t.Va.set("Offline"),n||(n=()=>Tb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(Ls,"Retrying IndexedDB access"),await n(),t.da.delete(1),await rh(t)})}function xb(t,e){return e().catch(n=>Ac(t,n,e))}async function ah(t){const e=le(t),n=is(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:og;for(;I4(e);)try{const s=await u4(e.localStore,i);if(s===null){e.Ia.length===0&&n.k_();break}i=s.batchId,C4(e,s)}catch(s){await Ac(e,s)}Ib(e)&&Cb(e)}function I4(t){return Fs(t)&&t.Ia.length<10}function C4(t,e){t.Ia.push(e);const n=is(t);n.N_()&&n.ea&&n.ta(e.mutations)}function Ib(t){return Fs(t)&&!is(t).O_()&&t.Ia.length>0}function Cb(t){is(t).start()}async function N4(t){is(t).ia()}async function D4(t){const e=is(t);for(const n of t.Ia)e.ta(n.mutations)}async function O4(t,e,n){const i=t.Ia.shift(),s=mg.from(i,e,n);await xb(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ah(t)}async function M4(t,e){e&&is(t).ea&&await async function(i,s){if(function(a){return gN(a)&&a!==P.ABORTED}(s.code)){const r=i.Ia.shift();is(i).L_(),await xb(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await ah(i)}}(t,e),Ib(t)&&Cb(t)}async function d_(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),Y(Ls,"RemoteStore received new credentials");const i=Fs(n);n.da.add(3),await ul(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await rh(n)}async function V4(t,e){const n=le(t);e?(n.da.delete(2),await rh(n)):e||(n.da.add(2),await ul(n),n.Va.set("Unknown"))}function ha(t){return t.fa||(t.fa=function(n,i,s){const r=le(n);return r.oa(),new _4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{e_:S4.bind(null,t),n_:w4.bind(null,t),i_:R4.bind(null,t),Y_:x4.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Sg(t)?Ag(t):t.Va.set("Unknown")):(await t.fa.stop(),Rb(t))})),t.fa}function is(t){return t.ga||(t.ga=function(n,i,s){const r=le(n);return r.oa(),new v4(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:N4.bind(null,t),i_:M4.bind(null,t),na:D4.bind(null,t),ra:O4.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await ah(t)):(await t.ga.stop(),t.Ia.length>0&&(Y(Ls,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n,i,s,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,r){const a=Date.now()+i,l=new wg(e,n,a,s,r);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(t,e){if(ui("AsyncQueue",`${e}: ${t}`),ca(t))return new K(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{static emptySet(e){return new Or(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Z.comparator(n.key,i.key):(n,i)=>Z.comparator(n.key,i.key),this.keyedMap=Ga(),this.sortedSet=new Ge(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Or)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Or;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.pa=new Ge(Z.comparator)}track(e){const n=e.doc.key,i=this.pa.get(n);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(n,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(n):e.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):ne(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,i)=>{e.push(i)}),e}}class Zr{constructor(e,n,i,s,r,a,l,u,h){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,i,s,r){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Zr(e,n,Or.emptySet(n),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class P4{constructor(){this.queries=g_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=le(n),r=s.queries;s.queries=g_(),r.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new K(P.ABORTED,"Firestore shutting down"))}}function g_(){return new Hs(t=>XT(t),Jc)}async function Nb(t,e){const n=le(t);let i=3;const s=e.query;let r=n.queries.get(s);r?!r.Da()&&e.va()&&(i=2):(r=new k4,i=e.va()?0:1);try{switch(i){case 0:r.ba=await n.onListen(s,!0);break;case 1:r.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const l=Rg(a,`Initialization of query '${ar(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,r),r.Sa.push(e),e.Fa(n.onlineState),r.ba&&e.Ma(r.ba)&&xg(n)}async function Db(t,e){const n=le(t),i=e.query;let s=3;const r=n.queries.get(i);if(r){const a=r.Sa.indexOf(e);a>=0&&(r.Sa.splice(a,1),r.Sa.length===0?s=e.va()?0:1:!r.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function U4(t,e){const n=le(t);let i=!1;for(const s of e){const r=s.query,a=n.queries.get(r);if(a){for(const l of a.Sa)l.Ma(s)&&(i=!0);a.ba=s}}i&&xg(n)}function L4(t,e,n){const i=le(t),s=i.queries.get(e);if(s)for(const r of s.Sa)r.onError(n);i.queries.delete(e)}function xg(t){t.Ca.forEach(e=>{e.next()})}var qd,p_;(p_=qd||(qd={})).xa="default",p_.Cache="cache";class Ob{constructor(e,n,i){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Zr(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Zr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.key=e}}class Vb{constructor(e){this.key=e}}class j4{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ge(),this.mutatedKeys=ge(),this.Za=ZT(e),this.Xa=new Or(this.Za)}get eu(){return this.Ha}tu(e,n){const i=n?n.nu:new m_,s=n?n.Xa:this.Xa;let r=n?n.mutatedKeys:this.mutatedKeys,a=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,g)=>{const m=s.get(d),_=Wc(this.query,g)?g:null,C=!!m&&this.mutatedKeys.has(m.key),D=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let k=!1;m&&_?m.data.isEqual(_.data)?C!==D&&(i.track({type:3,doc:_}),k=!0):this.ru(m,_)||(i.track({type:2,doc:_}),k=!0,(u&&this.Za(_,u)>0||h&&this.Za(_,h)<0)&&(l=!0)):!m&&_?(i.track({type:0,doc:_}),k=!0):m&&!_&&(i.track({type:1,doc:m}),k=!0,(u||h)&&(l=!0)),k&&(_?(a=a.add(_),r=D?r.add(d):r.delete(d)):(a=a.delete(d),r=r.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),r=r.delete(d.key),i.track({type:1,doc:d})}return{Xa:a,nu:i,Cs:l,mutatedKeys:r}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const r=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((d,g)=>function(_,C){const D=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Vt:k})}};return D(_)-D(C)}(d.type,g.type)||this.Za(d.doc,g.doc)),this.iu(i),s=s!=null&&s;const l=n&&!s?this.su():[],u=this.Ya.size===0&&this.current&&!s?1:0,h=u!==this.Ja;return this.Ja=u,a.length!==0||h?{snapshot:new Zr(this.query,e.Xa,r,a,e.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new m_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ge(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new Vb(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new Mb(i))}),n}au(e){this.Ha=e.$s,this.Ya=ge();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Zr.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Ig="SyncEngine";class z4{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class B4{constructor(e){this.key=e,this.cu=!1}}class q4{constructor(e,n,i,s,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Hs(l=>XT(l),Jc),this.Pu=new Map,this.Tu=new Set,this.Iu=new Ge(Z.comparator),this.Eu=new Map,this.du=new yg,this.Au={},this.Ru=new Map,this.Vu=Xr.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function H4(t,e,n=!0){const i=zb(t);let s;const r=i.hu.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.uu()):s=await kb(i,e,n,!0),s}async function F4(t,e){const n=zb(t);await kb(n,e,!0,!1)}async function kb(t,e,n,i){const s=await c4(t.localStore,Mn(e)),r=s.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let l;return i&&(l=await G4(t,e,r,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&Sb(t.remoteStore,s),l}async function G4(t,e,n,i,s){t.fu=(g,m,_)=>async function(D,k,A,E){let S=k.view.tu(A);S.Cs&&(S=await l_(D.localStore,k.query,!1).then(({documents:T})=>k.view.tu(T,S)));const O=E&&E.targetChanges.get(k.targetId),B=E&&E.targetMismatches.get(k.targetId)!=null,z=k.view.applyChanges(S,D.isPrimaryClient,O,B);return __(D,k.targetId,z.ou),z.snapshot}(t,g,m,_);const r=await l_(t.localStore,e,!0),a=new j4(e,r.$s),l=a.tu(r.documents),u=ll.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),h=a.applyChanges(l,t.isPrimaryClient,u);__(t,n,h.ou);const d=new z4(e,n,a);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),h.snapshot}async function Q4(t,e,n){const i=le(t),s=i.hu.get(e),r=i.Pu.get(s.targetId);if(r.length>1)return i.Pu.set(s.targetId,r.filter(a=>!Jc(a,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await zd(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&Tg(i.remoteStore,s.targetId),Hd(i,s.targetId)}).catch(ua)):(Hd(i,s.targetId),await zd(i.localStore,s.targetId,!0))}async function $4(t,e){const n=le(t),i=n.hu.get(e),s=n.Pu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Tg(n.remoteStore,i.targetId))}async function Y4(t,e,n){const i=tD(t);try{const s=await function(a,l){const u=le(a),h=rt.now(),d=l.reduce((_,C)=>_.add(C.key),ge());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let C=ci(),D=ge();return u.Bs.getEntries(_,d).next(k=>{C=k,C.forEach((A,E)=>{E.isValidDocument()||(D=D.add(A))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,C)).next(k=>{g=k;const A=[];for(const E of l){const S=cN(E,g.get(E.key).overlayedDocument);S!=null&&A.push(new ls(E.key,S,qT(S.value.mapValue),sn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,h,A,l)}).next(k=>{m=k;const A=k.applyToLocalDocumentSet(g,D);return u.documentOverlayCache.saveOverlays(_,k.batchId,A)})}).then(()=>({batchId:m.batchId,changes:WT(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(a,l,u){let h=a.Au[a.currentUser.toKey()];h||(h=new Ge(ce)),h=h.insert(l,u),a.Au[a.currentUser.toKey()]=h}(i,s.batchId,n),await cl(i,s.changes),await ah(i.remoteStore)}catch(s){const r=Rg(s,"Failed to persist write");n.reject(r)}}async function Pb(t,e){const n=le(t);try{const i=await o4(n.localStore,e);e.targetChanges.forEach((s,r)=>{const a=n.Eu.get(r);a&&(we(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?we(a.cu,14607):s.removedDocuments.size>0&&(we(a.cu,42227),a.cu=!1))}),await cl(n,i,e)}catch(i){await ua(i)}}function y_(t,e,n){const i=le(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.hu.forEach((r,a)=>{const l=a.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const u=le(a);u.onlineState=l;let h=!1;u.queries.forEach((d,g)=>{for(const m of g.Sa)m.Fa(l)&&(h=!0)}),h&&xg(u)}(i.eventManager,e),s.length&&i.lu.Y_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function K4(t,e,n){const i=le(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Eu.get(e),r=s&&s.key;if(r){let a=new Ge(Z.comparator);a=a.insert(r,xt.newNoDocument(r,oe.min()));const l=ge().add(r),u=new ih(oe.min(),new Map,new Ge(ce),a,l);await Pb(i,u),i.Iu=i.Iu.remove(r),i.Eu.delete(e),Cg(i)}else await zd(i.localStore,e,!1).then(()=>Hd(i,e,n)).catch(ua)}async function X4(t,e){const n=le(t),i=e.batch.batchId;try{const s=await a4(n.localStore,e);Lb(n,i,null),Ub(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await cl(n,s)}catch(s){await ua(s)}}async function Z4(t,e,n){const i=le(t);try{const s=await function(a,l){const u=le(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(g=>(we(g!==null,37113),d=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(i.localStore,e);Lb(i,e,n),Ub(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await cl(i,s)}catch(s){await ua(s)}}function Ub(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function Lb(t,e,n){const i=le(t);let s=i.Au[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(n?r.reject(n):r.resolve(),s=s.remove(e)),i.Au[i.currentUser.toKey()]=s}}function Hd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Pu.get(e))t.hu.delete(i),n&&t.lu.gu(i,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(i=>{t.du.containsKey(i)||jb(t,i)})}function jb(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Tg(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),Cg(t))}function __(t,e,n){for(const i of n)i instanceof Mb?(t.du.addReference(i.key,e),J4(t,i)):i instanceof Vb?(Y(Ig,"Document no longer in limbo: "+i.key),t.du.removeReference(i.key,e),t.du.containsKey(i.key)||jb(t,i.key)):ne(19791,{pu:i})}function J4(t,e){const n=e.key,i=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(i)||(Y(Ig,"New document in limbo: "+n),t.Tu.add(i),Cg(t))}function Cg(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Z(Le.fromString(e)),i=t.Vu.next();t.Eu.set(i,new B4(n)),t.Iu=t.Iu.insert(n,i),Sb(t.remoteStore,new Pi(Mn(fg(n.path)),i,"TargetPurposeLimboResolution",Kc.le))}}async function cl(t,e,n){const i=le(t),s=[],r=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,u)=>{a.push(i.fu(u,e,n).then(h=>{var d;if((h||n)&&i.isPrimaryClient){const g=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){s.push(h);const g=vg.Rs(u.targetId,h);r.push(g)}}))}),await Promise.all(a),i.lu.Y_(s),await async function(u,h){const d=le(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>U.forEach(h,m=>U.forEach(m.ds,_=>d.persistence.referenceDelegate.addReference(g,m.targetId,_)).next(()=>U.forEach(m.As,_=>d.persistence.referenceDelegate.removeReference(g,m.targetId,_)))))}catch(g){if(!ca(g))throw g;Y(Eg,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const _=d.xs.get(m),C=_.snapshotVersion,D=_.withLastLimboFreeSnapshotVersion(C);d.xs=d.xs.insert(m,D)}}}(i.localStore,r))}async function W4(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){Y(Ig,"User change. New user:",e.toKey());const i=await Eb(n.localStore,e);n.currentUser=e,function(r,a){r.Ru.forEach(l=>{l.forEach(u=>{u.reject(new K(P.CANCELLED,a))})}),r.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await cl(n,i.ks)}}function eD(t,e){const n=le(t),i=n.Eu.get(e);if(i&&i.cu)return ge().add(i.key);{let s=ge();const r=n.Pu.get(e);if(!r)return s;for(const a of r){const l=n.hu.get(a);s=s.unionWith(l.view.eu)}return s}}function zb(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K4.bind(null,e),e.lu.Y_=U4.bind(null,e.eventManager),e.lu.gu=L4.bind(null,e.eventManager),e}function tD(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z4.bind(null,e),e}class Sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sh(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return r4(this.persistence,new n4,e.initialUser,this.serializer)}Su(e){return new vb(_g.fi,this.serializer)}bu(e){return new f4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sc.provider={build:()=>new Sc};class nD extends Sc{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){we(this.persistence.referenceDelegate instanceof bc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new BN(i,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new vb(i=>bc.fi(i,n),this.serializer)}}class Fd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>y_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=W4.bind(null,this.syncEngine),await V4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new P4}()}createDatastore(e){const n=sh(e.databaseInfo.databaseId),i=function(r){return new y4(r)}(e.databaseInfo);return function(r,a,l,u){return new T4(r,a,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,r,a,l){return new A4(i,s,r,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>y_(this.syncEngine,n,0),function(){return h_.C()?new h_:new d4}())}createSyncEngine(e,n){return function(s,r,a,l,u,h,d){const g=new q4(s,r,a,l,u,h);return d&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const r=le(s);Y(Ls,"RemoteStore shutting down."),r.da.add(5),await ul(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fd.provider={build:()=>new Fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class iD{constructor(e,n,i,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Rt.UNAUTHENTICATED,this.clientId=OT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{Y(ss,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(Y(ss,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Rg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Tf(t,e){t.asyncQueue.verifyOperationInProgress(),Y(ss,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Eb(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function v_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sD(t);Y(ss,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>d_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>d_(e.remoteStore,s)),t._onlineComponents=e}async function sD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(ss,"Using user provided OfflineComponentProvider");try{await Tf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===P.FAILED_PRECONDITION||s.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Qr("Error using user provided cache. Falling back to memory cache: "+n),await Tf(t,new Sc)}}else Y(ss,"Using default OfflineComponentProvider"),await Tf(t,new nD(void 0));return t._offlineComponents}async function qb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(ss,"Using user provided OnlineComponentProvider"),await v_(t,t._uninitializedComponentsProvider._online)):(Y(ss,"Using default OnlineComponentProvider"),await v_(t,new Fd))),t._onlineComponents}function rD(t){return qb(t).then(e=>e.syncEngine)}async function Hb(t){const e=await qb(t),n=e.eventManager;return n.onListen=H4.bind(null,e.syncEngine),n.onUnlisten=Q4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=F4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$4.bind(null,e.syncEngine),n}function aD(t,e,n={}){const i=new ni;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,l,u,h){const d=new Bb({next:m=>{d.xu(),a.enqueueAndForget(()=>Db(r,g));const _=m.docs.has(l);!_&&m.fromCache?h.reject(new K(P.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?h.reject(new K(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(m)},error:m=>h.reject(m)}),g=new Ob(fg(l.path),d,{includeMetadataChanges:!0,Qa:!0});return Nb(r,g)}(await Hb(t),t.asyncQueue,e,n,i)),i.promise}function oD(t,e,n={}){const i=new ni;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,l,u,h){const d=new Bb({next:m=>{d.xu(),a.enqueueAndForget(()=>Db(r,g)),m.fromCache&&u.source==="server"?h.reject(new K(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(m)},error:m=>h.reject(m)}),g=new Ob(l,d,{includeMetadataChanges:!0,Qa:!0});return Nb(r,g)}(await Hb(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t,e,n){if(!n)throw new K(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lD(t,e,n,i){if(e===!0&&i===!0)throw new K(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function T_(t){if(!Z.isDocumentKey(t))throw new K(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function b_(t){if(Z.isDocumentKey(t))throw new K(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function hi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oh(t);throw new K(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="firestore.googleapis.com",A_=!0;class S_{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new K(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qb,this.ssl=A_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:A_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_b;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jN)throw new K(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fb((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(P.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(P.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(P.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lh{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new pC;switch(i.type){case"firstParty":return new EC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new K(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=E_.get(n);i&&(Y("ComponentProvider","Removing Datastore"),E_.delete(n),i.terminate())}(this),Promise.resolve()}}function uD(t,e,n,i={}){var s;t=hi(t,lh);const r=el(e),a=t._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;r&&(jE(`https://${u}`),zE("Firestore",!0)),a.host!==Qb&&a.host!==u&&Qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:u,ssl:r,emulatorOptions:i});if(!Vs(h,l)&&(t._setSettings(h),i.mockUserToken)){let d,g;if(typeof i.mockUserToken=="string")d=i.mockUserToken,g=Rt.MOCK_USER;else{d=z2(i.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new K(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Rt(m)}t._authCredentials=new yC(new NT(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new fa(this.firestore,e,this._query)}}class Ft{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class Ki extends fa{constructor(e,n,i){super(e,n,fg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Z(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function Zl(t,e,...n){if(t=dt(t),Gb("collection","path",e),t instanceof lh){const i=Le.fromString(e,...n);return b_(i),new Ki(t,null,i)}{if(!(t instanceof Ft||t instanceof Ki))throw new K(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Le.fromString(e,...n));return b_(i),new Ki(t.firestore,null,i)}}function Ws(t,e,...n){if(t=dt(t),arguments.length===1&&(e=OT.newId()),Gb("doc","path",e),t instanceof lh){const i=Le.fromString(e,...n);return T_(i),new Ft(t,null,new Z(i))}{if(!(t instanceof Ft||t instanceof Ki))throw new K(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Le.fromString(e,...n));return T_(i),new Ft(t.firestore,t instanceof Ki?t.converter:null,new Z(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="AsyncQueue";class R_{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new bb(this,"async_queue_retry"),this.rc=()=>{const i=Ef();i&&Y(w_,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const n=Ef();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Ef();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ni;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!ca(e))throw e;Y(w_,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,ui("INTERNAL UNHANDLED ERROR: ",x_(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(e,n,i){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=wg.createAndSchedule(this,e,n,i,r=>this.uc(r));return this.Zu.push(s),s}oc(){this.Xu&&ne(47125,{cc:x_(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function x_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class da extends lh{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new R_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R_(e),this._firestoreClient=void 0,await e}}}function cD(t,e){const n=typeof t=="object"?t:FE(),i=typeof t=="string"?t:gc,s=Ym(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=L2("firestore");r&&uD(s,...r)}return s}function uh(t){if(t._terminated)throw new K(P.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hD(t),t._firestoreClient}function hD(t){var e,n,i;const s=t._freezeSettings(),r=function(l,u,h,d){return new kC(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Fb(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new iD(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jr(bt.fromBase64String(e))}catch(n){throw new K(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jr(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Jl(){return new hl(Cd)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=/^__.*__$/;class dD{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new ol(e,this.data,n,this.fieldTransforms)}}class $b{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new ls(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Yb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{Ic:t})}}class Mg{constructor(e,n,i,s,r,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:i,Rc:!1});return s.Vc(e),s}mc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:i,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return wc(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Yb(this.Ic)&&fD.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class mD{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||sh(e)}bc(e,n,i,s=!1){return new Mg({Ic:e,methodName:n,wc:i,path:Et.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vg(t){const e=t._freezeSettings(),n=sh(t._databaseId);return new mD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kb(t,e,n,i,s,r={}){const a=t.bc(r.merge||r.mergeFields?2:0,e,n,s);kg("Data must be an object, but it was:",a,i);const l=Xb(i,a);let u,h;if(r.merge)u=new Jt(a.fieldMask),h=a.fieldTransforms;else if(r.mergeFields){const d=[];for(const g of r.mergeFields){const m=Gd(e,g,n);if(!a.contains(m))throw new K(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Jb(d,m)||d.push(m)}u=new Jt(d),h=a.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=a.fieldTransforms;return new dD(new Ht(l),u,h)}class ch extends Ng{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ch}}function gD(t,e,n,i){const s=t.bc(1,e,n);kg("Data must be an object, but it was:",s,i);const r=[],a=Ht.empty();os(i,(u,h)=>{const d=Pg(e,u,n);h=dt(h);const g=s.mc(d);if(h instanceof ch)r.push(d);else{const m=fl(h,g);m!=null&&(r.push(d),a.set(d,m))}});const l=new Jt(r);return new $b(a,l,s.fieldTransforms)}function pD(t,e,n,i,s,r){const a=t.bc(1,e,n),l=[Gd(e,i,n)],u=[s];if(r.length%2!=0)throw new K(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<r.length;m+=2)l.push(Gd(e,r[m])),u.push(r[m+1]);const h=[],d=Ht.empty();for(let m=l.length-1;m>=0;--m)if(!Jb(h,l[m])){const _=l[m];let C=u[m];C=dt(C);const D=a.mc(_);if(C instanceof ch)h.push(_);else{const k=fl(C,D);k!=null&&(h.push(_),d.set(_,k))}}const g=new Jt(h);return new $b(d,g,a.fieldTransforms)}function yD(t,e,n,i=!1){return fl(n,t.bc(i?4:3,e))}function fl(t,e){if(Zb(t=dt(t)))return kg("Unsupported field value:",e,t),Xb(t,e);if(t instanceof Ng)return function(i,s){if(!Yb(s.Ic))throw s.gc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const l of i){let u=fl(l,s.fc(a));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),a++}return{arrayValue:{values:r}}}(t,e)}return function(i,s){if((i=dt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return sN(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=rt.fromDate(i);return{timestampValue:Tc(s.serializer,r)}}if(i instanceof rt){const r=new rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Tc(s.serializer,r)}}if(i instanceof Dg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jr)return{bytesValue:hb(s.serializer,i._byteString)};if(i instanceof Ft){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:pg(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Og)return function(a,l){return{mapValue:{fields:{[zT]:{stringValue:BT},[pc]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return dg(l.serializer,h)})}}}}}}(i,s);throw s.gc(`Unsupported field value: ${oh(i)}`)}(t,e)}function Xb(t,e){const n={};return VT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):os(t,(i,s)=>{const r=fl(s,e.Ac(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function Zb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Dg||t instanceof Jr||t instanceof Ft||t instanceof Ng||t instanceof Og)}function kg(t,e,n){if(!Zb(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=oh(n);throw i==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+i)}}function Gd(t,e,n){if((e=dt(e))instanceof hl)return e._internalPath;if(typeof e=="string")return Pg(t,e);throw wc("Field path arguments must be of type string or ",t,!1,void 0,n)}const _D=new RegExp("[~\\*/\\[\\]]");function Pg(t,e,n){if(e.search(_D)>=0)throw wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hl(...e.split("."))._internalPath}catch{throw wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wc(t,e,n,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(r||a)&&(u+=" (found",r&&(u+=` in field ${i}`),a&&(u+=` in document ${s}`),u+=")"),new K(P.INVALID_ARGUMENT,l+t+u)}function Jb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n,i,s,r){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ug("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vD extends Wb{data(){return super.data()}}function Ug(t,e){return typeof e=="string"?Pg(t,e):e instanceof hl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lg{}class TD extends Lg{}function Wl(t,e,...n){let i=[];e instanceof Lg&&i.push(e),i=i.concat(n),function(r){const a=r.filter(u=>u instanceof jg).length,l=r.filter(u=>u instanceof hh).length;if(a>1||a>0&&l>0)throw new K(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class hh extends TD{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new hh(e,n,i)}_apply(e){const n=this._parse(e);return eA(e._query,n),new fa(e.firestore,e.converter,Vd(e._query,n))}_parse(e){const n=Vg(e.firestore);return function(r,a,l,u,h,d,g){let m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){C_(g,d);const C=[];for(const D of g)C.push(I_(u,r,D));m={arrayValue:{values:C}}}else m=I_(u,r,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||C_(g,d),m=yD(l,a,g,d==="in"||d==="not-in");return et.create(h,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function eu(t,e,n){const i=e,s=Ug("where",t);return hh._create(s,i,n)}class jg extends Lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jg(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let a=s;const l=r.getFlattenedFilters();for(const u of l)eA(a,u),a=Vd(a,u)}(e._query,n),new fa(e.firestore,e.converter,Vd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function I_(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new K(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KT(e)&&n.indexOf("/")!==-1)throw new K(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Le.fromString(n));if(!Z.isDocumentKey(i))throw new K(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return H0(t,new Z(i))}if(n instanceof Ft)return H0(t,n._key);throw new K(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(n)}.`)}function C_(t,e){if(!Array.isArray(t)||t.length===0)throw new K(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eA(t,e){const n=function(s,r){for(const a of s)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bD{convertValue(e,n="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return os(e,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)===null||n===void 0?void 0:n[pc].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>Ze(a.doubleValue));return new Og(r)}convertGeoPoint(e){return new Dg(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Zc(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Mo(e));default:return null}}convertTimestamp(e){const n=es(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Le.fromString(e);we(yb(i),9688,{name:e});const s=new Vo(i.get(1),i.get(3)),r=new Z(i.popFirst(5));return s.isEqual(n)||ui(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nA extends Wb{constructor(e,n,i,s,r,a){super(e,n,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Ug("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class xu extends nA{data(e={}){return super.data(e)}}class AD{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new $a(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new xu(this._firestore,this._userDataWriter,i.key,i,new $a(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const u=new xu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new $a(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const u=new xu(s._firestore,s._userDataWriter,l.doc.key,l.doc,new $a(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:SD(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(t){t=hi(t,Ft);const e=hi(t.firestore,da);return aD(uh(e),t._key).then(n=>xD(e,t,n))}class iA extends bD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function tu(t){t=hi(t,fa);const e=hi(t.firestore,da),n=uh(e),i=new iA(e);return ED(t._query),oD(n,t._query).then(s=>new AD(e,i,t,s))}function nu(t,e,n){t=hi(t,Ft);const i=hi(t.firestore,da),s=tA(t.converter,e,n);return zg(i,[Kb(Vg(i),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,sn.none())])}function RD(t){return zg(hi(t.firestore,da),[new nh(t._key,sn.none())])}function zg(t,e){return function(i,s){const r=new ni;return i.asyncQueue.enqueueAndForget(async()=>Y4(await rD(i),s,r)),r.promise}(uh(t),e)}function xD(t,e,n){const i=n.docs.get(e._key),s=new iA(t);return new nA(t,s,e._key,i,new $a(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Vg(e)}set(e,n,i){this._verifyNotCommitted();const s=bf(e,this._firestore),r=tA(s.converter,n,i),a=Kb(this._dataReader,"WriteBatch.set",s._key,r,s.converter!==null,i);return this._mutations.push(a.toMutation(s._key,sn.none())),this}update(e,n,i,...s){this._verifyNotCommitted();const r=bf(e,this._firestore);let a;return a=typeof(n=dt(n))=="string"||n instanceof hl?pD(this._dataReader,"WriteBatch.update",r._key,n,i,s):gD(this._dataReader,"WriteBatch.update",r._key,n),this._mutations.push(a.toMutation(r._key,sn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=bf(e,this._firestore);return this._mutations=this._mutations.concat(new nh(n._key,sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new K(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bf(t,e){if((t=dt(t)).firestore!==e)throw new K(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){return uh(t=hi(t,da)),new ID(t,e=>zg(t,e))}(function(e,n=!0){(function(s){la=s})(aa),Fr(new ks("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),l=new da(new _C(i.getProvider("auth-internal")),new TC(a,i.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new K(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(h.options.projectId,d)}(a,s),a);return r=Object.assign({useFetchStreams:n},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),$i(O0,M0,e),$i(O0,M0,"esm2017")})();const ND={apiKey:"AIzaSyAQkJO9WgtZRH3OQ_QxaICpYEy_4S-uHBI",authDomain:"shivs-meal-planner-f571f.firebaseapp.com",projectId:"shivs-meal-planner-f571f",storageBucket:"shivs-meal-planner-f571f.firebasestorage.app",messagingSenderId:"1087771620132",appId:"1:1087771620132:web:fb107f419b72d186f1b9b1"},sA=HE(ND),Qd=fC(sA),pn=cD(sA),DD="SV7CMpXdfiKv01UstdMZnoOeohXgdrkrw2Y3zDnB",Si=()=>crypto.randomUUID(),Ve=(t,e=2)=>t==null||t===""||isNaN(parseFloat(String(t)))?0:+(Math.round(+(parseFloat(String(t))+"e"+e))+"e-"+e),OD=t=>{if(!t||typeof t!="string")return null;const e=t.match(/(\d+(\.\d+)?)\s*g/i);return e&&e[1]?parseFloat(e[1]):null},iu=[{id:Si(),name:"My First Meal Template",ingredients:[],createdAt:Date.now()}],MD=async t=>{const e=`https://api.nal.usda.gov/fdc/v1/foods/search?api_key=${DD}&query=${encodeURIComponent(t)}&dataType=Foundation,SR%20Legacy&pageSize=10`,n=await fetch(e);if(!n.ok)throw new Error(`USDA API request failed with status ${n.status}`);const i=await n.json();return i.foods&&i.foods.length>0?i.foods.map(s=>({...s,source:"USDA"})):[]},VD=async(t,e)=>{let n=`https://world.openfoodfacts.org/cgi/search.pl?search_terms=${encodeURIComponent(t)}&search_simple=1&action=process&json=1&page_size=10`;e&&(n+="&tagtype_0=countries&tag_contains_0=contains&tag_0=australia");const i=await fetch(n);if(!i.ok)throw new Error(`OpenFoodFacts API request failed with status ${i.status}`);const s=await i.json();return s.products&&s.products.length>0?s.products.map(r=>({...r,source:"OpenFoodFacts"})):[]};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),N_=t=>{const e=PD(t);return e.charAt(0).toUpperCase()+e.slice(1)},rA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),UD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=W.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:a,...l},u)=>W.createElement("svg",{ref:u,...LD,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:rA("lucide",s),...!r&&!UD(l)&&{"aria-hidden":"true"},...l},[...a.map(([h,d])=>W.createElement(h,d)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(t,e)=>{const n=W.forwardRef(({className:i,...s},r)=>W.createElement(jD,{ref:r,iconNode:e,className:rA(`lucide-${kD(N_(t))}`,`lucide-${t}`,i),...s}));return n.displayName=N_(t),n};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Af=ze("book-open",zD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],qD=ze("check",BD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],FD=ze("chef-hat",HD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],QD=ze("chevron-left",GD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],YD=ze("chevron-right",$D);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],aA=ze("circle-alert",KD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Rc=ze("circle-plus",XD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],JD=ze("circle-user",ZD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],D_=ze("database",WD);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tO=ze("eye",eO);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],iO=ze("list-checks",nO);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Iu=ze("loader-circle",sO);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aO=ze("log-out",rO);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],lO=ze("pen-line",oO);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],cO=ze("printer",uO);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],fO=ze("save",hO);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mO=ze("search",dO);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]],O_=ze("shopping-basket",gO);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],M_=ze("shopping-cart",pO);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_O=ze("square-check-big",yO);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],V_=ze("square-pen",vO);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],TO=ze("square-x",EO);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],AO=ze("star",bO);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Cu=ze("trash-2",SO);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ja=ze("x",wO),RO=({ingredient:t,onUpdate:e,onRemove:n})=>{const[i,s]=W.useState(t);W.useEffect(()=>{s(t)},[t]);const r=_=>{const{name:C,value:D}=_.target;let k=D;C!=="name"&&(k=D===""?"":D),s(A=>({...A,[C]:k}))},a=_=>{const{name:C}=_.target;let D=i[C],k=!1;if(C!=="name"){const E=String(i[C]).trim();if(E==="")D=0,k=String(i[C])!==String(D);else{const S=parseFloat(E);D=isNaN(S)?0:S,k=String(i[C])!==String(D)}}else D=String(i.name).trim(),k=i.name!==D;const A={...i,[C]:D};k&&s(A),e({[C]:D})},l=_=>{const C=i[_];if(C===""||C===null||C===void 0)return 0;const D=Number(C);return isNaN(D)?0:D},u={calories:Ve(l("calories100g")/100*l("grams")),protein:Ve(l("protein100g")/100*l("grams")),fat:Ve(l("fat100g")/100*l("grams")),carbs:Ve(l("carbs100g")/100*l("grams"))},h="bg-slate-700/70 text-slate-100 p-3 rounded-md border border-slate-600/80 focus:ring-2 focus:ring-teal-500/70 focus:border-teal-500 outline-none transition-all duration-150 text-left",d=`${h} w-full`,g=`${h} min-w-[95px]`;let m="border-b border-slate-700/60 hover:bg-slate-700/50 transition-colors duration-150";return t.isNew?m+=" ingredient-row-enter":t.isRemoving&&(m+=" ingredient-row-exit"),v.jsxs("tr",{className:m,children:[v.jsxs("td",{className:"px-4 py-3",children:[" ",v.jsx("input",{type:"text",name:"name",value:i.name,onChange:r,onBlur:a,placeholder:"Ingredient name",className:d,"aria-label":"Ingredient name"})]}),["calories100g","protein100g","fat100g","carbs100g","grams"].map(_=>v.jsxs("td",{className:"px-3 py-3",children:[" ",v.jsx("input",{type:"number",name:_,value:i[_]===""||i[_]===null||i[_]===void 0?"":String(i[_]),onChange:r,onBlur:a,className:g,step:"any",min:"0",placeholder:"0","aria-label":`${_.replace("100g"," per 100g")}`})]},_)),v.jsx("td",{className:"px-3 py-3 text-center text-slate-200 font-medium text-sm",children:u.calories}),v.jsx("td",{className:"px-3 py-3 text-center text-slate-200 font-medium text-sm",children:u.protein}),v.jsx("td",{className:"px-3 py-3 text-center text-slate-200 font-medium text-sm",children:u.fat}),v.jsx("td",{className:"px-3 py-3 text-center text-slate-200 font-medium text-sm",children:u.carbs}),v.jsxs("td",{className:"px-4 py-3 text-center",children:[" ",v.jsx("button",{onClick:n,className:"text-slate-400 hover:text-red-400 p-2 rounded-md hover:bg-red-500/10 transition-all duration-150 transform hover:scale-110","aria-label":"Remove ingredient",children:v.jsx(Cu,{size:20})})]})]})},xO=({protein:t,carbs:e,fat:n,totalCalories:i,size:s=120,strokeWidth:r=16,showLegend:a=!0})=>{const[l,u]=W.useState(!1),[h,d]=W.useState(null),g=W.useRef(null);W.useEffect(()=>{u(!0)},[]);const m=t+e+n;if(m===0&&i===0)return v.jsx("div",{style:{width:s,height:s},className:"flex flex-col items-center justify-center text-center",children:v.jsxs("svg",{width:s,height:s,viewBox:`0 0 ${s} ${s}`,"aria-label":"Donut chart showing no data",children:[v.jsx("circle",{cx:s/2,cy:s/2,r:(s-r)/2,fill:"transparent",stroke:"#4b5563",strokeWidth:r,opacity:"0.2"}),v.jsx("text",{x:"50%",y:"45%",className:"donut-chart-text text-xs fill-slate-400",dy:"0em",dominantBaseline:"middle",children:"No"}),v.jsx("text",{x:"50%",y:"55%",className:"donut-chart-text text-xs fill-slate-400",dy:"0.1em",dominantBaseline:"middle",children:"Data"})]})});const _=m>0?t/m*100:0,C=m>0?e/m*100:0,D=m>0?n/m*100:0,k=(s-r)/2,A=2*Math.PI*k,E=[{percent:_,color:"#2dd4bf",label:"Protein",grams:t},{percent:C,color:"#f59e0b",label:"Carbs",grams:e},{percent:D,color:"#a855f7",label:"Fat",grams:n}];let S=0;const O=z=>{d(z)},B=()=>{d(null)};return v.jsxs("div",{className:"flex flex-col items-center",style:{width:s},children:[v.jsxs("div",{style:{width:s,height:s,position:"relative"},className:"transform -rotate-90",children:[v.jsxs("svg",{width:s,height:s,viewBox:`0 0 ${s} ${s}`,ref:g,"aria-label":`Macro donut chart. Total Calories: ${Math.round(i)} kcal. Macros: Protein ${Math.round(t)}g, Carbs ${Math.round(e)}g, Fat ${Math.round(n)}g.`,children:[v.jsx("circle",{cx:s/2,cy:s/2,r:k,fill:"transparent",stroke:"#374151",strokeWidth:r,opacity:"0.4"}),E.map((z,T)=>{if(z.percent===0)return null;const y=A-z.percent/100*A,b=S/100*360;return S+=z.percent,v.jsx("g",{onMouseOver:()=>O(z),onMouseOut:B,className:"cursor-pointer",role:"presentation",children:v.jsx("circle",{className:"donut-chart-segment",cx:s/2,cy:s/2,r:k,fill:"transparent",stroke:z.color,strokeWidth:h===z?r+2:r,strokeDasharray:A,strokeDashoffset:l?y:A,strokeLinecap:"round",style:{transform:`rotate(${b}deg)`,transition:"stroke-dashoffset 0.7s ease-out, stroke-width 0.2s ease-in-out",transitionDelay:l?`${T*150}ms`:"0ms"},"aria-label":`${z.label}: ${Math.round(z.grams)}g, ${Math.round(z.percent)}%`})},T)})]}),v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center transform rotate-90 text-center","aria-hidden":"true",children:[v.jsx("span",{className:"text-slate-100 font-bold leading-tight",style:{fontSize:Math.max(12,s/5.5)},children:Math.round(i)}),v.jsx("span",{className:"text-slate-300 uppercase leading-tight",style:{fontSize:Math.max(8,s/10)},children:"kcal"}),m>0&&v.jsxs("span",{className:"text-slate-400 mt-0.5",style:{fontSize:Math.max(8,s/11)},children:[Math.round(m),"g Macros"]})]})]}),h&&g.current&&v.jsxs("div",{className:"absolute p-2 bg-slate-800 text-white text-xs rounded-md shadow-lg pointer-events-none z-10 border border-slate-600",style:{top:`calc(${g.current.getBoundingClientRect().top+window.scrollY+s/2-15}px)`,left:`calc(${g.current.getBoundingClientRect().left+window.scrollX+s/2-30}px)`,transform:"translate(-50%, -50%)"},role:"tooltip",children:[h.label,": ",Math.round(h.grams),"g (",Math.round(h.percent),"%)"]}),a&&m>0&&v.jsxs("div",{className:"mt-3 space-y-1 text-sm w-full","aria-label":"Macro legend",children:[" ",E.map(z=>z.percent>0&&v.jsxs("div",{className:"flex items-center justify-between px-1",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("span",{className:"w-2.5 h-2.5 rounded-full mr-2",style:{backgroundColor:z.color},"aria-hidden":"true"}),v.jsx("span",{className:"text-slate-300",children:z.label})]}),v.jsxs("span",{className:"text-slate-200 font-medium",children:[Math.round(z.grams),"g (",Math.round(z.percent),"%)"]})]},z.label))]})]})},k_=({mealData:t,editingMode:e,onUpdateMealData:n,onSave:i,onClose:s,onSaveAsTemplate:r})=>{const[a,l]=W.useState(t),[u,h]=W.useState(!1),d=W.useRef(null),[g,m]=W.useState(""),[_,C]=W.useState([]),[D,k]=W.useState(!1),[A,E]=W.useState(null),[S,O]=W.useState(!0),[B,z]=W.useState(!1);W.useEffect(()=>{l(t),m(""),C([]),E(null)},[t]),W.useEffect(()=>{u&&d.current&&(d.current.focus(),d.current.select())},[u]);const T=a.ingredients.reduce((j,se)=>{const ve=parseFloat(String(se.grams))||0;return j.calories+=(parseFloat(String(se.calories100g))||0)/100*ve,j.protein+=(parseFloat(String(se.protein100g))||0)/100*ve,j.fat+=(parseFloat(String(se.fat100g))||0)/100*ve,j.carbs+=(parseFloat(String(se.carbs100g))||0)/100*ve,j},{calories:0,protein:0,fat:0,carbs:0}),y=j=>{l(se=>({...se,name:j.target.value}))},b=()=>{const j=a.name.trim();j===""?(l(se=>({...se,name:t.name})),n({name:t.name})):j!==t.name&&n({name:j}),h(!1)},w=()=>{l(j=>({...j,name:t.name})),n({name:t.name}),h(!1)},x=j=>{const se={id:Si(),name:"",calories100g:0,protein100g:0,fat100g:0,carbs100g:0,grams:0,...j,isNew:!0},ve=[...a.ingredients,se];l(Ee=>({...Ee,ingredients:ve})),n({ingredients:ve})},I=j=>{const se=a.ingredients.filter(ve=>ve.id!==j);l(ve=>({...ve,ingredients:se})),n({ingredients:se})},R=(j,se)=>{const ve=a.ingredients.map(Ee=>Ee.id===j?{...Ee,...se,isNew:!1}:Ee);l(Ee=>({...Ee,ingredients:ve})),n({ingredients:ve})},Se=W.useCallback(async()=>{if(!g.trim()){E("Please enter a food item to search."),C([]);return}k(!0),E(null),C([]);try{let j=[];B?j=await MD(g):j=await VD(g,S),C(j),j.length===0&&E(`No results for "${g}". Try different terms or filters.`)}catch(j){E(`Search failed: ${j.message}.`)}finally{k(!1)}},[g,B,S]),mt=j=>{var ve,Ee,Pe,Dt,Ot;let se;if(j.source==="USDA"){const Mt=j,nt=(us,Sn)=>Mt.foodNutrients.find(jn=>jn.nutrientId===us||Sn&&jn.nutrientNumber===Sn);se={name:Mt.description||"Unknown USDA Product",calories100g:Ve(((ve=nt(1008,"208"))==null?void 0:ve.value)||((Ee=nt(2047))==null?void 0:Ee.value)||0),protein100g:Ve(((Pe=nt(1003,"203"))==null?void 0:Pe.value)||0),fat100g:Ve(((Dt=nt(1004,"204"))==null?void 0:Dt.value)||0),carbs100g:Ve(((Ot=nt(1005,"205"))==null?void 0:Ot.value)||0),grams:100,source:"USDA"}}else{const Mt=j,nt=Mt.nutriments||{},us=Mt.product_name_en||Mt.product_name||Mt.generic_name_en||Mt.generic_name||"Unknown Product";let Sn=parseFloat(String(nt["energy-kcal_100g"]));isNaN(Sn)&&nt.energy_100g&&(Sn=(parseFloat(String(nt.energy_100g))||0)/4.184),se={name:us+(Mt.brands?` - ${Mt.brands}`:""),calories100g:Ve(Sn||0),protein100g:Ve(parseFloat(String(nt.proteins_100g))||0),fat100g:Ve(parseFloat(String(nt.fat_100g))||0),carbs100g:Ve(parseFloat(String(nt.carbohydrates_100g))||0),grams:OD(Mt.serving_size)||100,source:"OpenFoodFacts"}}x(se),m(""),C([]),E(null)},G=()=>x(),ee=j=>{z(j.target.checked),C([]),E(null),j.target.checked},te=()=>{i(a)};return v.jsxs("div",{className:"p-4 sm:p-6",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4 mb-6 pb-4 border-b border-slate-700",children:[v.jsxs("div",{className:"flex-grow min-w-0",children:[u?v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{ref:d,type:"text",value:a.name,onChange:y,onBlur:b,onKeyDown:j=>{j.key==="Enter"&&b(),j.key==="Escape"&&w()},className:"font-heading bg-slate-700 text-slate-100 p-2 rounded-md text-xl sm:text-2xl font-semibold border-2 border-teal-500 focus:ring-2 focus:ring-teal-500/80 outline-none flex-grow min-w-0","aria-label":"Edit meal name input"}),v.jsx("button",{onClick:b,className:"p-2 text-green-400 hover:text-green-300","aria-label":"Save meal name",children:v.jsx(_O,{size:22})}),v.jsx("button",{onClick:w,className:"p-2 text-red-400 hover:text-red-300","aria-label":"Cancel editing meal name",children:v.jsx(TO,{size:22})})]}):v.jsxs("div",{className:"flex items-center",children:[v.jsx("h3",{className:"font-heading text-xl sm:text-2xl font-semibold text-teal-400 hover:text-teal-300 cursor-pointer truncate",onClick:()=>h(!0),title:`Edit: ${a.name}`,children:a.name}),v.jsx("button",{onClick:()=>h(!0),className:"ml-2 p-1.5 text-slate-400 hover:text-teal-400","aria-label":"Edit meal name",children:v.jsx(lO,{size:20})})]}),v.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[a.ingredients.length," ingredient(s)."]})]}),v.jsx("div",{className:"ml-auto flex-shrink-0",children:v.jsx(xO,{protein:Ve(T.protein),carbs:Ve(T.carbs),fat:Ve(T.fat),totalCalories:Ve(T.calories),size:150,strokeWidth:18,showLegend:!0})})]}),v.jsxs("div",{className:"p-4 bg-slate-700/50 rounded-lg border border-slate-600/60 mb-6",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-3 items-stretch",children:[v.jsx("input",{type:"text",value:g,onChange:j=>m(j.target.value),onKeyPress:j=>j.key==="Enter"&&Se(),className:"w-full bg-slate-600 text-slate-100 p-3 rounded-md border border-slate-500 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none placeholder-slate-400 flex-grow",placeholder:"Search food to add ingredients..."}),v.jsxs("button",{onClick:Se,disabled:D||!g.trim()||B&&!1,className:"bg-teal-600 hover:bg-teal-700 text-white font-medium py-3 px-5 rounded-md shadow hover:shadow-lg transition-all flex items-center justify-center disabled:opacity-60",children:[D?v.jsx(Iu,{size:20,className:"animate-spin mr-2"}):v.jsx(mO,{size:20,className:"mr-2"}),D?"Searching...":"Search"]})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-x-6 gap-y-2 mb-3 text-sm",children:[v.jsxs("label",{className:"flex items-center text-slate-300 cursor-pointer py-1",children:[v.jsx("input",{type:"checkbox",checked:B,onChange:ee,className:"mr-2 h-4 w-4 rounded bg-slate-500 border-slate-400 text-green-500 accent-green-500"}),v.jsx(D_,{size:18,className:"mr-1.5 text-green-400"})," Generic Foods (USDA)"]}),!B&&v.jsxs("label",{className:"flex items-center text-slate-300 cursor-pointer py-1",children:[v.jsx("input",{type:"checkbox",checked:S,onChange:j=>O(j.target.checked),className:"mr-2 h-4 w-4 rounded bg-slate-500 border-slate-400 text-sky-500 accent-sky-500"}),v.jsx(O_,{size:18,className:"mr-1.5 text-sky-400"})," Packaged Foods Found in Stores"]})]}),A&&v.jsxs("p",{className:"text-sm text-red-300 my-2 p-2.5 bg-red-900/50 border border-red-700 rounded-md flex items-center",children:[v.jsx(aA,{size:18,className:"mr-2"})," ",A]}),_.length>0&&v.jsx("div",{className:"mt-3 space-y-1.5 max-h-60 overflow-y-auto pr-1 custom-scrollbar",children:_.map(j=>{const se=j.fdcId||j.code||Math.random().toString(),ve=j.source==="USDA"?j.description:j.product_name_en||j.product_name||"Unknown Product",Ee=j.source==="USDA"?`USDA (${j.dataType||"Generic"})`:j.brands||"N/A";return v.jsxs("div",{className:"p-2.5 bg-slate-600 hover:bg-slate-500/80 rounded-md flex justify-between items-center text-sm gap-2",children:[v.jsxs("div",{className:"flex-grow min-w-0 flex items-center",children:[j.source==="USDA"?v.jsx(D_,{size:18,className:"text-green-400 mr-2 flex-shrink-0"}):v.jsx(O_,{size:18,className:"text-sky-400 mr-2 flex-shrink-0"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-slate-100 truncate",title:ve,children:ve}),v.jsx("p",{className:"text-xs text-slate-400 truncate",title:Ee,children:Ee})]})]}),v.jsxs("button",{onClick:()=>mt(j),className:"bg-green-500 hover:bg-green-600 text-white text-xs font-medium py-1.5 px-3 rounded-md shadow transition-colors flex-shrink-0",children:[v.jsx(Rc,{size:18,className:"inline mr-1"})," Add"]})]},se)})})]}),v.jsx("div",{className:"overflow-x-auto rounded-lg border border-slate-700 shadow-inner bg-slate-800/60",children:v.jsxs("table",{className:"min-w-full divide-y divide-slate-700",children:[v.jsx("thead",{className:"bg-slate-700/50",children:v.jsxs("tr",{children:[v.jsx("th",{scope:"col",className:"w-1/3 px-4 py-3 text-left text-sm font-semibold text-slate-300 uppercase tracking-wider",children:"Ingredient"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-sm font-semibold text-slate-300 uppercase tracking-wider",children:"Cal/100g"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-sm font-semibold text-slate-300 uppercase tracking-wider",children:"Prot/100g"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-sm font-semibold text-slate-300 uppercase tracking-wider",children:"Fat/100g"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-sm font-semibold text-slate-300 uppercase tracking-wider",children:"Carb/100g"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-sm font-semibold text-slate-300 uppercase tracking-wider",children:"Grams"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-sm font-semibold text-slate-300 uppercase tracking-wider",children:"Calories"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-sm font-semibold text-slate-300 uppercase tracking-wider",children:"Protein"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-sm font-semibold text-slate-300 uppercase tracking-wider",children:"Fat"}),v.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-sm font-semibold text-slate-300 uppercase tracking-wider",children:"Carbs"}),v.jsx("th",{scope:"col",className:"px-4 py-3 text-center text-sm font-semibold text-slate-300 uppercase tracking-wider",children:"Action"})]})}),v.jsxs("tbody",{className:"divide-y divide-slate-700/60",children:[a.ingredients.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:11,className:"px-6 py-8 text-center text-slate-400 italic",children:"No ingredients added yet. Add some using search or manually."})}),a.ingredients.map((j,se)=>v.jsx(RO,{ingredient:j,onUpdate:ve=>R(j.id,ve),onRemove:()=>I(j.id)},j.id))]}),a.ingredients.length>0&&v.jsx("tfoot",{className:"bg-slate-700/50",children:v.jsxs("tr",{children:[v.jsx("td",{className:"px-4 py-3 text-left font-semibold text-slate-100 text-sm",children:"Total"}),v.jsx("td",{colSpan:5})," ",v.jsx("td",{className:"px-3 py-3 text-center font-semibold text-slate-100 text-sm",children:Ve(T.calories)}),v.jsx("td",{className:"px-3 py-3 text-center font-semibold text-slate-100 text-sm",children:Ve(T.protein)}),v.jsx("td",{className:"px-3 py-3 text-center font-semibold text-slate-100 text-sm",children:Ve(T.fat)}),v.jsx("td",{className:"px-3 py-3 text-center font-semibold text-slate-100 text-sm",children:Ve(T.carbs)}),v.jsx("td",{})," "]})})]})}),v.jsxs("button",{onClick:G,className:"mt-6 bg-green-600 hover:bg-green-700 text-white font-medium py-2.5 px-5 rounded-lg shadow flex items-center justify-center w-full sm:w-auto",children:[v.jsx(Rc,{size:20,className:"mr-2"})," Add Ingredient Manually"]}),v.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-700 flex flex-col sm:flex-row justify-end gap-3",children:[e==="instance"&&r&&v.jsxs("button",{onClick:()=>r(a),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2.5 px-5 rounded-lg shadow-md flex items-center justify-center",children:[v.jsx(AO,{size:18,className:"mr-2"})," Save as New Template"]}),v.jsxs("button",{onClick:te,className:"bg-teal-600 hover:bg-teal-700 text-white font-medium py-2.5 px-5 rounded-lg shadow-md flex items-center justify-center",children:[v.jsx(fO,{size:18,className:"mr-2"})," Save ",e==="template"?"Template":"Meal to Day"]}),v.jsx("button",{onClick:s,className:"bg-slate-600 hover:bg-slate-500 text-slate-100 font-medium py-2.5 px-5 rounded-lg shadow-md",children:"Close"})]})]})},IO=()=>{const t=async()=>{try{const e=new Qn;await TI(Qd,e)}catch(e){console.error("Google Sign-In Error:",e),alert(`Sign-in failed: ${e.message}. Please try again.`)}};return v.jsxs("button",{onClick:t,className:"flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-sky-500 shadow-md hover:shadow-lg transition-all duration-150 auth-button-glow","aria-label":"Sign in with Google",children:[v.jsxs("svg",{className:"w-5 h-5 mr-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px",children:[v.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),v.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),v.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),v.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.574l0.007-0.004l6.19,5.238C39.904,36.086,44,30.606,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),"Sign in with Google"]})},er=t=>t.toISOString().split("T")[0],CO=t=>{const e=[];for(let n=0;n<7;n++){const i=new Date(t);i.setDate(t.getDate()+n),e.push(i)}return e},su=(t,e="short")=>t.toLocaleDateString(void 0,{weekday:e});function NO(){const[t,e]=W.useState(null),[n,i]=W.useState([]),[s,r]=W.useState({}),[a,l]=W.useState(new Date),[u,h]=W.useState({}),[d,g]=W.useState(!0),[m,_]=W.useState(!1),[C,D]=W.useState(null),[k,A]=W.useState(null),[E,S]=W.useState(null),[O,B]=W.useState(!1),[z,T]=W.useState([]),[y,b]=W.useState(!1),[w,x]=W.useState(null),[I,R]=W.useState(null),[Se,mt]=W.useState(null),[G,ee]=W.useState(null),te=W.useMemo(()=>{const M=a.getDay(),q=a.getDate()-M+(M===0?-6:1),F=new Date(a);return F.setDate(q),F},[a]),j=W.useMemo(()=>CO(te),[te]);W.useEffect(()=>{const M=eI(Qd,q=>{e(q),q?se(q):(i(iu.map(F=>({...F,createdAt:F.createdAt||Date.now()}))),h({}),r({}),g(!1),A("Using default meal templates. Sign in to save and sync your plans."))});return()=>M()},[]);const se=async M=>{g(!0),D(null),A("Syncing your data...");try{const q=Ws(pn,"mealLibraries",M.uid),F=await wD(q);let J=[];F.exists()?J=(F.data().meals||[]).map(pe=>({...pe,createdAt:pe.createdAt||Date.now()})).sort((pe,Lt)=>(pe.createdAt||0)-(Lt.createdAt||0)):(J=iu.map(pe=>({...pe,id:pe.id||Si(),name:pe.name,ingredients:pe.ingredients||[],createdAt:pe.createdAt||Date.now()})),await nu(q,{meals:J})),i(J);const X=j.map(pe=>er(pe)),$={},Q=Zl(pn,`userDailyPlans/${M.uid}/plans`);if(X.length>0){const pe=Wl(Q,eu(Jl(),"in",X));(await tu(pe)).forEach(gt=>{$[gt.id]={...gt.data(),date:gt.id}})}X.forEach(pe=>{$[pe]||($[pe]={date:pe,mealAssignments:[]})}),h($);const re=new Set;Object.values($).forEach(pe=>{pe.mealAssignments.forEach(Lt=>re.add(Lt.instanceId))});const Ne=Array.from(re),De={};if(Ne.length>0){const pe=Zl(pn,`userMealInstances/${M.uid}/instances`),Lt=30;for(let gt=0;gt<Ne.length;gt+=Lt){const cs=Ne.slice(gt,gt+Lt);if(cs.length>0){const ya=Wl(pe,eu(Jl(),"in",cs));(await tu(ya)).forEach(_a=>{De[_a.id]={..._a.data(),id:_a.id}})}}}r(De),A("Data synced successfully!")}catch(q){console.error("Firestore load error:",q),D("Could not load cloud data. Using local defaults. "+q.message);const F=iu.map(X=>({...X,id:X.id||Si(),name:X.name,ingredients:X.ingredients||[],createdAt:X.createdAt||Date.now()}));i(F);const J={};j.map(er).forEach(X=>{J[X]={date:X,mealAssignments:[]}}),h(J),r({})}finally{g(!1)}};W.useEffect(()=>{if(d||!t||!n.length)return;const M=setTimeout(async()=>{_(!0);const q=Ws(pn,"mealLibraries",t.uid);try{const F=n.map(J=>({...J,ingredients:J.ingredients.map(({isNew:X,isRemoving:$,...Q})=>Q)}));await nu(q,{meals:F},{merge:!0}),A("Meal library saved.")}catch(F){console.error("Error saving meal library:",F),D("Failed to save meal library.")}finally{_(!1)}},2e3);return()=>clearTimeout(M)},[n,t,d]);const ve=async(M,q=!0)=>{if(!t)return D("You must be signed in to save meal details."),!1;_(!0);try{const F=Ws(pn,`userMealInstances/${t.uid}/instances`,M.id),J={...M,ingredients:M.ingredients.map(({isNew:X,isRemoving:$,...Q})=>Q)};return await nu(F,J),r(X=>({...X,[M.id]:J})),q&&A(`Meal "${M.name}" details saved.`),!0}catch(F){return console.error(`Error saving meal instance ${M.id}:`,F),D(`Failed to save meal "${M.name}".`),!1}finally{_(!1)}},Ee=async(M,q)=>{if(!t){D("You must be signed in to save plans.");return}_(!0);try{const F=Ws(pn,`userDailyPlans/${t.uid}/plans`,M),J=q.mealAssignments.map(X=>({instanceId:X.instanceId,mealName:X.mealName}));await nu(F,{...q,mealAssignments:J}),A(`Plan for ${M} saved.`)}catch(F){console.error(`Error saving plan for ${M}:`,F),D(`Failed to save plan for ${M}.`)}finally{_(!1)}},Pe=()=>{x({id:Si(),name:`New Meal Template ${n.length+1}`,ingredients:[],createdAt:Date.now()}),b(!1)},Dt=M=>{const q=n.some(X=>X.id===M.id);let F;q?F=n.map(X=>X.id===M.id?{...M,createdAt:M.createdAt||Date.now()}:X):F=[...n,{...M,createdAt:M.createdAt||Date.now()}],i(F.sort((X,$)=>(X.createdAt||0)-($.createdAt||0)));const J={...u};Object.keys(J).forEach(X=>{J[X].mealAssignments=J[X].mealAssignments.map($=>{var re;const Q=s[$.instanceId];if(Q&&Q.templateId===M.id&&Q.name!==M.name){const Ne=(re=n.find(De=>De.id===M.id))==null?void 0:re.name;if(Q.name===Ne){const De={...Q,name:M.name};return ve(De,!1),{...$,mealName:M.name}}}return $})}),h(J),x(null),A(`Meal template "${M.name}" saved.`)},Ot=async M=>{if(window.confirm("Are you sure you want to delete this meal template? This will NOT remove meals already planned on your days that were based on this template, but they will lose their link to it.")){i(F=>F.filter(J=>J.id!==M));const q=[];if(Object.values(s).forEach(F=>{if(F.templateId===M){const J={...F,templateId:void 0};q.push(J)}}),q.length>0&&t){const F=CD(pn);q.forEach(J=>{const X=Ws(pn,`userMealInstances/${t.uid}/instances`,J.id);F.update(X,{templateId:void 0})}),await F.commit(),r(J=>{const X={...J};return q.forEach($=>X[$.id]=$),X})}A("Meal template deleted.")}},Mt=M=>{mt(M),R({id:Si(),name:"New Quick Meal",ingredients:[],createdAt:Date.now()}),S(null)},nt=(M,q)=>{const F=s[M];F&&(R({...F}),mt(q),S(null))},us=async M=>{var F,J;if(await ve(M)&&Se)if((F=u[Se])!=null&&F.mealAssignments.some(X=>X.instanceId===M.id)){const X=u[Se];if(X){const $=X.mealAssignments.map(Q=>Q.instanceId===M.id?{...Q,mealName:M.name}:Q);if(JSON.stringify($)!==JSON.stringify(X.mealAssignments)){const Q={...X,mealAssignments:$};h(re=>({...re,[Se]:Q})),Ee(Se,Q)}}}else{const X={instanceId:M.id,mealName:M.name},$={...u[Se]||{date:Se,mealAssignments:[]},mealAssignments:[...((J=u[Se])==null?void 0:J.mealAssignments)||[],X]};h(Q=>({...Q,[Se]:$})),Ee(Se,$)}R(null),mt(null)},Sn=M=>{if(!M)return;const q={id:Si(),name:M.name+" (template)",ingredients:JSON.parse(JSON.stringify(M.ingredients)),createdAt:Date.now()};Dt(q),A(`"${M.name}" also saved as new template "${q.name}".`)},jn=async(M,q)=>{var re;const F=n.find(Ne=>Ne.id===M);if(!F||!t){D("Meal template not found or user not signed in.");return}const J={id:Si(),templateId:F.id,name:F.name,ingredients:JSON.parse(JSON.stringify(F.ingredients)),createdAt:Date.now()};if(!await ve(J))return;const $={instanceId:J.id,mealName:J.name},Q={...u[q]||{date:q,mealAssignments:[]},mealAssignments:[...((re=u[q])==null?void 0:re.mealAssignments)||[],$]};h(Ne=>({...Ne,[q]:Q})),Ee(q,Q),ee(null),S(q)},Gs=async(M,q)=>{const F=u[q];if(F&&window.confirm("Are you sure you want to remove this meal from this day? The meal instance data will be deleted if not used elsewhere.")){const J=F.mealAssignments.filter(Q=>Q.instanceId!==M),X={...F,mealAssignments:J};h(Q=>({...Q,[q]:X})),Ee(q,X);let $=!1;for(const Q in u)if(Q!==q&&u[Q].mealAssignments.some(re=>re.instanceId===M)){$=!0;break}if(!$&&t)try{const Q=Ws(pn,`userMealInstances/${t.uid}/instances`,M);await RD(Q),r(re=>{const Ne={...re};return delete Ne[M],Ne}),A("Meal removed from day and instance data deleted.")}catch(Q){console.error("Error deleting meal instance:",Q),D("Meal removed from day, but failed to delete instance data.")}else A("Meal removed from day.")}},ma=()=>l(M=>new Date(new Date(M).setDate(M.getDate()-7))),ga=()=>l(M=>new Date(new Date(M).setDate(M.getDate()+7)));W.useEffect(()=>{if(t&&!d){const q=j.map(F=>er(F)).filter(F=>!u[F]);if(q.length>0){g(!0);const F=Zl(pn,`userDailyPlans/${t.uid}/plans`),J=Wl(F,eu(Jl(),"in",q));tu(J).then(async X=>{const $={};X.forEach(De=>{$[De.id]={...De.data(),date:De.id}}),q.forEach(De=>{$[De]||($[De]={date:De,mealAssignments:[]})});const Q=new Set;Object.values($).forEach(De=>{De.mealAssignments.forEach(pe=>{s[pe.instanceId]||Q.add(pe.instanceId)})});const re=Array.from(Q),Ne={};if(re.length>0){const De=Zl(pn,`userMealInstances/${t.uid}/instances`),pe=30;for(let Lt=0;Lt<re.length;Lt+=pe){const gt=re.slice(Lt,Lt+pe);if(gt.length>0){const cs=Wl(De,eu(Jl(),"in",gt));(await tu(cs)).forEach(mi=>{Ne[mi.id]={...mi.data(),id:mi.id}})}}}h(De=>({...De,...$})),r(De=>({...De,...Ne})),g(!1)}).catch(X=>{console.error("Error fetching new week data:",X),D("Failed to load plans for the selected week."),g(!1)})}}},[j,t,d]);const Qs=W.useCallback(()=>{const M={};j.forEach(q=>{const F=er(q),J=u[F];J&&J.mealAssignments.forEach(X=>{const $=s[X.instanceId];$&&$.ingredients.forEach(Q=>{const re=(Q.name+(Q.source||"")).toLowerCase(),Ne=parseFloat(String(Q.grams))||0;M[re]||(M[re]={id:re,ingredientName:Q.name,quantity:0,unit:"g",mealNames:[],checked:!1,source:Q.source}),M[re].quantity+=Ne,M[re].mealNames.includes($.name)||M[re].mealNames.push($.name)})})}),T(Object.values(M).sort((q,F)=>q.ingredientName.localeCompare(F.ingredientName)))},[s,u,j]);W.useEffect(()=>{O&&Qs()},[O,Qs]);const pa=M=>T(q=>q.map(F=>F.id===M?{...F,checked:!F.checked}:F)),dl=()=>T(M=>M.filter(q=>!q.checked)),fh=()=>{const M=window.open("","_blank");M?(M.document.write(`
        <html><head><title>Shopping List</title><style>body{font-family:sans-serif;margin:20px}h1{text-align:center}ul{list-style-type:none;padding:0}li{margin-bottom:10px;padding:8px;border-bottom:1px solid #eee}.checked{text-decoration:line-through;color:#888}.quantity{font-style:italic;color:#555;margin-left:5px}.meals{font-size:0.9em;color:#777;margin-left:10px}</style></head>
        <body><h1>Shopping List</h1><ul>
        ${z.map(q=>`<li class="${q.checked?"checked":""}"><strong>${q.ingredientName}</strong><span class="quantity">${Ve(q.quantity,1)}${q.unit}</span><span class="meals">(For: ${q.mealNames.join(", ")})</span></li>`).join("")}
        </ul><script>setTimeout(()=>{window.print();window.close();},250)<\/script></body></html>`),M.document.close()):alert("Could not open print window. Please check pop-up settings.")},dh=M=>{const q=u[M];let F={calories:0,protein:0,fat:0,carbs:0};return q&&q.mealAssignments.forEach(J=>{const X=s[J.instanceId];X&&X.ingredients.forEach($=>{const Q=parseFloat(String($.grams))||0;F.calories+=(parseFloat(String($.calories100g))||0)/100*Q,F.protein+=(parseFloat(String($.protein100g))||0)/100*Q,F.fat+=(parseFloat(String($.fat100g))||0)/100*Q,F.carbs+=(parseFloat(String($.carbs100g))||0)/100*Q})}),{calories:Ve(F.calories),protein:Ve(F.protein),fat:Ve(F.fat),carbs:Ve(F.carbs)}};W.useEffect(()=>{let M,q;return C&&(M=setTimeout(()=>D(null),7e3)),k&&(q=setTimeout(()=>A(null),7e3)),()=>{clearTimeout(M),clearTimeout(q)}},[C,k]);const ml=async()=>{try{await tI(Qd),A("You have been logged out successfully."),i(iu.map(M=>({...M,createdAt:M.createdAt||Date.now()}))),h({}),r({}),l(new Date),S(null)}catch(M){console.error(M),D("Failed to log out. Please try again.")}};return d&&!t?v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-950 text-slate-100 flex flex-col items-center justify-center p-4",children:[v.jsx(Iu,{className:"animate-spin h-16 w-16 text-teal-400 mb-6"}),v.jsx("div",{className:"text-xl font-medium font-heading text-slate-300",children:"Initializing Meal Planner..."})]}):v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-950 text-slate-100 p-2 md:p-4 lg:p-6 selection:bg-teal-500 selection:text-white",children:[v.jsxs("header",{className:"mb-8 max-w-7xl mx-auto",children:[v.jsx("div",{className:"auth-container bg-slate-800/70 backdrop-blur-md p-3 sm:p-4 rounded-xl shadow-lg mb-6 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4 border border-slate-700/50",children:t?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center",children:[t.photoURL?v.jsx("img",{src:t.photoURL,alt:"User",className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full mr-3 border-2 border-teal-400 shadow-md object-cover"}):v.jsx(JD,{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full mr-3 text-teal-400"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm sm:text-base font-semibold text-slate-100 font-heading truncate max-w-[150px] sm:max-w-xs",children:t.displayName||"User"}),v.jsx("p",{className:"text-xs sm:text-sm text-slate-400 truncate max-w-[150px] sm:max-w-xs",children:t.email})]})]}),v.jsxs("button",{onClick:ml,className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg text-sm shadow-md hover:shadow-lg transition-all duration-150 flex items-center group",children:[v.jsx(aO,{size:20,className:"mr-2 group-hover:animate-pulse-gentle-hover"})," Log Out"]})]}):v.jsxs("div",{className:"flex flex-col items-center w-full text-center py-1",children:[v.jsx("p",{className:"text-sm text-slate-300 mb-2",children:"Sign in to save & sync your meal plans."}),v.jsx(IO,{})]})}),v.jsxs("div",{className:"text-center mb-6",children:[v.jsx(FD,{size:50,className:"text-teal-400 mb-2 mx-auto"}),v.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight font-heading",children:v.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-green-400 via-teal-400 to-sky-500",children:"Shivam's Calorie Tracking App"})})]}),v.jsxs("div",{className:"fixed top-4 right-4 z-[100] space-y-2 w-full max-w-xs sm:max-w-sm",children:[C&&v.jsxs("div",{className:"p-3 bg-red-600/90 backdrop-blur-sm text-white rounded-lg shadow-xl flex items-center space-x-2 animate-slideInTopRight",role:"alert",children:[v.jsx(aA,{size:20}),v.jsx("span",{children:C})]}),k&&v.jsxs("div",{className:"p-3 bg-green-600/90 backdrop-blur-sm text-white rounded-lg shadow-xl flex items-center space-x-2 animate-slideInTopRight",role:"status",children:[v.jsx(qD,{size:20}),v.jsx("span",{children:k})]}),m&&!d&&v.jsxs("div",{className:"p-3 bg-sky-600/90 backdrop-blur-sm text-white rounded-lg shadow-xl flex items-center space-x-2 animate-fadeIn",role:"status",children:[v.jsx(Iu,{size:20,className:"animate-spin"}),v.jsx("span",{children:"Saving..."})]})]})]}),d&&t&&v.jsxs("div",{className:"min-h-[50vh] flex flex-col items-center justify-center p-4",children:[v.jsx(Iu,{className:"animate-spin h-12 w-12 text-teal-400 mb-4"}),v.jsx("div",{className:"text-lg font-medium font-heading text-slate-300",children:"Loading week data..."})]}),!d&&v.jsxs("main",{className:"max-w-7xl mx-auto",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-6 px-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:ma,className:"p-3 bg-slate-700 hover:bg-slate-600 rounded-lg text-slate-200 shadow transition-colors","aria-label":"Previous week",children:v.jsx(QD,{size:24})}),v.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold font-heading text-center text-slate-100 w-48 sm:w-64",children:[j[0].toLocaleDateString(void 0,{month:"short",day:"numeric"})," - ",j[6].toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})]}),v.jsx("button",{onClick:ga,className:"p-3 bg-slate-700 hover:bg-slate-600 rounded-lg text-slate-200 shadow transition-colors","aria-label":"Next week",children:v.jsx(YD,{size:24})})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[v.jsxs("button",{onClick:()=>{b(!0),S(null)},className:"bg-purple-600 hover:bg-purple-700 text-white font-medium py-2.5 px-5 rounded-lg shadow flex items-center justify-center",children:[v.jsx(Af,{size:20,className:"mr-2"})," Meal Library"]}),v.jsxs("button",{onClick:()=>B(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2.5 px-5 rounded-lg shadow flex items-center justify-center",children:[v.jsx(M_,{size:20,className:"mr-2"})," Shopping List"]})]})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-3 sm:gap-4",children:j.map(M=>{const q=er(M),F=u[q]||{mealAssignments:[]},J=dh(q),X=er(new Date)===q,$=E===q;return v.jsxs("div",{className:`day-card bg-slate-800/90 p-3 rounded-lg shadow-lg border ${X?"border-teal-500/70 ring-2 ring-teal-500/50":"border-slate-700/80"} flex flex-col transition-all duration-300 ease-out ${$?"col-span-1 sm:col-span-2 md:col-span-3 lg:col-span-7 min-h-[400px] shadow-2xl ring-2 ring-sky-500/60":"min-h-[280px] hover:shadow-xl"}`,onClick:()=>S($?null:q),children:[v.jsxs("div",{className:`flex justify-between items-center pb-2 mb-2 border-b ${X?"border-teal-600/50":"border-slate-700"}`,children:[v.jsx("h3",{className:`font-semibold font-heading ${X?"text-teal-400":"text-slate-200"} ${$?"text-xl":"text-base"}`,children:su(M,$?"long":"short")}),v.jsxs("span",{className:`text-xs ${X?"text-teal-300":"text-slate-400"} ${$?"text-sm":"text-xs"}`,children:[M.getDate()," ",$?M.toLocaleDateString(void 0,{month:"long"}):""]})]}),v.jsxs("div",{className:`text-slate-400 mb-3 space-y-1 ${$?"text-base grid grid-cols-2 gap-x-4 gap-y-1":"text-sm"}`,children:[v.jsxs("div",{className:$?"font-medium":"",children:["C: ",v.jsx("span",{className:`font-semibold ${$?"text-xl":"text-base"} text-slate-100`,children:J.calories})," ",v.jsx("span",{className:$?"text-slate-300":"text-slate-400",children:"kcal"})]}),v.jsxs("div",{className:$?"font-medium":"",children:["P: ",v.jsx("span",{className:`font-semibold ${$?"text-xl":"text-base"} text-slate-100`,children:J.protein})," ",v.jsx("span",{className:$?"text-slate-300":"text-slate-400",children:"g"})]}),v.jsxs("div",{className:$?"font-medium":"",children:["F: ",v.jsx("span",{className:`font-semibold ${$?"text-xl":"text-base"} text-slate-100`,children:J.fat})," ",v.jsx("span",{className:$?"text-slate-300":"text-slate-400",children:"g"})]}),v.jsxs("div",{className:$?"font-medium":"",children:["Cb: ",v.jsx("span",{className:`font-semibold ${$?"text-xl":"text-base"} text-slate-100`,children:J.carbs})," ",v.jsx("span",{className:$?"text-slate-300":"text-slate-400",children:"g"})]})]}),v.jsxs("div",{className:`meal-assignments-list flex-grow space-y-1.5 mb-2 overflow-y-auto max-h-[${$?"none":"150px"}] custom-scrollbar pr-1`,children:[F.mealAssignments.length===0&&v.jsx("p",{className:`text-xs text-slate-500 text-center py-4 ${$?"text-sm":""}`,children:"No meals planned."}),F.mealAssignments.map(Q=>{const re=s[Q.instanceId],Ne=re?re.name:Q.mealName,De=re?re.ingredients.length:0;return v.jsxs("div",{className:`bg-slate-700/70 p-2 rounded text-xs flex justify-between items-center group hover:bg-slate-600/90 ${$?"py-2.5 px-3":"py-1.5 px-2"}`,children:[v.jsxs("div",{children:[v.jsx("span",{className:`text-slate-100 truncate font-medium ${$?"text-sm":""}`,title:Ne,children:Ne}),$&&re&&v.jsxs("p",{className:"text-slate-400 text-xs",children:[De," ingredients"]})]}),$&&v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:pe=>{pe.stopPropagation(),nt(Q.instanceId,q)},className:"p-1.5 text-slate-300 hover:text-teal-400","aria-label":`Edit ${Ne}`,children:v.jsx(V_,{size:18})}),v.jsx("button",{onClick:pe=>{pe.stopPropagation(),Gs(Q.instanceId,q)},className:"p-1.5 text-slate-400 hover:text-red-400","aria-label":`Remove ${Ne}`,children:v.jsx(Cu,{size:18})})]})]},Q.instanceId)})]}),$&&v.jsxs("div",{className:"mt-auto pt-3 border-t border-slate-700 flex flex-col sm:flex-row gap-2",children:[v.jsxs("button",{onClick:Q=>{Q.stopPropagation(),Mt(q)},className:"bg-sky-600 hover:bg-sky-700 text-white text-sm font-medium py-2 px-3 rounded-md w-full flex items-center justify-center",children:[v.jsx(Rc,{size:18,className:"mr-1.5"})," Add Quick Meal"]}),v.jsxs("button",{onClick:Q=>{Q.stopPropagation(),ee(q),S(null)},className:"bg-purple-600 hover:bg-purple-700 text-white text-sm font-medium py-2 px-3 rounded-md w-full flex items-center justify-center",children:[v.jsx(Af,{size:18,className:"mr-1.5"})," Add from Library"]})]}),!$&&v.jsxs("button",{onClick:Q=>{Q.stopPropagation(),S(q)},className:"mt-auto bg-teal-600/80 hover:bg-teal-600 text-white text-xs font-medium py-1.5 px-2 rounded-md w-full transition-colors opacity-80 hover:opacity-100",children:[v.jsx(tO,{size:18,className:"inline mr-1"})," View/Edit Day"]})]},q)})})]}),y&&v.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-40 flex items-center justify-center p-4 animate-fadeIn",onClick:()=>b(!1),children:v.jsxs("div",{className:"bg-slate-800 p-5 sm:p-6 rounded-xl shadow-2xl w-full max-w-2xl border border-slate-700 max-h-[90vh] flex flex-col",onClick:M=>M.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center mb-4 pb-3 border-b border-slate-700",children:[v.jsxs("h2",{className:"text-2xl font-heading font-semibold text-purple-400 flex items-center",children:[v.jsx(Af,{size:28,className:"mr-3"})," Meal Library"]}),v.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-200 p-1","aria-label":"Close meal library",children:v.jsx(ja,{size:24})})]}),v.jsxs("button",{onClick:Pe,className:"mb-4 bg-green-600 hover:bg-green-700 text-white font-medium py-2.5 px-4 rounded-lg shadow flex items-center justify-center w-full sm:w-auto self-start",children:[v.jsx(Rc,{size:20,className:"mr-2"})," Create New Meal Template"]}),v.jsxs("div",{className:"overflow-y-auto flex-grow space-y-2 pr-1 custom-scrollbar",children:[n.length===0&&v.jsx("p",{className:"text-slate-400 text-center py-6",children:"Your meal library is empty. Create some templates!"}),n.map(M=>v.jsxs("div",{className:"bg-slate-700/80 p-3 rounded-lg flex justify-between items-center group",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-slate-100",children:M.name}),v.jsxs("p",{className:"text-xs text-slate-400",children:[M.ingredients.length," ingredients"]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>{x(M),b(!1)},className:"p-2 text-slate-300 hover:text-teal-400","aria-label":`Edit ${M.name}`,children:v.jsx(V_,{size:20})}),v.jsx("button",{onClick:()=>Ot(M.id),className:"p-2 text-slate-300 hover:text-red-400","aria-label":`Delete ${M.name}`,children:v.jsx(Cu,{size:20})})]})]},M.id))]})]})}),G&&v.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fadeIn",onClick:()=>{ee(null),S(G)},children:v.jsxs("div",{className:"bg-slate-800 p-5 sm:p-6 rounded-xl shadow-2xl w-full max-w-md border border-slate-700 max-h-[70vh] flex flex-col",onClick:M=>M.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center mb-4 pb-3 border-b border-slate-700",children:[v.jsxs("h2",{className:"text-xl font-heading font-semibold text-teal-400",children:["Assign Template to ",su(new Date(G),"long")," ",new Date(G).toLocaleDateString(void 0,{month:"short",day:"numeric"})]}),v.jsx("button",{onClick:()=>{ee(null),S(G)},className:"text-slate-400 hover:text-slate-200 p-1","aria-label":"Close assign meal",children:v.jsx(ja,{size:24})})]}),v.jsxs("div",{className:"overflow-y-auto flex-grow space-y-2 pr-1 custom-scrollbar",children:[n.length===0&&v.jsx("p",{className:"text-slate-400",children:"No meal templates in your library. Create one first!"}),n.map(M=>v.jsxs("button",{onClick:()=>jn(M.id,G),className:"w-full text-left bg-slate-700 hover:bg-slate-600 p-3 rounded-lg transition-colors",children:[v.jsx("h4",{className:"font-medium text-slate-100",children:M.name}),v.jsxs("p",{className:"text-xs text-slate-400",children:[M.ingredients.length," ingredients"]})]},M.id))]})]})}),w&&v.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md z-[60] p-2 sm:p-4 overflow-y-auto animate-fadeIn","aria-modal":"true",role:"dialog","aria-labelledby":"meal-template-editor-title",children:v.jsxs("div",{className:"max-w-4xl mx-auto my-6 bg-slate-800 rounded-xl shadow-2xl border border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[v.jsx("h2",{id:"meal-template-editor-title",className:"text-xl font-heading font-semibold text-teal-400",children:n.some(M=>M.id===w.id)?"Edit Meal Template":"Create New Meal Template"}),v.jsx("button",{onClick:()=>x(null),className:"text-slate-400 hover:text-slate-200 p-1","aria-label":"Close meal template editor",children:v.jsx(ja,{size:24})})]}),v.jsx(k_,{mealData:w,editingMode:"template",onUpdateMealData:M=>x(q=>q?{...q,...M}:null),onSave:Dt,onClose:()=>x(null)})]})}),I&&Se&&v.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-md z-[60] p-2 sm:p-4 overflow-y-auto animate-fadeIn","aria-modal":"true",role:"dialog","aria-labelledby":"meal-instance-editor-title",children:v.jsxs("div",{className:"max-w-4xl mx-auto my-6 bg-slate-800 rounded-xl shadow-2xl border border-slate-700",children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[v.jsx("h2",{id:"meal-instance-editor-title",className:"text-xl font-heading font-semibold text-sky-400",children:s[I.id]?`Edit Meal for ${su(new Date(Se),"long")}`:`Add New Meal to ${su(new Date(Se),"long")}`}),v.jsx("button",{onClick:()=>{R(null),mt(null),S(Se)},className:"text-slate-400 hover:text-slate-200 p-1","aria-label":"Close meal editor",children:v.jsx(ja,{size:24})})]}),v.jsx(k_,{mealData:I,editingMode:"instance",onUpdateMealData:M=>R(q=>q?{...q,...M}:null),onSave:us,onSaveAsTemplate:Sn,onClose:()=>{R(null),mt(null),S(Se)}})]})}),O&&v.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 transition-opacity duration-300 animate-fadeIn",onClick:()=>B(!1),children:v.jsxs("div",{className:"bg-slate-800 p-5 sm:p-6 rounded-xl shadow-2xl w-full max-w-xl border border-slate-700 max-h-[90vh] flex flex-col",onClick:M=>M.stopPropagation(),children:[v.jsxs("div",{className:"flex justify-between items-center mb-4 pb-3 border-b border-slate-700",children:[v.jsxs("h2",{className:"text-2xl font-heading font-semibold text-teal-400 flex items-center",children:[v.jsx(M_,{size:28,className:"mr-3"})," Shopping List (Current Week)"]}),v.jsx("button",{onClick:()=>B(!1),className:"text-slate-400 hover:text-slate-200 p-1",children:v.jsx(ja,{size:24})})]}),z.length===0?v.jsxs("div",{className:"text-center py-10 text-slate-400",children:[v.jsx(iO,{size:40,className:"mx-auto mb-3 text-slate-500"}),v.jsx("p",{children:"Shopping list is empty for this week."})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"overflow-y-auto flex-grow mb-4 pr-2 custom-scrollbar space-y-2.5",children:z.map(M=>v.jsxs("div",{className:`flex items-center p-3 rounded-lg transition-all ${M.checked?"bg-slate-700/60 border-slate-600/50 opacity-70":"bg-slate-700/90 hover:bg-slate-600/80 border-slate-600"}`,children:[v.jsx("input",{type:"checkbox",checked:M.checked,onChange:()=>pa(M.id),id:`sl-${M.id}`,className:"h-5 w-5 rounded bg-slate-500 border-slate-400 text-teal-500 focus:ring-teal-500 accent-teal-500 cursor-pointer mr-3.5"}),v.jsxs("label",{htmlFor:`sl-${M.id}`,className:"flex-grow cursor-pointer",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsx("span",{className:`font-medium ${M.checked?"line-through text-slate-400":"text-slate-100"}`,children:M.ingredientName}),v.jsxs("span",{className:`text-sm font-semibold ml-2 ${M.checked?"text-slate-500":"text-teal-300"}`,children:[Ve(M.quantity,1),M.unit]})]}),v.jsxs("div",{className:`text-xs mt-0.5 ${M.checked?"text-slate-500":"text-slate-400"}`,title:`For: ${M.mealNames.join(", ")}`,children:["Meals: ",M.mealNames.join(", ").length>50?M.mealNames.join(", ").substring(0,47)+"...":M.mealNames.join(", ")]})]})]},M.id))}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 pt-4 border-t border-slate-700",children:[v.jsxs("button",{onClick:dl,disabled:!z.some(M=>M.checked),className:"bg-red-600 hover:bg-red-700 text-white font-medium py-2.5 px-5 rounded-lg shadow w-full sm:w-auto disabled:opacity-50",children:[v.jsx(Cu,{size:20,className:"mr-2 inline"})," Clear Checked"]}),v.jsxs("button",{onClick:fh,disabled:z.length===0,className:"bg-sky-600 hover:bg-sky-700 text-white font-medium py-2.5 px-5 rounded-lg shadow w-full sm:w-auto disabled:opacity-50",children:[v.jsx(cO,{size:20,className:"mr-2 inline"})," Print List"]})]})]})]})}),v.jsx("footer",{className:"text-center text-slate-500 mt-16 py-6 border-t border-slate-700/50 text-sm",children:v.jsxs("p",{children:[" ",new Date().getFullYear()," Shivam's Calorie Tracking App.",t?" All changes are synced.":" Sign in to save progress."]})})]})}const oA=document.getElementById("root");if(!oA)throw new Error("Could not find root element to mount to");const DO=C2.createRoot(oA);DO.render(v.jsx(KA.StrictMode,{children:v.jsx(NO,{})}));
